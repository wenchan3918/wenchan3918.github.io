<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>今日開張</title>
    <url>/2022/11/12/first-article/</url>
    <content><![CDATA[<p>主要筆記:</p>
<ul>
<li>程式專案:專案過程研究的技術、架構、與遇到的問題分享。</li>
<li>金融知識</li>
<li>工具分享</li>
</ul>
<h2 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">金融知識,</span> <span class="string">Knowledge</span> <span class="string">of</span> <span class="string">finance,</span> <span class="string">know-l-edge</span> <span class="string">of</span> <span class="string">fin-ance</span></span><br><span class="line"><span class="string">架構,</span> <span class="string">Architecture,</span> <span class="string">arch-itec-ture</span></span><br><span class="line"><span class="string">研究過程,</span> <span class="string">Research</span> <span class="string">process,</span> <span class="string">re-search</span> <span class="string">pro-cess</span></span><br><span class="line"><span class="string">技術,</span> <span class="string">Technology,</span> <span class="string">tech-no-logy</span></span><br></pre></td></tr></table></figure>







]]></content>
  </entry>
  <entry>
    <title>git commit template plugin for IDEA IDE</title>
    <url>/2023/02/28/idea-ide-git-commit-template/</url>
    <content><![CDATA[<h1 id="Commit-Message-規範組成"><a href="#Commit-Message-規範組成" class="headerlink" title="Commit Message 規範組成"></a>Commit Message 規範組成</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 組成</span></span><br><span class="line">Header: &lt;<span class="built_in">type</span>&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class="line"> - <span class="built_in">type</span>(必填): 代表commit的類別：feat, fix, docs, style, refactor, <span class="built_in">test</span>, chore。</span><br><span class="line"> - scope(非必填): 代表commit影響的範圍，例如資料庫、控制層、模板層等等，可視專案需要調整。</span><br><span class="line"> - subject(必填): 代表此commit的簡短描述，不要超過 50 個字元，**結尾不要加句號**。</span><br><span class="line"></span><br><span class="line">Body:(非必填)</span><br><span class="line"> * 交付詳細描述，可以分成多行，每一行不要超過72個字元。</span><br><span class="line"> * 說明程式碼變動的項目與原因，還有與先前行為的對比以及參考連結。</span><br><span class="line"></span><br><span class="line">Footer: </span><br><span class="line"> - Closed issues(非必填): 填寫任務編號。</span><br><span class="line"> - Breaking changes(非必填): 記錄不兼容的變動，以『BREAKING CHANGE:』開頭，後面是對變動的描述、以及變動原因和遷移方法。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># type items:</span></span><br><span class="line">feat: 新增/修改功能 (feature)。</span><br><span class="line">fix: 修補 bug (bug fix)。</span><br><span class="line">docs: 文件 (documentation)。</span><br><span class="line">style: 格式 (不影響程式碼運行的變動 white-space, formatting, missing semi colons, etc)。</span><br><span class="line">refactor: 重構 (既不是新增功能，也不是修補 bug 的程式碼變動)。</span><br><span class="line">perf: 改善效能 (A code change that improves performance)。</span><br><span class="line"><span class="built_in">test</span>: 增加測試 (when adding missing tests)。</span><br><span class="line">build: 影響構建系統或外部依賴項的更改(範圍：gulp、broccoli、npm)。</span><br><span class="line">ci: 更改CI配置文件和腳本(範圍：Travis、Circle、BrowserStack、SaucelLabs)。</span><br><span class="line">chore: 建構程序或輔助工具的變動 (maintain)。</span><br><span class="line">revert: 撤銷恢復先前的commit，例如：revert: 恢復版本:xxxx。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 範例</span></span><br><span class="line">* bda94f08 fix: 修正Pseudo語言翻譯</span><br><span class="line">* 9ae9b3b8 fix: 修正Pseudo觸發cms api接口</span><br><span class="line">* 13b2e26d ci: 部署prod時自動產生commit report txt.</span><br><span class="line">* 00923cb6 refactor: serializers</span><br><span class="line">* ef7d8785 feat: 路燈API加入<span class="built_in">enable</span>過濾</span><br><span class="line">* e34ad2f3 feat: 路燈維護-&gt;<span class="built_in">disable</span>/enable加入權限限制</span><br><span class="line">* 3b631819 feat: streetLamp add is_enable and actions(<span class="built_in">enable</span>/disable)</span><br><span class="line">* c0629cda fixed: fix datetime import path</span><br><span class="line">* eee24993 feat: 群控/單控pseudo api implement</span><br><span class="line">* 42230808 docs: upgrade lang package(add:Pseudo)</span><br><span class="line">* 586f45fd docs: upgrade lang package(add:Pseudo)</span><br></pre></td></tr></table></figure>
<h1 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h1><p><a href="https://plugins.jetbrains.com/plugin/9861-git-commit-template">Plugin Site</a></p>
<ul>
<li>Setting-&gt;Plugins-&gt; search 『git commit template』。 Click Install button.<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202302281354646.png"></li>
</ul>
<h1 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h1><ul>
<li><p>新增測試檔案<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202302281402833.png"></p>
</li>
<li><p>進行git commit<br> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202302281404030.png"></p>
</li>
<li><p>填寫commit內容<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202302281410372.png"></p>
</li>
<li><p>產生commit內容<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202302281411699.png"></p>
</li>
</ul>
]]></content>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux系統管理備忘</title>
    <url>/2022/12/01/linux-management/</url>
    <content><![CDATA[<h1 id="帳號權限管理"><a href="#帳號權限管理" class="headerlink" title="帳號權限管理"></a>帳號權限管理</h1><h2 id="用root做SSH登入，被駭客風險？"><a href="#用root做SSH登入，被駭客風險？" class="headerlink" title="用root做SSH登入，被駭客風險？"></a>用root做SSH登入，被駭客風險？</h2><ol>
<li>如果root遠端登入且是用密碼做認證，因為所有系統是以root當帳號名稱，所以駭客可以只針對密碼進行暴力破解密碼進而駭進系統。</li>
<li>如果用其他名稱當帳號(例如kkevin)做SSH登入，駭客必須猜中你的帳號才能進行密碼暴力破解。</li>
<li>如果用root做SSH登入且是用private rsa key做認證，這樣駭客想破解難度就會高於密碼認證很多。</li>
<li>如果用kkevin用密碼做認證且kkevin有sudo權限，安全性就會在kkevin密碼的複雜度。</li>
</ol>
<h2 id="ssh-keygen"><a href="#ssh-keygen" class="headerlink" title="ssh-keygen"></a>ssh-keygen</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">反向代理,</span> <span class="string">Reverse</span> <span class="string">Proxy,</span> <span class="string">re-ver-se</span> <span class="string">pro-xy</span></span><br><span class="line"><span class="string">風險,</span> <span class="string">Risk,</span> <span class="string">ri-sk</span></span><br><span class="line"><span class="string">駭客,</span> <span class="string">Hacker,</span> <span class="string">ha-ker</span></span><br><span class="line"><span class="string">暴力破解,</span> <span class="string">Brute</span> <span class="string">Force,</span> <span class="string">bru-te</span> <span class="string">for-ce</span></span><br><span class="line"><span class="string">駭進系統,</span> <span class="string">Hack</span> <span class="string">into</span> <span class="string">the</span> <span class="string">system,</span> <span class="string">hack</span> <span class="string">into</span> <span class="string">the</span> <span class="string">system</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>後端事務常用指令</title>
    <url>/2022/12/24/linux-memo/</url>
    <content><![CDATA[<h1 id="搜尋關鍵字"><a href="#搜尋關鍵字" class="headerlink" title="搜尋關鍵字"></a>搜尋關鍵字</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -i, --ignore-case  ignore case distinctions,忽略大小寫</span></span><br><span class="line"><span class="comment"># -n, --line-number  print line number with output lines,顯示行號</span></span><br><span class="line"><span class="comment"># -r, --recursive  recursive,遞迴</span></span><br><span class="line"><span class="comment"># SSLMMS/**/migrations/*.py&quot;  搜尋SSLMMS底下任何目錄裡的migrations目錄含有所有.py檔</span></span><br><span class="line">$ grep -inr <span class="string">&#x27;streelamp&#x27;</span> /tmp/service_django/SSLMMS/**/migrations/*.py</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202212241220418.png" alt="搜尋結果"></p>
<h1 id="替換搜尋關鍵字"><a href="#替換搜尋關鍵字" class="headerlink" title="替換搜尋關鍵字"></a>替換搜尋關鍵字</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># grep:</span></span><br><span class="line"><span class="comment"># -l, 只顯示檔名路徑</span></span><br><span class="line"><span class="comment"># xargs: 管線傳遞參數，將上一個指令輸出解析成參數傳遞給下一個指令，此範例是將grep找到的檔案路徑傳給sed</span></span><br><span class="line"><span class="comment"># sed:</span></span><br><span class="line"><span class="comment"># -i, 直接修改讀取的檔案內容，而不是由螢幕輸出。(可先預覽過替代結果再把這參數加入)</span></span><br><span class="line"><span class="comment"># &quot;s/old/new/g&quot;, s:替換, g:全域替換，將old替換成new</span></span><br><span class="line"><span class="comment"># &quot;s/old/new/g&quot;可以用:或_來取代，例如: &quot;s:old:new:g&quot; 或 &quot;s_old_new_g&quot;</span></span><br><span class="line">$ grep -l <span class="string">&#x27;streelamp&#x27;</span> /tmp/service_django/SSLMMS/**/migrations/*.py | xargs sed -i <span class="string">&quot;s/related_name=&#x27;streelamp&#x27;/related_name=&#x27;streetlamp&#x27;/g&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202212241229080.png" alt="grep -l &#39;streelamp&#39; **/migrations/*.py"></p>
<h1 id="修改資料庫名稱"><a href="#修改資料庫名稱" class="headerlink" title="修改資料庫名稱"></a>修改資料庫名稱</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Nginx解析</title>
    <url>/2022/11/29/nginx-conf/</url>
    <content><![CDATA[<h2 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h2><p><strong>Nginx主要提供功能</strong>:</p>
<ul>
<li><span style="color:#6d4ee9;font-weight:bold">反向代理(Reverse Proxy)</span><br>反向代理是一種代理模式，它將客戶端的請求轉發給不同的伺服器，並將伺服器的回應轉發給客戶端。<a href="https://zh.wikipedia.org/zh-tw/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86">wiki</a></li>
<li><span style="color:#6d4ee9;font-weight:bold">負載平衡(Load Balancing)</span><br>負載平衡是一種將請求分配給多個伺服器的方法，以達到平衡伺服器負載的目的。<a href="https://zh.wikipedia.org/zh-tw/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1">wiki</a></li>
<li><span style="color:#6d4ee9;font-weight:bold">靜態資源服務(Static Resource Service)</span><br>靜態資源服務是一種將靜態資源(如圖片、CSS、JavaScript等)儲存於網頁伺服器上，並由網頁伺服器直接提供給客戶端的服務。</li>
<li><span style="color:#6d4ee9;font-weight:bold">動態資源服務(Dynamic Resource Service)</span><br>動態資源服務是一種將動態資源(如PHP、ASP、JSP等)儲存於網頁伺服器上，並由網頁伺服器將請求轉發給應用伺服器，再由應用伺服器產生回應，<br>最後由網頁伺服器將回應轉發給客戶端的服務。</li>
<li><span style="color:#6d4ee9;font-weight:bold">Http憑證存取服務(Http Certificate Access Service)</span><br>Http憑證存取服務是一種將HTTP憑證(如SSL憑證)儲存於網頁伺服器上，並由網頁伺服器直接提供給客戶端的服務。</li>
</ul>
<h2 id="nginx-conf"><a href="#nginx-conf" class="headerlink" title="nginx.conf"></a>nginx.conf</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#常用設定</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define the number of worker processes; recommended value is the number of</span></span><br><span class="line"><span class="comment"># cores that are being used by your server</span></span><br><span class="line"><span class="comment"># auto will default to number of vcpus/cores</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># vcpus(Virtual CPUs): 虛擬核心，例如EC2 t3a.small(vCPU: 2, Memory: 2 GiB)，則worker_processes 2</span></span><br><span class="line"><span class="comment"># ref: https://aws.amazon.com/tw/ec2/instance-types/</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># cores: 實體核心，intel Xeon E5-1428L (6 cores)，則worker_processes 6</span></span><br><span class="line"><span class="comment"># ref: https://ark.intel.com/content/www/tw/zh/ark/products/66662/intel-xeon-processor-e51428l-15m-cache-1-8-ghz.html</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 設定策略: </span></span><br><span class="line"><span class="comment"># 1. 沒有想法或不確定，使用預設auto</span></span><br><span class="line"><span class="comment"># 2. 如果是單核心，設定為1</span></span><br><span class="line"><span class="comment"># 2. 如果有SSL、gzip這樣比較消耗CPU的工作，同時有多個CPU核心的話，可以設定與CPU的數量一樣。(worker_processes: CPU核心數)</span></span><br><span class="line">worker_processes auto;</span><br><span class="line"><span class="comment"># 最小:1, 最大:CPU核心數</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 進程最大開檔數，如果想調高worker_connections上限，可透過這參數強制調高</span></span><br><span class="line">worker_rlimit_nofile 65535;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Max Number of Clients/Second = worker_processes * worker_connections</span></span><br><span class="line">events &#123;</span><br><span class="line">    <span class="comment"># Define the maximum number of simultaneous connections that can be opened by a worker process</span></span><br><span class="line">    <span class="comment"># 如果瀏覽器同時發出一隻API以及一張圖片請求，這時候瀏覽器將佔領兩個連線，</span></span><br><span class="line">    <span class="comment"># worker_connections 513的設定代表同時只能有512/2的瀏覽器進行連線</span></span><br><span class="line">    <span class="comment"># TODO worker_connections 1時 每隻API都會延遲10秒再進行回覆，使用併發同時觀察每個API的回覆時間</span></span><br><span class="line">    <span class="comment"># 設定策略: </span></span><br><span class="line">    <span class="comment"># 1. 沒有想法或不確定，使用預設512</span></span><br><span class="line">    <span class="comment"># 2. 最大值為系統進程最大開啟數，可用ulimit -a|grep &quot;open files&quot;觀看</span></span><br><span class="line">    <span class="comment"># 3. </span></span><br><span class="line">    worker_connections  512;</span><br><span class="line"><span class="comment">#https://www.gushiciku.cn/pl/pHDk/zh-tw</span></span><br><span class="line"><span class="comment">#https://linyencheng.github.io/2019/07/13/tool-nginx/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    <span class="comment"># Specifies the maximum accepted body size of a client request, as</span></span><br><span class="line">    <span class="comment"># indicated by the request header Content-Length. If the stated content</span></span><br><span class="line">    <span class="comment"># length is greater than this size, then the client receives the HTTP</span></span><br><span class="line">    <span class="comment"># error code 413. Set to 0 to disable.</span></span><br><span class="line">    <span class="comment"># client_max_body_size 0;</span></span><br><span class="line">    <span class="comment"># Request Body內容大小上限</span></span><br><span class="line">   client_max_body_size 1M;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 與後端Application server 連線的timeout時間</span></span><br><span class="line">fastcgi_connect_timeout 1800;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 向後端Application server 傳送資料的timeout時間</span></span><br><span class="line">fastcgi_send_timeout  1800;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 從後端Application server 接收資料的timeout時間</span></span><br><span class="line">fastcgi_read_timeout  1800;</span><br></pre></td></tr></table></figure>

<h1 id="PostgresSQL"><a href="#PostgresSQL" class="headerlink" title="PostgresSQL"></a>PostgresSQL</h1><h2 id="postgresql-conf"><a href="#postgresql-conf" class="headerlink" title="postgresql.conf"></a>postgresql.conf</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">反向代理,</span> <span class="string">Reverse</span> <span class="string">Proxy,</span> <span class="string">re-ver-se</span> <span class="string">pro-xy</span></span><br><span class="line"><span class="string">負載平衡,</span> <span class="string">Load</span> <span class="string">Balancing,</span> <span class="string">load</span> <span class="string">ba-lan-ce-ing</span></span><br><span class="line"><span class="string">靜態資源服務,</span> <span class="string">Static</span> <span class="string">Resource</span> <span class="string">Service,</span> <span class="string">sta-tic</span> <span class="string">re-source</span> <span class="string">ser-vice</span></span><br><span class="line"><span class="string">動態資源服務,</span> <span class="string">Dynamic</span> <span class="string">Resource</span> <span class="string">Service,</span> <span class="string">dy-na-mic</span> <span class="string">re-source</span> <span class="string">ser-vice</span></span><br><span class="line"><span class="string">Http憑證存取服務,</span> <span class="string">Http</span> <span class="string">Certificate</span> <span class="string">Access</span> <span class="string">Service,</span> <span class="string">cer-ti-fi-cate</span> <span class="string">ac-ce-ss</span> <span class="string">ser-vice</span></span><br><span class="line"><span class="string">效能,</span> <span class="string">Performance,</span> <span class="string">per-form-an-ce</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>PostgresSQL</tag>
        <tag>Backend</tag>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>Python備忘錄</title>
    <url>/2022/12/02/python-memo/</url>
    <content><![CDATA[<h1 id="命名規範"><a href="#命名規範" class="headerlink" title="命名規範"></a>命名規範</h1><p>參考<a href="https://peps.python.org/pep-0008/">PEP 8</a>代碼規範</p>
<h1 id="Django-Mock"><a href="#Django-Mock" class="headerlink" title="Django Mock"></a>Django Mock</h1><p>當後端工程師定義好api schema後，需要再花時間把商業邏輯進行實作，這段時間前端工程師只能等待，為了讓前端工程師可以先進行開發，可以先使用mock的方式來模擬後端api的回傳結果，這樣前端工程師就可以先進行開發，等到後端工程師完成實作後，再將mock的程式碼關閉，改成呼叫後端api。</p>
<p><a href="https://github.com/wenchan3918/phantom_mask/commit/0fd7cc5517e792d6923c11e1f1efbeb5b6356e80">範例參考</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># pip install pip install django-mock-queries</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Model</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Account</span>(models.Model):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        verbose_name = <span class="string">&#x27;Account&#x27;</span></span><br><span class="line">        verbose_name_plural = <span class="string">&#x27;Account&#x27;</span></span><br><span class="line"></span><br><span class="line">    name = models.CharField(verbose_name=<span class="string">&#x27;Name&#x27;</span>,</span><br><span class="line">                            max_length=<span class="number">255</span>, )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.name</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_mock_qs</span>(<span class="params">cls</span>):</span><br><span class="line">        qs = MockSet(</span><br><span class="line">            MockModel(<span class="built_in">id</span>=<span class="number">1</span>, name=<span class="string">&quot;kevin&quot;</span>),</span><br><span class="line">            MockModel(<span class="built_in">id</span>=<span class="number">2</span>, name=<span class="string">&quot;David&quot;</span>),</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">return</span> qs</span><br><span class="line"></span><br><span class="line"><span class="comment"># View</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MockAccountViewSet</span>(ViewSetUtils,</span><br><span class="line">                         FilterMixin,</span><br><span class="line">                         viewsets.GenericViewSet):</span><br><span class="line"><span class="meta">    @action(<span class="params">methods=[<span class="string">&#x27;GET&#x27;</span>], detail=<span class="literal">False</span>, url_path=<span class="string">&#x27;example&#x27;</span></span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">example</span>(<span class="params">self, request, *args, **kwargs</span>):</span><br><span class="line">        use_mock = request.GET.get(<span class="string">&#x27;use_mock&#x27;</span>, <span class="literal">False</span>)</span><br><span class="line">        queryset = Account.get_mock_qs() <span class="keyword">if</span> use_mock <span class="keyword">else</span> Account.objects.<span class="built_in">all</span>()</span><br><span class="line">    </span><br><span class="line">        serializer = AccountItemOut(</span><br><span class="line">            queryset.first(),</span><br><span class="line">            many=<span class="literal">False</span>,</span><br><span class="line">            context=&#123;<span class="string">&#x27;request&#x27;</span>: request&#125;,</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">return</span> self.response(data=serializer.data)</span><br></pre></td></tr></table></figure>


<h1 id="標記為廢棄函數"><a href="#標記為廢棄函數" class="headerlink" title="標記為廢棄函數"></a>標記為廢棄函數</h1><p>Mark as deprecated function</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func_a</span>(<span class="params">value: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    deprecated func_a at 2023-02-28</span></span><br><span class="line"><span class="string">    :return: value</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    warnings.warn(<span class="string">&quot;此方法已廢棄，請改用func_b&quot;</span>, DeprecationWarning)</span><br><span class="line">    <span class="keyword">return</span> value</span><br></pre></td></tr></table></figure>


<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">反向代理,</span> <span class="string">Reverse</span> <span class="string">Proxy,</span> <span class="string">re-ver-se</span> <span class="string">pro-xy</span></span><br><span class="line"><span class="string">PEP</span> <span class="number">8</span><span class="string">,</span> <span class="string">Python</span> <span class="string">Enhancement</span> <span class="string">Proposals</span> <span class="number">8</span><span class="string">,</span> <span class="string">pep</span> <span class="number">8</span></span><br><span class="line"><span class="string">增強,</span> <span class="string">Enhancement,</span> <span class="string">en-han-ce-ment</span></span><br><span class="line"><span class="string">建議,</span> <span class="string">Proposals,</span> <span class="string">pro-pos-als</span></span><br></pre></td></tr></table></figure>



]]></content>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS開發備忘錄</title>
    <url>/2022/12/03/ios-memo/</url>
    <content><![CDATA[<h1 id="swiftUI語法學習"><a href="#swiftUI語法學習" class="headerlink" title="swiftUI語法學習"></a>swiftUI語法學習</h1><p>當您學過android &#x2F; css佈局，會有一些佈局知識以及關鍵字的瞭解，因此在學習SwiftUI基本上可以用這些關鍵字+swiftui進行谷歌搜尋，就可以找到相對應用法，例如：</p>
<ol>
<li>想Image元件做左邊padding就會收尋<code>swiftui padding left 10px</code>[<a href="https://www.google.com/search?client=firefox-b-d&q=swiftui+padding+left+10px">搜尋結果</a>]</li>
<li>想對垂直佈局(VStack)做左邊對齊就會收尋<code>swiftui vstack align left</code>[<a href="https://www.google.com/search?client=firefox-b-d&q=swiftui+vstack+align+left">搜尋結果</a>]</li>
</ol>
<h1 id="SceneDelegate-start-with-ViewController"><a href="#SceneDelegate-start-with-ViewController" class="headerlink" title="SceneDelegate start with ViewController"></a>SceneDelegate start with ViewController</h1><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SceneDelegate</span>: <span class="title class_">UIResponder</span>, <span class="title class_">UIWindowSceneDelegate</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> window: <span class="type">UIWindow</span>?</span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">scene</span>(<span class="keyword">_</span> <span class="params">scene</span>: <span class="type">UIScene</span>, <span class="params">willConnectTo</span> <span class="params">session</span>: <span class="type">UISceneSession</span>, <span class="params">options</span> <span class="params">connectionOptions</span>: <span class="type">UIScene</span>.<span class="type">ConnectionOptions</span>) &#123;</span><br><span class="line">        <span class="comment">// Use this method to optionally configure and attach the UIWindow `window` to the provided UIWindowScene `scene`.</span></span><br><span class="line">        <span class="comment">// If using a storyboard, the `window` property will automatically be initialized and attached to the scene.</span></span><br><span class="line">        <span class="comment">// This delegate does not imply the connecting scene or session are new (see `application:configurationForConnectingSceneSession` instead).</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">#available</span>(<span class="keyword">iOS</span> <span class="number">13.0</span>, <span class="operator">*</span>) &#123;</span><br><span class="line">            window<span class="operator">?</span>.overrideUserInterfaceStyle <span class="operator">=</span> .light</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> <span class="keyword">_</span> <span class="operator">=</span> (scene <span class="keyword">as?</span> <span class="type">UIWindowScene</span>) <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//從Scene啟動ViewController</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> windowScene <span class="operator">=</span> scene <span class="keyword">as?</span> <span class="type">UIWindowScene</span> &#123;</span><br><span class="line">           <span class="keyword">let</span> window <span class="operator">=</span> <span class="type">UIWindow</span>(windowScene: windowScene)</span><br><span class="line">           window.rootViewController <span class="operator">=</span> <span class="type">SwiftUIViewController</span>()</span><br><span class="line">           <span class="keyword">self</span>.window <span class="operator">=</span> window</span><br><span class="line">           window.makeKeyAndVisible()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="常用快捷鍵"><a href="#常用快捷鍵" class="headerlink" title="常用快捷鍵"></a>常用快捷鍵</h1><ul>
<li>格式化代碼：Command + A -&gt; control + I</li>
<li>區域折疊：Command+Option+Left&#x2F;Right</li>
<li>全檔折疊：Shift+Command+Option+Left&#x2F;Right</li>
<li></li>
<li></li>
</ul>
<h1 id="XCode常用設定"><a href="#XCode常用設定" class="headerlink" title="XCode常用設定"></a>XCode常用設定</h1><ul>
<li>開啟左側折疊符號：Settings… -&gt; Text Editing -&gt; 『Code folding ribbon』勾選<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202212041107252.png"></li>
</ul>
<h1 id="SwiftUI元件"><a href="#SwiftUI元件" class="headerlink" title="SwiftUI元件"></a>SwiftUI元件</h1><p>常用元件參數設定說明。</p>
<h2 id="佈局"><a href="#佈局" class="headerlink" title="佈局"></a>佈局</h2><p><a href="https://developer.apple.com/documentation/swiftui/layout-fundamentals">官方佈局文件</a></p>
<h3 id="VStack-垂直佈局"><a href="#VStack-垂直佈局" class="headerlink" title="VStack 垂直佈局"></a>VStack 垂直佈局</h3><ul>
<li><p>顯示方式<br>item1<br>item2<br>item3</p>
</li>
<li><p>常用參數</p>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">VStack</span>(</span><br><span class="line">alignment: .leading, </span><br><span class="line">spacing: <span class="number">10</span></span><br><span class="line">) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hi VStack&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="HStack-水平佈局"><a href="#HStack-水平佈局" class="headerlink" title="HStack 水平佈局"></a>HStack 水平佈局</h3><ul>
<li><p>顯示方式<br>item1 item2 item3</p>
</li>
<li><p>常用參數</p>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">HStack</span>(</span><br><span class="line">alignment: .leading, </span><br><span class="line">spacing: <span class="number">10</span></span><br><span class="line">) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hi HStack&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ZStack-層疊佈局"><a href="#ZStack-層疊佈局" class="headerlink" title="ZStack 層疊佈局"></a>ZStack 層疊佈局</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://docs-assets.developer.apple.com/published/a01f19de9badebe45a5e43e5b54a5518/SwiftUI-ZStack-offset-rectangles~dark@2x.png" alt="顯示方式 來源-官方提供"></p>
<ul>
<li>常用參數</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">ZStack</span>(</span><br><span class="line">alignment: .leading, </span><br><span class="line">spacing: <span class="number">10</span></span><br><span class="line">) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hi VStack&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">垂直,</span> <span class="string">Vertical,</span> <span class="string">ver-ti-cal</span></span><br><span class="line"><span class="string">水平,</span> <span class="string">Horizontal,</span> <span class="string">ho-ri-zon-tal</span></span><br><span class="line"><span class="string">代碼折疊色帶,</span> <span class="string">Code</span> <span class="string">folding</span> <span class="string">ribbon,</span> <span class="string">code</span> <span class="string">fold-ing</span> <span class="string">rib-bon</span></span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>swift</tag>
      </tags>
  </entry>
  <entry>
    <title>Python print效能測試</title>
    <url>/2022/12/01/python-print-performance/</url>
    <content><![CDATA[<h1 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h1><p>針對Python print效能測試，用實際數據進行比較。</p>
<h1 id="環境"><a href="#環境" class="headerlink" title="環境"></a>環境</h1><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202212011359133.png"></p>
<h1 id="測試方法"><a href="#測試方法" class="headerlink" title="測試方法"></a>測試方法</h1><!-- Get UTF-8 -->
<!-- Begin -->
<script src="https://gist.github.com/wenchan3918/daaf36d70ed309bb25ccc7b986b36d35.js"></script>
<!-- End -->

<h1 id="測試結果"><a href="#測試結果" class="headerlink" title="測試結果"></a>測試結果</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 10萬次回圈</span></span><br><span class="line">測試條件: 進行10.0萬次回圈,不列印任何字元,消耗時間為0.003秒</span><br><span class="line">測試條件: 進行10.0萬次回圈,列印10個字元,消耗時間為0.962秒</span><br><span class="line">測試條件: 進行10.0萬次回圈,列印100個字元,消耗時間為1.64秒</span><br><span class="line">測試條件: 進行10.0萬次回圈,列印100個字元且換行,消耗時間為9.797秒</span><br><span class="line"></span><br><span class="line"><span class="comment"># 100萬次回圈</span></span><br><span class="line">測試條件: 進行100.0萬次回圈,不列印任何字元,消耗時間為0.02秒</span><br><span class="line">測試條件: 進行100.0萬次回圈,列印10個字元,消耗時間為9.753秒</span><br><span class="line">測試條件: 進行100.0萬次回圈,列印100個字元,消耗時間為16.41秒</span><br><span class="line">測試條件: 進行100.0萬次回圈,列印100個字元且換行,消耗時間為97.132秒</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><p>print確實會消耗更多的執行時間。</p>
<p><strong>在10萬次回圈下</strong></p>
<ul>
<li>『列印100個字元且換行』消耗時間為『不列印任何字元』的9.797&#x2F;0.003&#x3D;3266倍</li>
<li>『列印100個字元』消耗時間為『不列印任何字元』的1.64&#x2F;0.003&#x3D;546倍</li>
<li>『列印10個字元』消耗時間為『不列印任何字元』的0.962&#x2F;0.003&#x3D;320倍</li>
</ul>
<p><strong>在100萬次回圈下</strong></p>
<ul>
<li>『列印100個字元且換行』消耗時間為『不列印任何字元』的97.132&#x2F;0.02&#x3D;4856倍</li>
<li>『列印100個字元』消耗時間為『不列印任何字元』的16.41&#x2F;0.02&#x3D;812倍</li>
<li>『列印10個字元』消耗時間為『不列印任何字元』的9.753&#x2F;0.02&#x3D;488倍</li>
</ul>
<span style="color:#6d4ee9;font-weight:bold">
那是否因為這效能差異而不使用print呢？如果在一般小專案用戶不多情況下，個人會選擇使用print，因為print的可讀性比較高，而且在debug時，可直接看到print的結果，這對接案節省時間是有幫助的。

<p>若是有大量使用者的服務，某API呼叫次數每天都有數十萬數百萬，這時應該就要避免使用print了，因為節省下來的效能會非常可觀。<br></p></span><p></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">結論,</span> <span class="string">Conclusion,</span> <span class="string">con-clu-sion</span></span><br><span class="line"><span class="string">數百萬,</span> <span class="string">hundred</span> <span class="string">million,</span> <span class="string">hund-erd</span> <span class="string">mi-lion</span></span><br><span class="line"><span class="string">可讀性,</span> <span class="string">readability,</span> <span class="string">read-a-bil-ity</span></span><br><span class="line"><span class="string">消耗時間,</span> <span class="string">consume</span> <span class="string">time,</span> <span class="string">con-sume</span> <span class="string">time</span></span><br><span class="line"><span class="string">```</span>  </span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Python</tag>
        <tag>測試</tag>
      </tags>
  </entry>
  <entry>
    <title>PyCharm環境設定</title>
    <url>/2022/12/03/pycharm-settings/</url>
    <content><![CDATA[<h1 id="Markdown"><a href="#Markdown" class="headerlink" title="Markdown"></a>Markdown</h1><ul>
<li><p>避免文字過長格式化後導致行數過多。<br>路徑<code>Preferences -&gt; Editor -&gt; Code Style -&gt; Markdown</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202212031119846.png"></p>
</li>
<li><p>豐富的markdown語法支援，可支援PlantUML與Mermaid語法。<br>路徑<code>Preferences -&gt;  Languages &amp; Frameworks -&gt; Markdown</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202212311448402.png"></p>
</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">導致,</span> <span class="string">Cause,</span> <span class="string">cau-se</span></span><br><span class="line"><span class="string">避免,</span> <span class="string">Avoid,</span> <span class="string">av-oid</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>多種開發語言專案管理工具</title>
    <url>/2022/11/16/tool-project-manage/</url>
    <content><![CDATA[<h1 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h1><p>全端工程師常常會同時需要用多種語言進行專案開發，使用各種語言適合的IDE(例如Xcode、Android Studio、PyCharm、GoLand、AppCode)進行專案開啟。若對要修改較舊專案，常常會須再花時間去找專案的位置。</p>
<p><br>如果可以透過指令找到專案並開啟對應的IDE，就能節省很多時間。</p>
<p><br>從上面問題歸納幾點需求:</p>
<ul>
<li>透過指令列出過去做的專案，以及可透過關鍵字進行搜尋。</li>
<li>可以指定每個專案開啟的IDE。</li>
<li>能有個區塊可以輸入過去做的專案資訊。</li>
</ul>
<span id="more"></span>
<h1 id="使用指令"><a href="#使用指令" class="headerlink" title="使用指令"></a>使用指令</h1><p>透過Bash語言實作。<br>指令:</p>
<ul>
<li>列出所有專案，<code>llprojects</code>或<code>lp</code>。</li>
<li>用關鍵字搜尋專案，<code>llprojects cloud</code>或<code>lp cloud</code>。</li>
</ul>
<p><br>輸入<code>llprojects</code>指令，列出所有專案。<br>單列結構:<code>p6---私人綜合服務    kevin_mycloud__python    ~/icloud/Code/cek/mycloud </code></p>
<ul>
<li>p6: 專案編號，也是簡短指令，輸入p6指令可開啟此專案。</li>
<li>私人綜合服務: 專案簡短描述。</li>
<li>kevin_mycloud__python: 專案代號，也是長指令，輸入kevin_mycloud__python指令可開啟此專案。</li>
<li>~&#x2F;icloud&#x2F;Code&#x2F;cek&#x2F;mycloud: 專案路徑。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/HDUY3R5.jpg"></p>
<p><br>輸入<code>llprojects cloud</code>指令，搜尋有<code>cloud</code>關鍵字的專案。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/bg46UgA.png"></p>
<p><br>輸入<code>kevin_mycloud__python</code>或<code>p6</code>指令，用pycharm IDE開啟專案。</p>
<h1 id="指令實作"><a href="#指令實作" class="headerlink" title="指令實作"></a>指令實作</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">ide_open</span></span>()&#123;</span><br><span class="line">    <span class="built_in">cd</span> <span class="variable">$2</span></span><br><span class="line">    VSCODE_CWD=<span class="string">&quot;<span class="variable">$2</span>&quot;</span></span><br><span class="line">    open -a <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="string">&quot;<span class="variable">$2</span>&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">goland</span></span>()&#123;</span><br><span class="line">    ide_open <span class="string">&quot;/Applications/GoLand.app/&quot;</span> <span class="variable">$1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">py</span></span>()&#123;</span><br><span class="line">    ide_open <span class="string">&quot;/Applications/PyCharm.app/&quot;</span> <span class="variable">$1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">phpstorm</span></span>()&#123;</span><br><span class="line">    ide_open <span class="string">&quot;/Applications/PhpStorm.app/&quot;</span> <span class="variable">$1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">android</span></span>()&#123;</span><br><span class="line">     ide_open /Applications/Android\ Studio.app  <span class="variable">$1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">clion</span></span>()&#123;</span><br><span class="line">    ide_open <span class="string">&quot;/Applications/CLion.app/&quot;</span> <span class="variable">$1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">vscode</span></span>()&#123;</span><br><span class="line">    <span class="built_in">cd</span> <span class="variable">$1</span></span><br><span class="line">    VSCODE_CWD=<span class="string">&quot;<span class="variable">$1</span>&quot;</span></span><br><span class="line">    open -n -b <span class="string">&quot;com.microsoft.VSCode&quot;</span> --args <span class="variable">$1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">xcode</span></span>()&#123;</span><br><span class="line">    ide_open <span class="string">&quot;/Applications/Xcode.app/&quot;</span> <span class="variable">$1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#專案列表</span></span><br><span class="line"><span class="comment">#&#123;專案代號&#125;__&#123;IDE代號&#125;= &#123;路徑&#125;  #&#123;專案簡短描述&#125;</span></span><br><span class="line">my_projects=(</span><br><span class="line">    <span class="string">&#x27;設定檔案&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_profile__golang= ~/.profile #環境變數自訂&#x27;</span></span><br><span class="line">     <span class="string">&#x27;kevin_profiles__golang= ~/.profiles #環境變數自訂&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;Kevin娛樂專案&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_voicetube_mp3_download__php= ~/icloud/Code/cek/downloadVoiceTubeMp3 #VoiceTube MP3下載程式&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_fxcm__python= ~/icloud/Code/cek/fxcm #MT4外匯分析+SVM+高鐵自動搶票程式&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_fb_scraper__python= ~/icloud/Code/cek/fb_scraper #臉書爬蟲&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_tw_stock__python= ~/icloud/Code/cek/tw_stock #股票+protop_airtag&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_leetcode__python= ~/icloud/Code/cek/leetcode #Leetcode練習&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;魚塭IOT專案&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_fishiot__android= ~/icloud/Code/cek/fishiot/android/FishIot #電源監測Android&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_fishiotswitch__android= ~/icloud/Code/cek/fishiot/android/FishIotSwitch #電源開關Android&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_rtsp_to_img__golang= ~/icloud/Code/cek/fishiot/rtsp_to_img_server #rtsp轉圖片服務器&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_fishiot__python= ~/icloud/Code/cek/fishiot #esp32電源監測程式&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_fishiotAP__python= ~/Code/nodemcu/fish #esp8266 AP裝置程式&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_fishiot_cloud__python= ~/icloud/Code/cek/fishiot/backend #後端&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_fishiot_single__golang= ~/icloud/Code/cek/fishiot/backend_single #臨時電源監控系統&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_repeator_ardunio__clion= ~/icloud/Code/cek/fishiot/ardunio/esp8266 #repeator test ardunio&#x27;</span></span><br><span class="line">    <span class="string">&#x27;kevin_fishiot_mesh__clion= ~/icloud/Code/cek/fishiot/ardunio/esp8266 #wifi mesh&#x27;</span></span><br><span class="line">)</span><br><span class="line">  </span><br><span class="line"><span class="comment">#列出所有專案資訊</span></span><br><span class="line"><span class="function"><span class="title">llprojects</span></span>()&#123;</span><br><span class="line"></span><br><span class="line">    RED=<span class="string">&#x27;\033[0;31m&#x27;</span></span><br><span class="line">    GREEN=<span class="string">&#x27;\033[0;32m&#x27;</span></span><br><span class="line">    Orange=<span class="string">&#x27;\033[0;33m&#x27;</span></span><br><span class="line">    White=<span class="string">&#x27;\033[1;37m&#x27;</span></span><br><span class="line">    NC=<span class="string">&#x27;\033[0m&#x27;</span></span><br><span class="line">    out=<span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    i=1</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$&#123;my_projects[@]&#125;</span>&quot;</span> ; <span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">        KEY=<span class="string">&quot;<span class="variable">$&#123;index%%=*&#125;</span>&quot;</span></span><br><span class="line">        VALUE=<span class="string">&quot;<span class="variable">$&#123;index##*=&#125;</span>&quot;</span></span><br><span class="line">        PATH2=<span class="string">&quot;<span class="variable">$&#123;VALUE%%#*&#125;</span>&quot;</span></span><br><span class="line">        COMMENT=<span class="string">&quot;<span class="variable">$&#123;VALUE##*#&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> [[ <span class="variable">$KEY</span> == <span class="variable">$COMMENT</span> ]]; <span class="keyword">then</span></span><br><span class="line"><span class="comment">#           echo -e &quot;\n$&#123;GREEN&#125;$KEY$&#123;NC&#125;&quot;</span></span><br><span class="line"></span><br><span class="line">            out=<span class="string">&quot;<span class="variable">$out</span>\n<span class="variable">$&#123;GREEN&#125;</span>$KEY<span class="variable">$&#123;NC&#125;</span>&quot;</span></span><br><span class="line"><span class="comment">#           printf  &quot;\n%20b\n&quot; $&#123;GREEN&#125;$KEY$&#123;NC&#125;</span></span><br><span class="line">           <span class="built_in">continue</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$1</span>&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">            <span class="literal">true</span> <span class="comment">#無搜尋關鍵字</span></span><br><span class="line">        <span class="keyword">elif</span> [[ <span class="variable">$KEY</span> == *<span class="string">&quot;<span class="variable">$1</span>&quot;</span>* ]]; <span class="keyword">then</span></span><br><span class="line">            <span class="literal">true</span> <span class="comment">#有出現搜尋關鍵字</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            i=$((i + <span class="number">1</span>))</span><br><span class="line">            <span class="built_in">continue</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#           printf  &quot;%10b %10b %10b\n&quot; &quot;$&#123;RED&#125;$COMMENT:$&#123;NC&#125;&quot;  &quot;$&#123;Orange&#125;$KEY$&#123;NC&#125;&quot;  &quot;$VALUE2&quot;</span></span><br><span class="line"></span><br><span class="line">         out=<span class="string">&quot;<span class="variable">$out</span>\np<span class="variable">$&#123;i&#125;</span>---<span class="variable">$&#123;RED&#125;</span>$COMMENT<span class="variable">$&#123;NC&#125;</span>,<span class="variable">$&#123;Orange&#125;</span>$KEY<span class="variable">$&#123;NC&#125;</span>,<span class="variable">$PATH2</span>&quot;</span></span><br><span class="line"></span><br><span class="line">        i=$((i + <span class="number">1</span>))</span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> -e  <span class="string">&quot;<span class="variable">$out</span>&quot;</span> | column -t -s <span class="string">&#x27;,&#x27;</span></span><br><span class="line"><span class="comment">#    printTable &#x27;,&#x27; &quot;$out&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#將所有專案配置IDE</span></span><br><span class="line"><span class="function"><span class="title">alias_ide</span></span>()&#123;</span><br><span class="line">    i=1</span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$&#123;my_projects[@]&#125;</span>&quot;</span> ; <span class="keyword">do</span></span><br><span class="line">        KEY=<span class="string">&quot;<span class="variable">$&#123;index%%=*&#125;</span>&quot;</span></span><br><span class="line">        VALUE=<span class="string">&quot;<span class="variable">$&#123;index##*=&#125;</span>&quot;</span></span><br><span class="line">        VALUE2=<span class="string">&quot;<span class="variable">$&#123;VALUE%%#*&#125;</span>&quot;</span></span><br><span class="line">        COMMENT=<span class="string">&quot;<span class="variable">$&#123;VALUE##*#&#125;</span>&quot;</span></span><br><span class="line">        <span class="keyword">if</span> [[ <span class="variable">$KEY</span> == <span class="variable">$COMMENT</span> ]]; <span class="keyword">then</span></span><br><span class="line">           <span class="built_in">continue</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        <span class="comment">#echo &quot;$KEY - $VALUE2 - $COMMENT&quot;</span></span><br><span class="line"><span class="comment">#        alias &quot;goland$KEY&quot;=&quot;goland $VALUE&quot;</span></span><br><span class="line"><span class="comment">#        alias &quot;py$KEY&quot;=&quot;py $VALUE&quot;</span></span><br><span class="line"><span class="comment">#        alias &quot;phpstorm$KEY&quot;=&quot;phpstorm $VALUE&quot;</span></span><br><span class="line"><span class="comment">#        alias &quot;android$KEY&quot;=&quot;android $VALUE&quot;</span></span><br><span class="line"><span class="comment">#        alias &quot;xcode$KEY&quot;=&quot;xcode $VALUE&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">alias</span> <span class="string">&quot;<span class="variable">$&#123;KEY&#125;</span>__vscode&quot;</span>=<span class="string">&quot;vscode <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line">        <span class="built_in">alias</span> <span class="string">&quot;<span class="variable">$&#123;KEY&#125;</span>__goland&quot;</span>=<span class="string">&quot;goland <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line">        <span class="built_in">alias</span> <span class="string">&quot;<span class="variable">$&#123;KEY&#125;</span>__py&quot;</span>=<span class="string">&quot;py <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line">        <span class="built_in">alias</span> <span class="string">&quot;<span class="variable">$&#123;KEY&#125;</span>__phpstorm&quot;</span>=<span class="string">&quot;phpstorm <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line">        <span class="built_in">alias</span> <span class="string">&quot;<span class="variable">$&#123;KEY&#125;</span>__android&quot;</span>=<span class="string">&quot;android <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line">        <span class="built_in">alias</span> <span class="string">&quot;<span class="variable">$&#123;KEY&#125;</span>__xcode&quot;</span>=<span class="string">&quot;xcode <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line">        <span class="built_in">alias</span> <span class="string">&quot;<span class="variable">$&#123;KEY&#125;</span>__clion&quot;</span>=<span class="string">&quot;clion <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;KEY##*__&#125;</span>&quot;</span> == <span class="string">&quot;vscode&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">          <span class="built_in">alias</span> <span class="string">&quot;<span class="variable">$KEY</span>&quot;</span>=<span class="string">&quot;vscode <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;KEY##*__&#125;</span>&quot;</span> == <span class="string">&quot;golang&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">          <span class="built_in">alias</span> <span class="string">&quot;<span class="variable">$KEY</span>&quot;</span>=<span class="string">&quot;goland <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;KEY##*__&#125;</span>&quot;</span> == <span class="string">&quot;python&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">          <span class="built_in">alias</span> <span class="string">&quot;<span class="variable">$KEY</span>&quot;</span>=<span class="string">&quot;py <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;KEY##*__&#125;</span>&quot;</span> == <span class="string">&quot;php&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">          <span class="built_in">alias</span> <span class="string">&quot;<span class="variable">$KEY</span>&quot;</span>=<span class="string">&quot;phpstorm <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">         <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;KEY##*__&#125;</span>&quot;</span> == <span class="string">&quot;android&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">          <span class="built_in">alias</span> <span class="string">&quot;<span class="variable">$KEY</span>&quot;</span>=<span class="string">&quot;android <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;KEY##*__&#125;</span>&quot;</span> == <span class="string">&quot;xcode&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">          <span class="built_in">alias</span> <span class="string">&quot;<span class="variable">$KEY</span>&quot;</span>=<span class="string">&quot;xcode <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;KEY##*__&#125;</span>&quot;</span> == <span class="string">&quot;clion&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">          <span class="built_in">alias</span> <span class="string">&quot;<span class="variable">$KEY</span>&quot;</span>=<span class="string">&quot;clion <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">alias</span> <span class="string">&quot;p<span class="variable">$i</span>&quot;</span>=<span class="string">&quot;<span class="variable">$KEY</span>&quot;</span></span><br><span class="line">        <span class="built_in">alias</span> <span class="string">&quot;p<span class="variable">$&#123;i&#125;</span>open&quot;</span>=<span class="string">&quot;open <span class="variable">$VALUE</span>&quot;</span></span><br><span class="line">        i=$((i + <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#產生所有專案配置IDE指令</span></span><br><span class="line">alias_ide</span><br><span class="line"></span><br><span class="line"><span class="comment">#簡短指令</span></span><br><span class="line"><span class="built_in">alias</span> lp=<span class="string">&quot;llprojects&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">歸納,</span> <span class="string">summarize,</span> <span class="string">sum-ma-rize</span>  </span><br><span class="line"><span class="string">實作,</span> <span class="string">implement,</span> <span class="string">im-ple-ment</span></span><br><span class="line"><span class="string">多種語言,</span> <span class="string">multi</span> <span class="string">language,</span> <span class="string">mul-ti</span> <span class="string">lang-gu-age</span></span><br></pre></td></tr></table></figure>



]]></content>
      <tags>
        <tag>開發工具</tag>
        <tag>專案管理</tag>
      </tags>
  </entry>
  <entry>
    <title>常用工具</title>
    <url>/2022/11/22/tools/</url>
    <content><![CDATA[<h1 id="學習資源"><a href="#學習資源" class="headerlink" title="學習資源"></a>學習資源</h1><h2 id="System-Design"><a href="#System-Design" class="headerlink" title="System Design"></a>System Design</h2><h3 id="ByteByteGo"><a href="#ByteByteGo" class="headerlink" title="ByteByteGo"></a>ByteByteGo</h3><ul>
<li><a href="https://www.youtube.com/c/ByteByteGo">Youtube</a></li>
<li><a href="https://bytebytego.com/courses/system-design-interview/design-a-chat-system">Article</a></li>
<li><a href="https://www.linkedin.com/in/alex-xu-a8131b11?original_referer=https://www.google.com/">Founder’s Linkin</a></li>
</ul>
<h1 id="專案管理"><a href="#專案管理" class="headerlink" title="專案管理"></a>專案管理</h1><h2 id="圖片"><a href="#圖片" class="headerlink" title="圖片"></a>圖片</h2><ul>
<li><a href="https://tw.eagle.cool/">Eagle</a> 圖片管理工具，可針對個專案進行分類，提供方便的預覽、編輯功能。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/YBMJCTR.png"></li>
<li><a href="https://lanhuapp.com/">藍湖</a> 提供設計師與前端工程師溝通的工具，可將設計稿上傳至藍湖，並提供設計稿的連結給前端工程師，前端工程師可在藍湖上進行註解，並提供設計師修改。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202211270224440.png"></li>
</ul>
<h2 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h2><ul>
<li><a href="https://obsidian.md/">Obsidian</a> 一個 Markdown 筆記軟體，支援連結、標籤、搜尋、編輯等功能，以及有豐富插件。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/gbKPKtP.png"></li>
</ul>
<h2 id="程式碼控管"><a href="#程式碼控管" class="headerlink" title="程式碼控管"></a>程式碼控管</h2><ul>
<li><p><a href="https://backlog.com/git-tutorial/tw/stepup/stepup1_1.html">連猴子都能懂的Git入門指南</a></p>
</li>
<li><p><a href="https://w3c.hexschool.com/git/cfdbd310">Git &amp; GitHub 教學手冊</a></p>
</li>
<li><p><a href="https://learngitbranching.js.org/?locale=zh_TW">Learn Git Branching</a></p>
</li>
<li><p><a href="https://www.sourcetreeapp.com/">SourceTree</a> 一個 Git GUI 工具，提供方便的圖形化操作介面。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wac-cdn.atlassian.com/dam/jcr:580c367b-c240-453d-aa18-c7ced44324f9/hero-mac-screenshot.png?cdnVersion=638"></p>
</li>
</ul>
<h2 id="任務追蹤"><a href="#任務追蹤" class="headerlink" title="任務追蹤"></a>任務追蹤</h2><ul>
<li><a href="https://trello.com/zh-Hant">Trello</a> 任務追蹤工具，可針對個專案進行分類，提供方便的預覽、編輯功能。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images.ctfassets.net/rz1oowkt5gyp/7pYWhpQ3vnntxoShaImNws/790e8f85143b62adef9428dcf7e8c7dc/trello_1_zh-TW.png?w=1902&fm=webp"></li>
</ul>
<span id="more"></span>

<h1 id="後端開發"><a href="#後端開發" class="headerlink" title="後端開發"></a>後端開發</h1><h2 id="環境部署"><a href="#環境部署" class="headerlink" title="環境部署"></a>環境部署</h2><ul>
<li><a href="https://docs.docker.com/desktop/install/mac-install/">Docker Desktop</a> 桌面版，可用於架設開發環境，可快速部署開發所需環境。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/vsK6pdZ.png"></li>
</ul>
<h2 id="資料庫管理"><a href="#資料庫管理" class="headerlink" title="資料庫管理"></a>資料庫管理</h2><ul>
<li><a href="https://dbeaver.io/">DBeaver</a> 跨平台的視覺化資料庫管理工具，可以連接多種資料庫，例如MySQL、PostgreSQL、Oracle、SQLite等。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202211270230410.png"></li>
</ul>
<h2 id="API測試"><a href="#API測試" class="headerlink" title="API測試"></a>API測試</h2><ul>
<li><a href="https://www.apifox.cn/">Apifox</a> API測試工具，方便管理多專案所需API。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/5KJoyhZ.png"></li>
</ul>
<h2 id="轉換工具"><a href="#轉換工具" class="headerlink" title="轉換工具"></a>轉換工具</h2><p><a href="https://app.quicktype.io/">Json Convert to data serializer(Quicktype)</a></p>
<h2 id="程式編輯"><a href="#程式編輯" class="headerlink" title="程式編輯"></a>程式編輯</h2><ul>
<li><a href="https://www.jetbrains.com/pycharm/">Pycharm</a> Python IDE，提供方便的程式碼編輯功能。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202211270234300.png"></li>
</ul>
<h2 id="終端指令"><a href="#終端指令" class="headerlink" title="終端指令"></a>終端指令</h2><ul>
<li><a href="https://github.com/antonmedv/fx">fx</a> 格式化JSON結果，安裝<code>brew install fx</code>，使用方法為<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl --location --request \</span><br><span class="line">GET <span class="string">&#x27;https://mask.langgo.app/api/pharmacy/?week=3&amp;open_at=02:00&amp;close_at=20:00&amp;fields=name,opening_hours&amp;page_size=1&#x27;</span> \</span><br><span class="line">| fx .</span><br></pre></td></tr></table></figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202211291052640.png"></li>
</ul>
<h1 id="維運-DevOps"><a href="#維運-DevOps" class="headerlink" title="維運(DevOps)"></a>維運(DevOps)</h1><ul>
<li><a href="https://tabby.sh/">Tabby</a> ssh登入管理，可方便同時多開ssh連線，當下次重新開啟軟體時，會自動連線上次的SSH，可有效減少每次輸入連線指令的時間。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/9p77PI6.png"></li>
<li><a href="https://github.com/htop-dev/htop">htop</a> 監控系統資源使用情況，為<code>top</code>指令加強版，提供豐富色彩顯示。<br>安裝於遠端Ubuntu服務器<code>apt install htop -y</code>，然後輸入<code>htop</code>指令即可。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202211270228390.png"></li>
<li><a href="https://github.com/tgraf/bmon">bmon</a> 監控網路流量當前使用情況，安裝於遠端Ubuntu服務器<code>apt install bmon -y</code><br>，然後輸入<code>bmon</code>指令即可。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202211270229668.png"></li>
</ul>
<h1 id="寫部落格"><a href="#寫部落格" class="headerlink" title="寫部落格"></a>寫部落格</h1><h2 id="寫作"><a href="#寫作" class="headerlink" title="寫作"></a>寫作</h2><p>如果你希望寫作能:</p>
<ul>
<li>用 Markdown 寫文章</li>
<li>用 Git 管理文章</li>
<li>用 GitHub Pages 部署網站</li>
<li>有豐富的漂亮主題可選擇</li>
<li>有豐富的插件可選擇</li>
<li>一鍵快速發佈文章</li>
</ul>
<p>推薦工具:</p>
<ul>
<li><a href="https://hexo.io/zh-tw/">Hexo</a> 靜態網站產生器。</li>
<li><a href="https://theme-next.js.org/">Next</a> Hexo 主題，整合許多插件。</li>
<li><a href="https://butterfly.js.org/">Butterfly</a> Butterfly主題<code>(推薦)</code>，整合許多插件，例如Google Analytics、留言板DISQUS等。</li>
</ul>
<h2 id="製圖"><a href="#製圖" class="headerlink" title="製圖"></a>製圖</h2><p>寫作常常需要針對某個畫面做截圖並標記說明，然後上傳到雲端後，再從雲端取得連結，整個工作流:<br><code>截圖-&gt;標記說明-&gt;存放到剪貼簿-&gt;直接上傳到雲端-&gt;自動把連結貼到剪貼簿</code>。</p>
<p>推薦工具:</p>
<ul>
<li><a href="https://flameshot.org/#features">flameshot</a> 用於截圖與標記說明並存放於剪貼簿。</li>
<li><a href="https://picgo.github.io/PicGo-Doc/zh/guide/">PicGO</a> 用於自動上傳並取得雲端連結。</li>
</ul>
<h2 id="圖片素材"><a href="#圖片素材" class="headerlink" title="圖片素材"></a>圖片素材</h2><ul>
<li><a href="https://www.pexels.com/zh-tw/search/%E6%8A%80%E8%A1%93/">Pexels</a> 有許多免費的高品質圖片素材。</li>
</ul>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="美股投資"><a href="#美股投資" class="headerlink" title="美股投資"></a>美股投資</h2><ul>
<li><a href="https://www.futunn.com/hk/download/mac">富途牛牛</a> 可查詢美股資訊，並下單買賣，豐富的免費指標功能。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/WlepF2u.jpg"></li>
</ul>
<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">剪貼簿,</span> <span class="string">Clipboard,</span> <span class="string">clip-board</span></span><br><span class="line"><span class="string">工作流,</span> <span class="string">Workflow,</span> <span class="string">work-flow</span></span><br><span class="line"><span class="string">製圖,</span> <span class="string">Diagram,</span> <span class="string">dia-gram</span></span><br><span class="line"><span class="string">分析,</span> <span class="string">Analytics,</span> <span class="string">an-aly-tics</span></span><br><span class="line"><span class="string">方便,</span> <span class="string">Convenient,</span> <span class="string">con-ve-ni-ent</span></span><br><span class="line"><span class="string">豐富色彩,</span> <span class="string">Rich</span> <span class="string">color,</span> <span class="string">rich-color</span></span><br><span class="line"><span class="string">流量,</span> <span class="string">Traffic,</span> <span class="string">traf-fic</span></span><br><span class="line"><span class="string">加強,</span> <span class="string">Enhance,</span> <span class="string">en-hance</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>SwiftUI 與 Storyboard 混合使用研究</title>
    <url>/2022/11/22/swiftui-storyboard-mixed-use/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近需要支援同事開發iOS APP，同事主要用Storyboard開發，自己則想用主流技術SwiftUI開發，因此需要將兩者混合使用，這邊紀錄一下研究過程。</p>
<blockquote>
<p>為何想使用SwiftUI，主要使用過Android Jetpack Compose經驗，覺得Jetpack Compose的開發體驗非常好，因此想嘗試SwiftUI。<br>SwiftUI主要能提供的優點為:</p>
<ul>
<li>元件佈局異動不用再重新調整約束。</li>
<li>ViewController.swift檔名異動時，不用再手動調整Storyboard Scene對應。</li>
<li>實作的局部元件，可容易讓其他頁面重覆使用。</li>
<li>可享受MVVM好處。</li>
</ul>
</blockquote>
<p>經過溝通會以功能模組進行切割，因此只要針對功能模組UI實作、API串接後，後續提供參數給同事進行呼叫即可。</p>
<h1 id="下載原始碼"><a href="#下載原始碼" class="headerlink" title="下載原始碼"></a>下載原始碼</h1><a class="btn-beautify larger" href="https://github.com/wenchan3918/swiftui_storyboard_mixed_use" title="原始碼下載"><i class="fa-brands fa-github"></i><span>原始碼下載</span></a>

<h1 id="專案快速啟動指令"><a href="#專案快速啟動指令" class="headerlink" title="專案快速啟動指令"></a>專案快速啟動指令</h1><p><code>kevin_swiftui_storyboard_mixed_use__xcode</code> <a href="/2022/11/16/tool-project-manage/">[多種開發語言專案管理工具]</a><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/zb8pUNd.png"></p>
<h1 id="驗證項目"><a href="#驗證項目" class="headerlink" title="驗證項目"></a>驗證項目</h1><ul>
<li>Storyboard嵌入SwiftUI(這次專案需求)</li>
<li>Xib嵌入SwiftUI</li>
<li>Storyboard啟動SwiftUI ViewController</li>
</ul>
<span id="more"></span>

<h1 id="待驗證項目"><a href="#待驗證項目" class="headerlink" title="待驗證項目"></a>待驗證項目</h1><ul>
<li>SwiftUI 嵌入 Storyboard</li>
<li>SwiftUI 嵌入 Xib</li>
</ul>
<h1 id="驗證過程"><a href="#驗證過程" class="headerlink" title="驗證過程"></a>驗證過程</h1><h2 id="專案結構"><a href="#專案結構" class="headerlink" title="專案結構"></a>專案結構</h2><p>建立一個Storyboard專案，並在Main.storyboard的<code>Main View Controller Scene</code>新增三個按鈕，分別為<code>Show StoryboardViewController</code>、<code>Show XibViewController</code>與<code>Show SwiftUIViewController</code>。</p>
<p>這三個按鈕動作分別為:</p>
<ul>
<li><code>Show StoryboardViewController</code> 啟動 <code>Storyboard View Controller Scene</code>。</li>
<li><code>Show XibViewController</code> 啟動 <code>XibViewController.swift</code>。</li>
<li><code>Show SwiftUIViewController</code> 啟動 <code>SwiftUIViewController.swift</code>。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/1JtpbPp.png" alt="專案結構"></p>
<p>透過<a href="https://developer.apple.com/documentation/swiftui/uihostingcontroller">UIHostingController</a>元件將SwiftUI View嵌入到ViewController view中。</p>
<h2 id="原始碼"><a href="#原始碼" class="headerlink" title="原始碼"></a>原始碼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  MainViewController.swift</span></span><br><span class="line"><span class="comment">//  swiftui_storyboard_mixed_use</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by source on 2022/11/22.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainViewController</span>: <span class="title class_">UIViewController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@IBAction</span> <span class="keyword">func</span> <span class="title function_">clickShowXibViewController</span>(<span class="keyword">_</span> <span class="params">sender</span>: <span class="keyword">Any</span>) &#123;</span><br><span class="line">       <span class="type">XibViewController</span>.show(<span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">@IBAction</span> <span class="keyword">func</span> <span class="title function_">clickShowSwiftUIViewcontroller</span>(<span class="keyword">_</span> <span class="params">sender</span>: <span class="keyword">Any</span>) &#123;</span><br><span class="line">        <span class="type">SwiftUIViewController</span>.show(<span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  StorybordViewController.swift</span></span><br><span class="line"><span class="comment">//  swiftui_storyboard_mixed_use</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by source on 2022/11/22.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StoryboardViewController</span>: <span class="title class_">UIViewController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">show</span>(<span class="keyword">_</span> <span class="params">parent</span>:<span class="type">UIViewController</span>)&#123;</span><br><span class="line">        parent.show(<span class="keyword">Self</span>(), sender: parent  )</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">viewDidLoad</span>() &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//將SwiftUI View加入controller view中</span></span><br><span class="line">        <span class="keyword">let</span> childView <span class="operator">=</span> <span class="type">UIHostingController</span>(rootView: <span class="type">SwiftUISubView</span>())</span><br><span class="line">        addChild(childView)</span><br><span class="line">  </span><br><span class="line">        childView.view.frame <span class="operator">=</span> <span class="type">CGRect</span>(x: <span class="number">0</span>,</span><br><span class="line">                                      y: <span class="type">UIScreen</span>.main.bounds.height<span class="operator">*</span><span class="number">0.6</span>,</span><br><span class="line">                                      width: <span class="type">UIScreen</span>.main.bounds.width,</span><br><span class="line">                                      height: <span class="type">UIScreen</span>.main.bounds.height<span class="operator">*</span><span class="number">0.3</span>)</span><br><span class="line">        <span class="keyword">self</span>.view .addSubview(childView.view)</span><br><span class="line">        childView.didMove(toParent: <span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@IBAction</span> <span class="keyword">func</span> <span class="title function_">clickClose</span>(<span class="keyword">_</span> <span class="params">sender</span>: <span class="keyword">Any</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.dismiss(animated: <span class="literal">true</span>,completion: <span class="literal">nil</span>)</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  XibViewController.swift</span></span><br><span class="line"><span class="comment">//  swiftui_storyboard_mixed_use</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by source on 2022/11/22.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">XibViewController</span>: <span class="title class_">UIViewController</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">show</span>(<span class="keyword">_</span> <span class="params">parent</span>:<span class="type">UIViewController</span>)&#123;</span><br><span class="line">        parent.show(<span class="keyword">Self</span>(), sender: parent  )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">viewDidLoad</span>() &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//將SwiftUI View加入controller view中</span></span><br><span class="line">        <span class="keyword">let</span> childView <span class="operator">=</span> <span class="type">UIHostingController</span>(rootView: <span class="type">SwiftUISubView</span>())</span><br><span class="line">        addChild(childView)</span><br><span class="line">        childView.view.frame <span class="operator">=</span> <span class="type">CGRect</span>(x: <span class="number">0</span>,</span><br><span class="line">                                      y:<span class="type">UIScreen</span>.main.bounds.height<span class="operator">*</span><span class="number">0.6</span>,</span><br><span class="line">                                      width: <span class="type">UIScreen</span>.main.bounds.width,</span><br><span class="line">                                      height: <span class="type">UIScreen</span>.main.bounds.height<span class="operator">*</span><span class="number">0.3</span>)</span><br><span class="line">        <span class="keyword">self</span>.view .addSubview(childView.view)</span><br><span class="line">        childView.didMove(toParent: <span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@IBAction</span> <span class="keyword">func</span> <span class="title function_">clickClose</span>(<span class="keyword">_</span> <span class="params">sender</span>: <span class="keyword">Any</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.dismiss(animated: <span class="literal">true</span>,completion: <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  SwiftUISubView.swift</span></span><br><span class="line"><span class="comment">//  swiftui_storyboard_mixed_use</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by source on 2022/11/22.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">SwiftUISubView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">Color</span>.blue </span><br><span class="line">             .overlay(</span><br><span class="line">                 <span class="type">VStack</span>(spacing: <span class="number">20</span>) &#123;</span><br><span class="line">                     <span class="type">Text</span>(<span class="string">&quot;SwiftUISubView&quot;</span>).font(.largeTitle)</span><br><span class="line">             &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">SwiftUISubView_Previews</span>: <span class="title class_">PreviewProvider</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">SwiftUISubView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  SwiftUIViewController.swift</span></span><br><span class="line"><span class="comment">//  swiftui_storyboard_mixed_use</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by source on 2022/11/22.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SwiftUIViewController</span>: <span class="title class_">UIViewController</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">show</span>(<span class="keyword">_</span> <span class="params">parent</span>:<span class="type">UIViewController</span>)&#123;</span><br><span class="line">        parent.show(<span class="keyword">Self</span>(), sender: parent  )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">viewDidLoad</span>() &#123;</span><br><span class="line">        <span class="comment">//將SwiftUI View加入controller view中</span></span><br><span class="line">        <span class="keyword">let</span> childView <span class="operator">=</span> <span class="type">UIHostingController</span>(rootView: <span class="type">SwiftUIView</span>())</span><br><span class="line">        addChild(childView)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//填滿整個畫面</span></span><br><span class="line">        childView.view.frame <span class="operator">=</span> <span class="type">CGRect</span>(x: <span class="number">0</span>,</span><br><span class="line">                                      y: <span class="number">0</span>,</span><br><span class="line">                                      width: <span class="type">UIScreen</span>.main.bounds.width,</span><br><span class="line">                                      height: <span class="type">UIScreen</span>.main.bounds.height)</span><br><span class="line">        <span class="keyword">self</span>.view .addSubview(childView.view)</span><br><span class="line">        childView.didMove(toParent: <span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">SwiftUIView</span>: <span class="title class_">View</span> &#123;</span><br><span class="line">        <span class="meta">@Environment</span>(\.presentationMode) <span class="keyword">var</span> presentationMode</span><br><span class="line">        <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">            <span class="type">Color</span>.red</span><br><span class="line">                 .overlay(</span><br><span class="line">                     <span class="type">VStack</span>(spacing: <span class="number">20</span>) &#123;</span><br><span class="line">                         <span class="type">Text</span>(<span class="string">&quot;SwiftUIViewController&quot;</span>).font(.largeTitle)</span><br><span class="line">                         </span><br><span class="line">                         <span class="type">Button</span>(action: &#123;</span><br><span class="line">                             presentationMode.wrappedValue.dismiss()</span><br><span class="line">                         &#125;) &#123;</span><br><span class="line">                            <span class="type">Text</span>(<span class="string">&quot;Close&quot;</span>)</span><br><span class="line">                        &#125;</span><br><span class="line">                 &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">SwiftUIView_Previews</span>: <span class="title class_">PreviewProvider</span> &#123;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">            <span class="type">SwiftUIView</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="執行結果"><a href="#執行結果" class="headerlink" title="執行結果"></a>執行結果</h2><div class="fj-gallery"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/AYbd9kF.png" alt="首頁"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/mmkJNsd.png" alt="首頁"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/MVCtL3M.png" alt="首頁"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/RAIGRla.png" alt="首頁"></p>
          </div>
<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">驗證,</span> <span class="string">Validation,</span> <span class="string">val-ida-tion</span></span><br><span class="line"><span class="string">場景,</span> <span class="string">Scene,</span> <span class="string">sc-ene</span></span><br><span class="line"><span class="string">故事板,</span> <span class="string">Storyboard,</span> <span class="string">story-board</span></span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>專案日誌</tag>
        <tag>Swift</tag>
        <tag>Storyboard</tag>
        <tag>Xib</tag>
        <tag>SwiftUI</tag>
      </tags>
  </entry>
  <entry>
    <title>將Test/Prod環境安裝在同一台主機問題</title>
    <url>/2022/12/03/test-prod-on-same-host/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>與前同事討論關於他所在公司MIS想把專案(專案服務都有容器化)的測試與生產環境都安裝在同一台主機上，但後端工程師是認為應該把測試與生產環境拆開成兩台不一樣虛擬機上。</p>
<p>在公司裏其實滿常發生不同職務對同一件事情有不同看法，但如何做出最後決策的方法可能很多種，例如：</p>
<ul>
<li>老闆已經有想法，那就照老闆的想法當決策，出錢的最大，最後責任也是老闆承擔。</li>
<li>MIS(DevOps)部門有想法，那就溝通看看，最終還是以MIS部門想法為主，畢竟責任歸還是這部門要承擔。</li>
<li>後端工程師也有想法，如果老闆或MIS部門願意交換彼此想法，那就值得溝通看看，這篇文章也主要針對這情況進行溝通的探討。</li>
</ul>
<h1 id="想法"><a href="#想法" class="headerlink" title="想法"></a>想法</h1><p>針對此議題進行思考：</p>
<ul>
<li>方案A: 測試與生產環境都安裝在同一台主機上。(老闆與MIS頃向此方案)</li>
<li>方案B: 測試與生產環境拆開成兩台不一樣虛擬機上。(個人與前同事頃向此方案)</li>
</ul>
<p>在大家都有不同想法時，我可能會先詢問對方用方案A有哪些好處以及回饋個人對方案A可能面臨到的壞處。後續再提供方案B的好處與壞處，這樣大家就可以對明確的好處跟壞處進行討論，而不是對方案的抽象概念進行討論，這樣討論的結果可能會更有建設性。</p>
<p><strong>因個人頃向的是對方案B，以下是個人認為方案B的好處：</strong></p>
<ul>
<li>資源分離，測試環境與生產環境的資源不會互相影響，例如在進行壓力測試時榨乾了系統資源。</li>
<li>資安等級，測試環境可以配置較低的資安等級，生產環境可以配置較高的資安等級。</li>
<li>套件升級，可先在測試環境測試套件升級後，確認沒問題再將測試環境的套件升級到生產環境，避免直接在生產環境升級導致服務中斷。</li>
<li>硬體配置，測試環境與生產環境的資源可以分別配置，例如測試環境可以配置較低的CPU與記憶體，生產環境可以配置較高的CPU與記憶體。</li>
</ul>
<p><strong>以下是個人認為方案A的壞處：</strong><br>基本上方案B的好處可能都會是方案A的壞處。</p>
<ul>
<li>資源佔用，雖然可以限制容器資源上限，但也代表要把一部分資源給測試環境，導致生產環境的資源會被減少。</li>
<li>套件升級，Docker套件升級時，導致配置與相依套件的版本不一致，使服務無法啟動。</li>
<li>資安等級太高，導致測試環境除錯困難，例如不允許後端工程師登入遠端主機進行log取得與當前資源監測。</li>
<li>部署複雜度提升，因同時要區別各種環境的容器，但容器使用的port資源可能都一樣，導致部署複雜度提升。</li>
</ul>
<h1 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h1><ul>
<li>透過溝通針對個方案分析出好處與壞處，達到共識。</li>
<li>透過討論，老闆或MIS部門依然覺得自己方案最好，那只能接受老闆或MIS部門的決定。</li>
</ul>
]]></content>
      <tags>
        <tag>Docker</tag>
        <tag>職場溝通</tag>
      </tags>
  </entry>
  <entry>
    <title>Python之禪</title>
    <url>/2022/11/28/the_zen_of_python/</url>
    <content><![CDATA[<p>Python之禪 最早由Tim Peters在Python郵件列表中發表，它包含了影響Python程式語言設計的19條軟體編寫原則。<br>在最初及後來的一些版本中，一共包含20條，其中第20條是「這一條留空請 Guido 來填寫」。<br>這留空的一條從未公布也可能並不存在。這些文本屬於公共領域。 [<a href="https://zh.wikipedia.org/zh-tw/Python%E4%B9%8B%E7%A6%85">維基百科</a>]</p>
<p>執行<code>import this</code>，可以看到以下的輸出：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">The Zen of Python<span class="punctuation">,</span> by Tim Peters</span><br><span class="line"></span><br><span class="line">Beautiful is better than ugly. </span><br><span class="line">優美優於醜陋</span><br><span class="line"></span><br><span class="line">Explicit is better than implicit.</span><br><span class="line">明瞭優於隱晦</span><br><span class="line"></span><br><span class="line">Simple is better than complex.</span><br><span class="line">簡單優於複雜</span><br><span class="line"></span><br><span class="line">Complex is better than complicated.</span><br><span class="line">複雜優於凌亂</span><br><span class="line"></span><br><span class="line">Flat is better than nested.</span><br><span class="line">扁平勝於嵌套</span><br><span class="line"></span><br><span class="line">Sparse is better than dense.</span><br><span class="line">稀疏勝於稠密</span><br><span class="line"></span><br><span class="line">Readability counts.</span><br><span class="line">可讀性很重要</span><br><span class="line"></span><br><span class="line">Special cases aren&#x27;t special enough to break the rules.</span><br><span class="line">特例亦不可違背原則</span><br><span class="line"></span><br><span class="line">Although practicality beats purity.</span><br><span class="line">雖然實用性勝過純粹性</span><br><span class="line"></span><br><span class="line">Errors should never pass silently.</span><br><span class="line">錯誤不應該悄無聲息地過去</span><br><span class="line"></span><br><span class="line">Unless explicitly silenced.</span><br><span class="line">除非明確地沈默。</span><br><span class="line"></span><br><span class="line">In the face of ambiguity<span class="punctuation">,</span> refuse the temptation to guess.</span><br><span class="line">面對模棱兩可時，拒絕猜測的誘惑</span><br><span class="line"></span><br><span class="line">There should be one-- and preferably only one --obvious way to do it.</span><br><span class="line">任何問題應有一種，且最好只有一種，顯而易見的解決方法</span><br><span class="line"></span><br><span class="line">Although that way may not be obvious at first unless you&#x27;re Dutch.</span><br><span class="line">雖然你一開始的方法不一定是最好的，除非你是荷蘭人</span><br><span class="line">解決一個問題的方法可能會有很多種，但在 Python 中，只選擇最明顯的那一個</span><br><span class="line"></span><br><span class="line">Now is better than never.</span><br><span class="line">做優於不做</span><br><span class="line"></span><br><span class="line">Although never is often better than *right* now.</span><br><span class="line">然而不假思索還不如不做</span><br><span class="line"></span><br><span class="line">If the implementation is hard to explain<span class="punctuation">,</span> it&#x27;s a bad idea.</span><br><span class="line">很難解釋的，必然是壞方法</span><br><span class="line"></span><br><span class="line">If the implementation is easy to explain<span class="punctuation">,</span> it may be a good idea.</span><br><span class="line">很好解釋的，可能是好方法</span><br><span class="line">        </span><br><span class="line">Namespaces are one honking great idea -- let&#x27;s do more of those!</span><br><span class="line">命名空間是個絕佳機制<span class="punctuation">,</span> 要充分利用</span><br><span class="line"></span><br></pre></td></tr></table></figure>







]]></content>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>美股學習</title>
    <url>/2022/11/23/us-stock/</url>
    <content><![CDATA[<h1 id="常用工具"><a href="#常用工具" class="headerlink" title="常用工具"></a>常用工具</h1><ul>
<li><a href="https://rl.fx678.com/">重要數據公布日期-匯通財經(推薦)</a></li>
<li><a href="https://hk.investing.com/economic-calendar/">重要數據公布日期-investing</a></li>
</ul>
<h1 id="相關網址"><a href="#相關網址" class="headerlink" title="相關網址"></a>相關網址</h1><ul>
<li><p><a href="https://www.bls.gov/schedule/news_release/cpi.htm">CPI from 美國勞動部| En</a></p>
</li>
<li><p><a href="https://docs.google.com/spreadsheets/d/1YJZl4iqs00CQiCrHi6MqQRJa_v3imw7ehB3QSzCR-MU/edit#gid=0">美國關鍵數據發布日期統計</a></p>
</li>
<li><p><a href="https://www.macromicro.me/collections/4/us-employ-relative/87/jolts">財經M平方 | 繁體</a></p>
</li>
<li><p><a href="https://hk.investing.com/economic-calendar/">Investing | 繁體</a><br>英為財情是一個財經平台和新聞網站，是全球三大金融網站之一，由德羅·埃弗拉特創立於2007年。它提供市場行情，有關股票、期貨、期權、分析以及大宗物資等方面的資訊。2021年4月，該網站被一家位於東亞的國際投資基金以5億美元的價格收購。</p>
</li>
<li><p><a href="https://rili.jhrs.net/jiedu/">金匯網 | 簡體</a></p>
</li>
</ul>
<h1 id="常用指標"><a href="#常用指標" class="headerlink" title="常用指標"></a>常用指標</h1><ul>
<li>GMMA線設定<a href="https://www.oanda.com/bvi-ft/lab-education/technical_analysis/moving_average-gmma/">參考</a><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202301012250960.png"></li>
</ul>
<ul>
<li><p><a href="https://www.bls.gov/news.release/empsit.toc.htm">Employment Situation | 非農就業數據</a><br>非農業就業變化量度上一個月受聘人數(不含農業)<br>的變化。創造新工作機會是衡量消費者支出的重要指標。而消費者支出亦是經濟活動的重要元素。如果指標比預期高，應視為美元強勢&#x2F;上漲，反之，則應視為美元弱勢&#x2F;走跌。[<a href="https://hk.investing.com/economic-calendar/nonfarm-payrolls-227">Investing</a>]</p>
</li>
<li><p><a href="https://www.bls.gov/news.release/cpi.toc.htm">CPI | Consumer Price Index | 消費者物價指數</a><br>消費者物價指數測量的是隨著時間的變化，包括多種（常有幾百種）商品和服務零售價格的平均變化值。[<a href="https://zh.wikipedia.org/zh-tw/%E6%B6%88%E8%B2%BB%E8%80%85%E7%89%A9%E5%83%B9%E6%8C%87%E6%95%B8">wiki</a>]</p>
</li>
<li><p><a href="https://www.bls.gov/news.release/eci.toc.htm">ECI | Employment Cost Index | 勞動成本指數</a><br>勞動成本指數是由勞工部針對勞動成本的變化，設計出來的指數。它的調查內容並無產業和職業種類的差別。主要根據工資薪水、受雇人福利對雇主的成本兩項因素的變化來計算指數。[<a href="https://www.moneydj.com/kmdj/wiki/wikiviewer.aspx?keyid=bce974c0-a976-46ca-af2d-885a79581d0b">理財網</a>]</p>
</li>
<li><p><a href="https://www.bls.gov/news.release/ppi.toc.htm">PPI | Producer Price Index | 生產物價指數</a><br>生產物價指數是一個用來衡量製造商出廠價的平均變化的指數，它是統計部門收集和整理的若干個物價指數中的一個。如果生產物價指數比預期數值高時，表明有通貨膨脹的風險。如果生產物價指數比預期數值低時，則表明有通貨緊縮的風險。[<a href="https://wiki.mbalib.com/zh-tw/%E9%9B%87%E4%BD%A3%E6%88%90%E6%9C%AC%E6%8C%87%E6%95%B0">wiki</a>]</p>
</li>
</ul>
<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">股票,</span> <span class="string">Stock,</span> <span class="string">stock</span></span><br><span class="line"><span class="string">生產物價指數,</span> <span class="string">Producer</span> <span class="string">Price</span> <span class="string">Index</span></span><br><span class="line"><span class="string">非農就業數據,</span> <span class="string">Employment</span> <span class="string">Situation,</span> <span class="string">em-ploy-ment</span> <span class="string">si-tu-ation</span></span><br></pre></td></tr></table></figure>





]]></content>
      <tags>
        <tag>股票</tag>
      </tags>
  </entry>
  <entry>
    <title>常用單字</title>
    <url>/2022/11/11/word-of-the-day/</url>
    <content><![CDATA[<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">Android:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">縱向,</span> <span class="string">portrait,</span> <span class="string">port-rait</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">橫向,</span> <span class="string">landscape,</span> <span class="string">land-scape</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">方向,</span> <span class="string">orientation,</span> <span class="string">o-rien-ta-tion</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">曲線,</span> <span class="string">spline,</span> <span class="string">sp-line</span></span><br><span class="line"></span><br><span class="line"><span class="attr">IT:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">副駕駛,</span> <span class="string">copilot,</span> <span class="string">co-pi-lot</span></span><br><span class="line">  <span class="bullet">-</span> </span><br><span class="line"><span class="attr">Stock:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">股票,</span> <span class="string">Stock</span></span><br><span class="line">  <span class="bullet">-</span> </span><br><span class="line"><span class="attr">Politics:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">政治,</span> <span class="string">Politics</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">民主黨,</span> <span class="string">Democracy</span> <span class="string">party,</span> <span class="string">demo-cracy</span> <span class="string">party</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">共和黨,</span> <span class="string">Republicans</span> <span class="string">party,</span> <span class="string">re-pub-li-cans</span> <span class="string">party</span></span><br><span class="line"></span><br><span class="line"><span class="attr">SSLMMS:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">電壓,</span> <span class="string">Voltage,</span> <span class="string">vol-tage</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">電流,</span> <span class="string">Current,</span> <span class="string">cur-rent</span></span><br><span class="line"></span><br><span class="line"><span class="attr">Lovbabi:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">The</span> <span class="string">log</span> <span class="string">is</span> <span class="string">bound</span> <span class="string">to</span> <span class="string">the</span> <span class="string">student</span> <span class="string">model.</span></span><br><span class="line"></span><br><span class="line"><span class="attr">Education:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">National</span> <span class="string">Taiwan</span> <span class="string">University</span> <span class="string">of</span> <span class="string">Science</span> <span class="string">and</span> <span class="string">Technology</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">No.43,</span> <span class="string">Keelung</span> <span class="string">Rd.,</span> <span class="string">Sec.4,</span> <span class="string">Da&#x27;an</span> <span class="string">Dist.,</span> <span class="string">Taipei</span> <span class="string">City</span> <span class="number">106335</span><span class="string">,</span> <span class="string">Taiwan</span> <span class="string">(R.O.C.)</span> <span class="string">台北</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Associate</span> <span class="string">of</span> <span class="string">Electrical</span> <span class="string">Engineering</span></span><br><span class="line">  </span><br><span class="line"><span class="attr">Month:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">January</span> <span class="string">Jan</span> <span class="string">一月</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">February</span> <span class="string">Feb</span> <span class="string">二月</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">March</span> <span class="string">Mar</span> <span class="string">三月</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">April</span> <span class="string">Apr</span> <span class="string">四月</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">May</span> <span class="string">May</span> <span class="string">五月</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">June</span> <span class="string">Jun</span> <span class="string">六月</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">July</span> <span class="string">Jul</span> <span class="string">七月</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">August</span> <span class="string">Aug</span> <span class="string">八月</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">September</span> <span class="string">Sep</span> <span class="string">九月</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">October</span> <span class="string">Oct</span> <span class="string">十月</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">November</span> <span class="string">Nov</span> <span class="string">十一月</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">December</span> <span class="string">Dec</span> <span class="string">十二月</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id><a href="#" class="headerlink" title></a></h1>]]></content>
  </entry>
  <entry>
    <title>作品集 - LangGO背單字</title>
    <url>/2022/11/15/projects/langgo/</url>
    <content><![CDATA[<h1>2020年google play 教育類型排行第一名</h1>
 <a target="_blank" style="font-size:32px" href="https://play.google.com/store/apps/details?id=cek.com.langgo">
        Google Play Download
        </a>  

<img style="margin-left: 0;" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/GcdipVf.png">
<img style="margin-left: 0;" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/p0fQV0P.png">
<img style="margin-left: 0;" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202212131549030.png">
<img style="margin-left: 0;" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202212131549085.png">
<img style="margin-left: 0;" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202212131551856.png">



<h1 id="專案發起"><a href="#專案發起" class="headerlink" title="專案發起"></a>專案發起</h1><p>工作上常有新的英文單字與句子需要學習，但是每次都要到網路上搜尋，或是到書本上找，都很麻煩，因此想要做一個網站，<br>可以讓自己管理單字與句子，方便平常重覆練習。</p>
<span id="more"></span>
<h1 id="使用族群"><a href="#使用族群" class="headerlink" title="使用族群"></a>使用族群</h1><ol>
<li>自己</li>
<li>國高中生</li>
<li>大學生</li>
</ol>
<h1 id="開發技術"><a href="#開發技術" class="headerlink" title="開發技術"></a>開發技術</h1><ul>
<li>後端: 使用<a href="https://go.dev/">Go</a> + <a href="https://github.com/gin-gonic/gin">gin框架</a></li>
<li>前端: 使用<a href="https://vuejs.org/">Vue.js</a> + <a href="https://vuetifyjs.com/en/getting-started/installation/">Vuetify</a></li>
<li>Android: 使用<a href="https://kotlinlang.org/">Kotlin</a>進行開發</li>
<li>APP廣告: 使用Google Admob</li>
</ul>
<h1 id="APP功能"><a href="#APP功能" class="headerlink" title="APP功能"></a>APP功能</h1><ul>
<li>類別列表<br>類別除了有內建各種主題類別項目外，也提供私人類別，可以自行新增類別，並且可以將單字與句子加入到類別中。</li>
<li>練習單元<br>共有四大練習單元，(1)單字列表 (2)背景重覆英聽練習 (3)單字卡手寫練習 (4)選擇問答練習。</li>
<li>設定<br>可針對練習單元進行設定，例如: 背景重覆英聽練習，可以設定單字重覆次數，單字間隔時間，單字播放速度等等。</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/QWvqBDj.jpg" width="50%" style="margin-left: 0;">
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/pIXYEEX.jpg" width="50%" style="margin-left: 0;">
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/ghQSsjL.jpg" width="50%" style="margin-left: 0;">
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/txuOKk2.jpg" width="50%" style="margin-left: 0;">
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/dWxqX35.jpg" width="50%" style="margin-left: 0;">
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/YwjJz1h.jpg" width="50%" style="margin-left: 0;">
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/XKZv9kq.jpg" width="50%" style="margin-left: 0;">
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/tCGraij.jpg" width="50%" style="margin-left: 0;">

<h1 id="後台管理功能"><a href="#後台管理功能" class="headerlink" title="後台管理功能"></a>後台管理功能</h1><a href="https://langgo.app/#/" target="_blank" style="border: 1px solid #2e9fff;font-size: 24px;margin-bottom:10px" class="btn">
後台管理</a>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/E5fJKaR.png" alt="首頁"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/64kVDpV.png" alt="主分類排序"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/gZjOiB0.png" alt="子分類排序"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/S8mjvQM.png" alt="單字列表"></p>
<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">評分,</span> <span class="string">Score,</span> <span class="string">s-core</span></span><br><span class="line"><span class="string">評論,</span> <span class="string">Comment,</span> <span class="string">com-ment</span></span><br><span class="line"><span class="string">發起,</span> <span class="string">Launch,</span> <span class="string">laun-ch</span></span><br><span class="line"><span class="string">練習單元,</span> <span class="string">Practice</span> <span class="string">unit,</span> <span class="string">pr-ac-tice</span> <span class="string">unit</span></span><br><span class="line"><span class="string">重覆練習,</span> <span class="string">Repeat</span> <span class="string">practice,</span> <span class="string">re-peat</span> <span class="string">pr-ac-tice</span></span><br><span class="line"><span class="string">大學生,</span> <span class="string">University</span> <span class="string">student,</span> <span class="string">uni-ver-sity</span> <span class="string">stu-dent</span></span><br><span class="line"><span class="string">國中生,</span> <span class="string">Junior</span> <span class="string">high</span> <span class="string">school</span> <span class="string">student,</span> <span class="string">ju-nior</span> <span class="string">high</span> <span class="string">school</span> <span class="string">stu-dent</span></span><br><span class="line"><span class="string">國小生,</span> <span class="string">Elementary</span> <span class="string">school</span> <span class="string">student,</span> <span class="string">ele-men-tary</span> <span class="string">school</span> <span class="string">stu-dent</span></span><br></pre></td></tr></table></figure>


<style>
ol, ul {
    list-style:disc;
    padding-left: 20px;
}
</style>




]]></content>
      <tags>
        <tag>Android</tag>
        <tag>Backend</tag>
        <tag>作品集</tag>
        <tag>Side Project</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode - 列印abc所有排列組合</title>
    <url>/2022/11/12/leetcode/abc-combi/</url>
    <content><![CDATA[<h2 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h2><p>給定一個字串，列印出所有可能的組合，<br>例如: abc -&gt; aaa, aab, aac, aba, abb, abc, aca, acb, acc, baa, bab, bac, bba, bbb, bbc, bca, bcb, bcc, caa, cab, cac,<br>cba, cbb, cbc, cca, ccb, ccc</p>
<span id="more"></span>
<h2 id="解法一"><a href="#解法一" class="headerlink" title="解法一"></a>解法一</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">思路</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">in_put = &#x27;abc&#x27;</span></span><br><span class="line"><span class="string">n = 3個字元</span></span><br><span class="line"><span class="string">組合數量 = n^n = 3^3 = 27</span></span><br><span class="line"><span class="string">Big O: O(n^n)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">virtual_code</span>():</span><br><span class="line">    answer = []</span><br><span class="line">    <span class="keyword">for</span> v1 <span class="keyword">in</span> <span class="string">&#x27;abc&#x27;</span>:</span><br><span class="line">        <span class="keyword">for</span> v2 <span class="keyword">in</span> <span class="string">&#x27;abc&#x27;</span>:</span><br><span class="line">            <span class="keyword">for</span> v3 <span class="keyword">in</span> <span class="string">&#x27;abc&#x27;</span>:</span><br><span class="line">                <span class="built_in">print</span>(v1+v2+v3)</span><br><span class="line">                answer.append(v1+v2+v3)</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    foreach(n)+foreach(n)+foreach(n) </span></span><br><span class="line"><span class="string">    a - a - a =&gt;aaa</span></span><br><span class="line"><span class="string">          - b =&gt;aab</span></span><br><span class="line"><span class="string">          - c =&gt;aac</span></span><br><span class="line"><span class="string">    a - b - a =&gt;aba</span></span><br><span class="line"><span class="string">          - b =&gt;abb</span></span><br><span class="line"><span class="string">          - c =&gt;abc</span></span><br><span class="line"><span class="string">    a - c - a =&gt;aca</span></span><br><span class="line"><span class="string">          - b =&gt;acb</span></span><br><span class="line"><span class="string">          - c =&gt;acc</span></span><br><span class="line"><span class="string">          </span></span><br><span class="line"><span class="string">    b - a - a =&gt;baa</span></span><br><span class="line"><span class="string">          - b =&gt;bab</span></span><br><span class="line"><span class="string">          - c =&gt;bac</span></span><br><span class="line"><span class="string">    b - b - a =&gt;bba</span></span><br><span class="line"><span class="string">          - b =&gt;bbb</span></span><br><span class="line"><span class="string">          - c =&gt;bbc</span></span><br><span class="line"><span class="string">    b - c - a =&gt;bca</span></span><br><span class="line"><span class="string">          - b =&gt;bcb</span></span><br><span class="line"><span class="string">          - c =&gt;bcc</span></span><br><span class="line"><span class="string">          </span></span><br><span class="line"><span class="string">    c - a - a =&gt;caa</span></span><br><span class="line"><span class="string">          - b =&gt;cab</span></span><br><span class="line"><span class="string">          - c =&gt;cac</span></span><br><span class="line"><span class="string">    c - b - a =&gt;cba</span></span><br><span class="line"><span class="string">          - b =&gt;cbb</span></span><br><span class="line"><span class="string">          - c =&gt;cbc</span></span><br><span class="line"><span class="string">    c - c - a =&gt;cca</span></span><br><span class="line"><span class="string">          - b =&gt;ccb</span></span><br><span class="line"><span class="string">          - c =&gt;ccc</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">遞迴過程:</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=3, prefix=&#x27;&#x27;)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=2, prefix=&#x27;a&#x27;)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=1, prefix=&#x27;aa&#x27;)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;aaa&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;aab&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;aac&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=1, prefix=&#x27;ab&#x27;)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;aba&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;abb&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;abc&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=1, prefix=&#x27;ac&#x27;)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;aca&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;acb&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;acc&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=2, prefix=&#x27;b&#x27;)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=1, prefix=&#x27;ba&#x27;)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;baa&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;bab&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;bac&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=1, prefix=&#x27;bb&#x27;)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;bba&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;bbb&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;bbc&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=1, prefix=&#x27;bc&#x27;)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;bca&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;bcb&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;bcc&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=2, prefix=&#x27;c&#x27;)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=1, prefix=&#x27;ca&#x27;)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;caa&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;cab&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;cac&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=1, prefix=&#x27;cb&#x27;)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;cba&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;cbb&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;cbc&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=1, prefix=&#x27;cc&#x27;)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;cca&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;ccb&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string">combi(in_put=&#x27;abc&#x27;, next_size=0, prefix=&#x27;ccc&#x27;) =&gt;answer.append(prefix)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">combi</span>(<span class="params">in_put, next_size, prefix=<span class="string">&quot;&quot;</span></span>):</span><br><span class="line">    <span class="keyword">if</span> next_size == <span class="number">0</span>:</span><br><span class="line">        answer.append(prefix)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(in_put)):</span><br><span class="line">        combi(in_put=in_put,</span><br><span class="line">              next_size=next_size - <span class="number">1</span>,</span><br><span class="line">              prefix=<span class="string">f&#x27;<span class="subst">&#123;prefix&#125;</span><span class="subst">&#123;in_put[i]&#125;</span>&#x27;</span>,</span><br><span class="line">              )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">answer = []</span><br><span class="line">in_put = <span class="string">&quot;abc&quot;</span></span><br><span class="line">combi(in_put, <span class="built_in">len</span>(in_put))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>.join(answer))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">演算法,</span> <span class="string">Algorithm,</span> <span class="string">al-go-rithm</span></span><br><span class="line"><span class="string">排列,</span> <span class="string">Permutation,</span> <span class="string">per-mu-ta-tion</span></span><br><span class="line"><span class="string">組合,</span> <span class="string">Combination,</span> <span class="string">com-bi-na-tion</span></span><br></pre></td></tr></table></figure>







]]></content>
      <tags>
        <tag>演算法</tag>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>作品集 - 道路管理系統</title>
    <url>/2022/11/16/projects/road-management/</url>
    <content><![CDATA[<h1 id="專案需求"><a href="#專案需求" class="headerlink" title="專案需求"></a>專案需求</h1><p>客戶需要一個系統來管理道路回報案件、案件派工維修等e化流程。透過APP進行道路巡查與回報毀損案件，再由內勤人員進行審核與分派案件給協力廠商。</p>
<p>當車巡人員使用APP錄影進行道路巡查時，後台也需要觀看即時影像與巡查員軌跡。</p>
<h1 id="交付項目"><a href="#交付項目" class="headerlink" title="交付項目"></a>交付項目</h1><ul>
<li>車巡APP: 提供汽車巡查人員使用，進行道路巡查與回報毀損案件。</li>
<li>機巡APP: 提供機車巡查人員使用，進行道路巡查與回報毀損案件。</li>
<li>內勤與協力廠商後台: 提供內勤人員使用，進行案件審核與分派。</li>
<li>管理者後台: 提供管理者使用，新增合約、系統相關參數。</li>
</ul>
<h1 id="人員分配"><a href="#人員分配" class="headerlink" title="人員分配"></a>人員分配</h1><p>共有5人，分別為:</p>
<ul>
<li>車巡APP: 1人(Me)</li>
<li>機巡APP: 1人</li>
<li>內勤與協力廠商後台: 1人(Me)<ul>
<li>車巡管理系統</li>
<li>道路管理系統</li>
</ul>
</li>
<li>管理者後台: 2人(Me)</li>
<li>UI設計: 1人</li>
<li>PM: 1人</li>
</ul>
<h1 id="使用技術"><a href="#使用技術" class="headerlink" title="使用技術"></a>使用技術</h1><ul>
<li>APP: Kotlin</li>
<li>Backend: Linode + AWS + Django + Nginx + Postgresql + Redis + Nginx RTMP</li>
<li>Frontend: Vue.js + Vuex + Vue Router + Vuetify + Axios</li>
</ul>
<span id="more"></span>

<h1 id="開發日誌"><a href="#開發日誌" class="headerlink" title="開發日誌"></a>開發日誌</h1><h2 id="系統架構與流程圖"><a href="#系統架構與流程圖" class="headerlink" title="系統架構與流程圖"></a>系統架構與流程圖</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/uOf53of.png" alt="系統組織架構"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/pg4X3cb.png" alt="案件新增與審查流程"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/5G31v3C.jpg" alt="案件派工流程"></p>
<h2 id="技術選用評估"><a href="#技術選用評估" class="headerlink" title="技術選用評估"></a>技術選用評估</h2><h3 id="後端"><a href="#後端" class="headerlink" title="後端"></a>後端</h3><p>Django自帶一個Admin後台與ORM，可以快速開發後台、建立資料庫模型並且可以透過Django REST<br>Framework快速開發API。而且Django也有很多第三方套件可以使用，例如Django REST Framework JWT可以快速開發JWT驗證，Django Filter可以快速開發篩選功能，Django CORS Headers可以快速開發跨網域功能。</p>
<p>同時導入Docker容器，可以快速部署開發環境與生產環境，並且可以透過Docker Compose快速建立開發環境。至於為何沒有採用k8s，主要考慮到運維成本可能會過大，所以尚未採用。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/GL1q5lL.png" alt="服務器架構"></p>
<h3 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h3><p>選用Vue + <a href="https://vuetifyjs.com/en/getting-started/installation/">Vuetify</a>，因為Vue是目前最流行的前端框架之一且學習曲線不高，同時考慮到如何縮短UI設計時間，如果有套UI框架提供設計師做設計參考，同時工程師也可以縮短客製化元件的製作成本。且Vuetify已有提供豐富的元件庫，並且可以透過Vue<br>CLI快速開發SPA。</p>
<h2 id="實作單元"><a href="#實作單元" class="headerlink" title="實作單元"></a>實作單元</h2><h3 id="Android-RTMP推流"><a href="#Android-RTMP推流" class="headerlink" title="Android RTMP推流"></a>Android RTMP推流</h3><p>手機端透過RTMP協定將影像推流到服務器，使用『<a href="https://github.com/pedroSG94/rtmp-rtsp-stream-client-java">RTMP第三方拉流與推流庫</a>』套件進行。 套件同時支援RTMP&#x2F;RSTP協定，同時實作了推流與拉流等功能。專案需求只使用推流功能，早期版本有些Bug，經過長時間推流很容易發生閃退，最後Fork一份檔案到專案裡，進行客製化參數調整。</p>
<h3 id="Nginx-RTMP-Server"><a href="#Nginx-RTMP-Server" class="headerlink" title="Nginx RTMP Server"></a>Nginx RTMP Server</h3><p>使用Nginx +『<a href="https://github.com/arut/nginx-rtmp-module">nginx-rtmp-module</a>』模組，進行RTMP Server的建置。RTMP協定通常會有5～10秒影像落後，在未優化設定前落後秒數達30秒以上，經過優化設定後，網頁播放的影像落後秒數降低至10～15秒左右，如果透過OBS做拉流可以在5～10秒區間。</p>
<p>影像延遲優化手段:</p>
<ul>
<li>Android端推流時，將影像縮小至720p、FPS減少成20幀、去掉去掉音訊資料，降低影像資料量。</li>
<li>Nginx Server端，只能從現有參數做調整做優化外，另外就減少分流頻道，保留720p、360p頻道，移除1080p頻道。</li>
<li>Web前端，使用『<a href="https://github.com/Bilibili/flv.js/">Flv.js</a>』套件進行拉流，從套件參數調整做優化，主要透過減少cache大小進行延遲優化。</li>
</ul>
<h1 id="功能頁面"><a href="#功能頁面" class="headerlink" title="功能頁面"></a>功能頁面</h1><h2 id="車巡管理系統"><a href="#車巡管理系統" class="headerlink" title="車巡管理系統"></a>車巡管理系統</h2><p><strong>可以查過去巡查軌跡與案件，若當前有巡察員巡查可在此頁面觀看直播。</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/hEndckI.png" alt="車巡即時軌跡"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/I3B6RGf.png" alt="查報案件列表"><br><strong>後勤人員可在此頁面進行案件歸檔，歸檔後的案件會進到道路管理系統。</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/qJXgaPV.png" alt="查報案件詳細"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/zOs58pu.png" alt="車巡路段管理"><br><strong>可以在地圖上規劃巡察員每日巡查軌跡。</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/nHZl0dU.png" alt="車巡路段管理編輯"></p>
<h2 id="道路管理系統"><a href="#道路管理系統" class="headerlink" title="道路管理系統"></a>道路管理系統</h2><p><strong>所有查報案件列表。</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/3Sr6pOH.jpg" alt="案件總表"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/pfxzXuH.jpg" alt="案件地圖"></p>
<p><strong>後勤人員可在這邊審核案件指派給相關協力廠商進行後續。</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/DVvnTvl.png" alt="查報案件作業區"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/ba9U3vz.png" alt="查報案件作業區詳細"></p>
<p><strong>可查詢合約當前保固的路段資訊。</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/CnWJmkB.png" alt="保固路段"></p>
<h2 id="管理員後台"><a href="#管理員後台" class="headerlink" title="管理員後台"></a>管理員後台</h2><p><strong>管理員可在這邊新增合約、合約人員角色與各種環境參數。</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/VjyBXdh.png" alt="管理員功能列表"></p>
<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">維修,</span> <span class="string">Repair,</span> <span class="string">re-pair</span></span><br><span class="line"><span class="string">派工,</span> <span class="string">Dispatch,</span> <span class="string">dis-patch</span></span><br><span class="line"><span class="string">協力廠商,</span> <span class="string">Cooperate</span> <span class="string">factory,</span> <span class="string">co-oper-ate</span> <span class="string">fac-tory</span></span><br><span class="line"><span class="string">流程,</span> <span class="string">Process,</span> <span class="string">pro-cess</span></span><br><span class="line"><span class="string">客戶需求,</span> <span class="string">Customer</span> <span class="string">requirement,</span> <span class="string">cus-tom-er</span> <span class="string">re-quire-ment</span></span><br><span class="line"><span class="string">內勤人員,</span> <span class="string">Internal</span> <span class="string">staff,</span> <span class="string">in-ter-nal</span> <span class="string">staff</span></span><br><span class="line"><span class="string">作品集,</span> <span class="string">Portfolio,</span> <span class="string">port-fol-io</span></span><br><span class="line"><span class="string">開發經驗,</span> <span class="string">Development</span> <span class="string">experience,</span> <span class="string">deve-lop-ment</span> <span class="string">ex-per-ien-ce</span></span><br><span class="line"><span class="string">學習曲線,</span> <span class="string">Learning</span> <span class="string">curve,</span> <span class="string">learn-ing</span> <span class="string">curve</span></span><br><span class="line"><span class="string">縮短設計成本,</span> <span class="string">Shorten</span> <span class="string">design</span> <span class="string">cost,</span> <span class="string">short-en</span> <span class="string">de-sign</span> <span class="string">cost</span></span><br><span class="line"><span class="string">客製化元件,</span> <span class="string">Customized</span> <span class="string">component,</span> <span class="string">cus-tom-ized</span> <span class="string">com-po-nent</span></span><br><span class="line"><span class="string">豐富元件庫,</span> <span class="string">Rich</span> <span class="string">component</span> <span class="string">library,</span> <span class="string">rich</span> <span class="string">com-po-nent</span> <span class="string">lib-r-ary</span></span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>Android</tag>
        <tag>Backend</tag>
        <tag>作品集</tag>
        <tag>Frontend</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode - N個整數數列，請找出該數列連續元素的最大和</title>
    <url>/2022/12/16/leetcode/count-max-sum/</url>
    <content><![CDATA[<h2 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h2><p>給出N個整數數列，請找出該數列連續元素的最大和。</p>
<p>Example 1:<br>Input: [1,2,-3,4,5]<br>Output: 9</p>
<p>Example 2:<br>Input: [10,-5,7,6,-1,-3]<br>Output: 13</p>
<p>Example 3:<br>Input: [-1,-2,-3,5,6,-1,10,11,-3]<br>Output: 21</p>
<p>Example 4:<br>Input: [1,2,3,2,1,1]<br>Output: 6</p>
<span id="more"></span>

<h2 id="解法一"><a href="#解法一" class="headerlink" title="解法一"></a>解法一</h2><p><a href="https://gist.github.com/wenchan3918/a19381890e3cb520455cab9ffbdb841b">Github code</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">count_max_sum</span>(<span class="params">arr</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(arr) == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;input is empty.&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;====================================&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;input: <span class="subst">&#123;arr&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    max_sum = arr[<span class="number">0</span>]  <span class="comment"># 最大的總和</span></span><br><span class="line">    sum_ = arr[<span class="number">0</span>]  <span class="comment"># 當前計算的總和，初始化陣列第一個數值</span></span><br><span class="line">    prev_sub = <span class="number">0</span>  <span class="comment"># 紀錄前次為正連續數列或負連續數列, 例如: [1,2,3,2,1]，連續組合應為[1,2,3]或[3,2,1]</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(arr) - <span class="number">1</span>):</span><br><span class="line">        sub = arr[i] - arr[i + <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> prev_sub == <span class="number">0</span>:</span><br><span class="line">            prev_sub = sub</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> sub == <span class="number">1</span> <span class="keyword">and</span> prev_sub == sub:  <span class="comment"># 負連續數列</span></span><br><span class="line">            <span class="comment"># 當前數值與下一個數值差值為1代表為負連續數值，例如: 3,2 or 2,1 or 1,0</span></span><br><span class="line">            sum_ += arr[i + <span class="number">1</span>]</span><br><span class="line">            prev_sub = sub</span><br><span class="line">            use_if = <span class="string">&#x27;負連續數列處理&#x27;</span></span><br><span class="line">        <span class="keyword">elif</span> sub == -<span class="number">1</span> <span class="keyword">and</span> prev_sub == sub:  <span class="comment"># 正連續數列</span></span><br><span class="line">            <span class="comment"># 當前數值與下一個數值差值為-1代表為正連續數值，例如: 0,1 or 1,2 or 2,3</span></span><br><span class="line">            sum_ += arr[i + <span class="number">1</span>]</span><br><span class="line">            prev_sub = sub</span><br><span class="line">            use_if = <span class="string">&#x27;正連續數列處理&#x27;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 反之差值不為1或-1代表為非連續數值，則把下一個數值當作新的總和初始值</span></span><br><span class="line">            sum_ = arr[i + <span class="number">1</span>]</span><br><span class="line">            prev_sub = <span class="number">0</span></span><br><span class="line">            use_if = <span class="string">&#x27;不連續處理&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 『當前計算的總和』如果大於『最大總和』，則把『當前計算的總和』設定給『最大總和』</span></span><br><span class="line">        <span class="keyword">if</span> sum_ &gt;= max_sum:</span><br><span class="line">            max_sum = sum_</span><br><span class="line"></span><br><span class="line">        n = <span class="built_in">str</span>(arr[i]).rjust(<span class="number">3</span>, <span class="string">&quot; &quot;</span>)</span><br><span class="line">        n2 = <span class="built_in">str</span>(arr[i + <span class="number">1</span>]).rjust(<span class="number">3</span>, <span class="string">&quot; &quot;</span>)</span><br><span class="line">        p_sub = <span class="built_in">str</span>(sub).rjust(<span class="number">3</span>, <span class="string">&quot; &quot;</span>)</span><br><span class="line">        p_sum_ = <span class="built_in">str</span>(sum_).rjust(<span class="number">2</span>, <span class="string">&quot; &quot;</span>)</span><br><span class="line">        p_max_sum = <span class="built_in">str</span>(max_sum).rjust(<span class="number">2</span>, <span class="string">&quot; &quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(</span><br><span class="line">            <span class="string">f&#x27;Step <span class="subst">&#123;i + <span class="number">1</span>&#125;</span>: (n:<span class="subst">&#123;n&#125;</span> , n+1:<span class="subst">&#123;n2&#125;</span>)=<span class="subst">&#123;p_sub&#125;</span>, sum_:<span class="subst">&#123;p_sum_&#125;</span>, max_sum: <span class="subst">&#123;p_max_sum&#125;</span> | <span class="subst">&#123;use_if&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;output: max_sum: <span class="subst">&#123;max_sum&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test_case1 = [<span class="number">1</span>, <span class="number">2</span>, -<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">test_case2 = [<span class="number">10</span>, -<span class="number">5</span>, <span class="number">7</span>, <span class="number">6</span>, -<span class="number">1</span>, -<span class="number">3</span>]</span><br><span class="line">test_case3 = [-<span class="number">1</span>, -<span class="number">2</span>, -<span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, -<span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>, -<span class="number">3</span>]</span><br><span class="line">test_case4 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line">count_max_sum(test_case1)</span><br><span class="line">count_max_sum(test_case2)</span><br><span class="line">count_max_sum(test_case3)</span><br><span class="line">count_max_sum(test_case4)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Result:</span></span><br><span class="line"><span class="string">====================================</span></span><br><span class="line"><span class="string">input: [1, 2, -3, 4, 5]</span></span><br><span class="line"><span class="string">Step 1: (n:  1, n+1:  2)= -1, sum_: 3, max_sum:  3 | 正連續數列處理</span></span><br><span class="line"><span class="string">Step 2: (n:  2, n+1: -3)=  5, sum_:-3, max_sum:  3 | 不連續處理</span></span><br><span class="line"><span class="string">Step 3: (n: -3, n+1:  4)= -7, sum_: 4, max_sum:  4 | 不連續處理</span></span><br><span class="line"><span class="string">Step 4: (n:  4, n+1:  5)= -1, sum_: 9, max_sum:  9 | 正連續數列處理</span></span><br><span class="line"><span class="string">output: max_sum: 9</span></span><br><span class="line"><span class="string">====================================</span></span><br><span class="line"><span class="string">input: [10, -5, 7, 6, -1, -3]</span></span><br><span class="line"><span class="string">Step 1: (n: 10, n+1: -5)= 15, sum_:-5, max_sum: 10 | 不連續處理</span></span><br><span class="line"><span class="string">Step 2: (n: -5, n+1:  7)=-12, sum_: 7, max_sum: 10 | 不連續處理</span></span><br><span class="line"><span class="string">Step 3: (n:  7, n+1:  6)=  1, sum_:13, max_sum: 13 | 負連續數列處理</span></span><br><span class="line"><span class="string">Step 4: (n:  6, n+1: -1)=  7, sum_:-1, max_sum: 13 | 不連續處理</span></span><br><span class="line"><span class="string">Step 5: (n: -1, n+1: -3)=  2, sum_:-3, max_sum: 13 | 不連續處理</span></span><br><span class="line"><span class="string">output: max_sum: 13</span></span><br><span class="line"><span class="string">====================================</span></span><br><span class="line"><span class="string">input: [-1, -2, -3, 5, 6, -1, 10, 11, -3]</span></span><br><span class="line"><span class="string">Step 1: (n: -1, n+1: -2)=  1, sum_:-3, max_sum: -1 | 負連續數列處理</span></span><br><span class="line"><span class="string">Step 2: (n: -2, n+1: -3)=  1, sum_:-6, max_sum: -1 | 負連續數列處理</span></span><br><span class="line"><span class="string">Step 3: (n: -3, n+1:  5)= -8, sum_: 5, max_sum:  5 | 不連續處理</span></span><br><span class="line"><span class="string">Step 4: (n:  5, n+1:  6)= -1, sum_:11, max_sum: 11 | 正連續數列處理</span></span><br><span class="line"><span class="string">Step 5: (n:  6, n+1: -1)=  7, sum_:-1, max_sum: 11 | 不連續處理</span></span><br><span class="line"><span class="string">Step 6: (n: -1, n+1: 10)=-11, sum_:10, max_sum: 11 | 不連續處理</span></span><br><span class="line"><span class="string">Step 7: (n: 10, n+1: 11)= -1, sum_:21, max_sum: 21 | 正連續數列處理</span></span><br><span class="line"><span class="string">Step 8: (n: 11, n+1: -3)= 14, sum_:-3, max_sum: 21 | 不連續處理</span></span><br><span class="line"><span class="string">output: max_sum: 21</span></span><br><span class="line"><span class="string">====================================</span></span><br><span class="line"><span class="string">input: [1, 2, 3, 2, 1, 1]</span></span><br><span class="line"><span class="string">Step 1: (n:  1, n+1:  2)= -1, sum_: 3, max_sum:  3 | 正連續數列處理</span></span><br><span class="line"><span class="string">Step 2: (n:  2, n+1:  3)= -1, sum_: 6, max_sum:  6 | 正連續數列處理</span></span><br><span class="line"><span class="string">Step 3: (n:  3, n+1:  2)=  1, sum_: 2, max_sum:  6 | 不連續處理</span></span><br><span class="line"><span class="string">Step 4: (n:  2, n+1:  1)=  1, sum_: 3, max_sum:  6 | 負連續數列處理</span></span><br><span class="line"><span class="string">Step 5: (n:  1, n+1:  1)=  0, sum_: 1, max_sum:  6 | 不連續處理</span></span><br><span class="line"><span class="string">output: max_sum: 6</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">演算法,</span> <span class="string">Algorithm,</span> <span class="string">al-go-rithm</span></span><br><span class="line"><span class="string">計算,</span> <span class="string">count</span></span><br><span class="line"><span class="string">連續數列,</span> <span class="string">Consecutive,</span> <span class="string">con-se-cu-tive</span></span><br></pre></td></tr></table></figure>







]]></content>
      <tags>
        <tag>演算法</tag>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>演算法 - 多種營業時間格式處理</title>
    <url>/2022/11/20/leetcode/multi-style-date-format/</url>
    <content><![CDATA[<h2 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h2><p>給定下列多種的營業時間格式:</p>
<p>Mon, Wed, Fri 08:00 - 12:00 &#x2F; Tue, Thur 14:00 - 18:00<br>Mon - Fri 08:00 - 17:00<br>Mon - Fri 08:00 - 17:00<br>Mon - Fri 08:00 - 17:00 &#x2F; Sat, Sun 08:00 - 12:00<br>Mon - Fri 08:00 - 17:00<br>Mon - Fri 08:00 - 17:00 &#x2F; Sat, Sun 08:00 - 12:00<br>Mon - Fri 08:00 - 17:00 &#x2F; Sat, Sun 08:00 - 12:00<br>Fri - Sun 20:00 - 02:00<br>Mon, Wed, Fri 08:00 - 12:00 &#x2F; Tue, Thur 14:00 - 18:00<br>Mon, Wed, Fri 08:00 - 12:00 &#x2F; Tue, Thur 14:00 - 18:00<br>Mon - Fri 08:00 - 17:00 &#x2F; Sat, Sun 08:00 - 12:00<br>Mon - Wed 08:00 - 17:00 &#x2F; Thur, Sat 20:00 - 02:00<br>Mon - Wed 08:00 - 17:00 &#x2F; Thur, Sat 20:00 - 02:00<br>Mon - Wed 08:00 - 17:00 &#x2F; Thur, Sat 20:00 - 02:00<br>Mon, Wed, Fri 08:00 - 12:00 &#x2F; Tue, Thur 14:00 - 18:00<br>Mon, Wed, Fri 20:00 - 02:00<br>Mon, Wed, Fri 20:00 - 02:00<br>Mon - Fri 08:00 - 17:00<br>Mon, Wed, Fri 20:00 - 02:00<br>Fri - Sun 20:00 - 02:00</p>
<p>請輸出:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">例如: [1, 3, 5][&#x27;08:00&#x27;, &#x27;12:00&#x27;]</span></span><br><span class="line"><span class="string">代表營業時間為週一、三、五的 08:00 - 12:00</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">[([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;12:00&#x27;</span>]), ([<span class="number">2</span>, <span class="number">4</span>], [<span class="string">&#x27;14:00&#x27;</span>, <span class="string">&#x27;18:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;17:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;17:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;17:00&#x27;</span>]), ([<span class="number">6</span>, <span class="number">7</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;12:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;17:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;17:00&#x27;</span>]), ([<span class="number">6</span>, <span class="number">7</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;12:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;17:00&#x27;</span>]), ([<span class="number">6</span>, <span class="number">7</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;12:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>], [<span class="string">&#x27;20:00&#x27;</span>, <span class="string">&#x27;02:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;12:00&#x27;</span>]), ([<span class="number">2</span>, <span class="number">4</span>], [<span class="string">&#x27;14:00&#x27;</span>, <span class="string">&#x27;18:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;12:00&#x27;</span>]), ([<span class="number">2</span>, <span class="number">4</span>], [<span class="string">&#x27;14:00&#x27;</span>, <span class="string">&#x27;18:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;17:00&#x27;</span>]), ([<span class="number">6</span>, <span class="number">7</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;12:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;17:00&#x27;</span>]), ([<span class="number">4</span>, <span class="number">6</span>], [<span class="string">&#x27;20:00&#x27;</span>, <span class="string">&#x27;02:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;17:00&#x27;</span>]), ([<span class="number">4</span>, <span class="number">6</span>], [<span class="string">&#x27;20:00&#x27;</span>, <span class="string">&#x27;02:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;17:00&#x27;</span>]), ([<span class="number">4</span>, <span class="number">6</span>], [<span class="string">&#x27;20:00&#x27;</span>, <span class="string">&#x27;02:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;12:00&#x27;</span>]), ([<span class="number">2</span>, <span class="number">4</span>], [<span class="string">&#x27;14:00&#x27;</span>, <span class="string">&#x27;18:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>], [<span class="string">&#x27;20:00&#x27;</span>, <span class="string">&#x27;02:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>], [<span class="string">&#x27;20:00&#x27;</span>, <span class="string">&#x27;02:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="string">&#x27;08:00&#x27;</span>, <span class="string">&#x27;17:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>], [<span class="string">&#x27;20:00&#x27;</span>, <span class="string">&#x27;02:00&#x27;</span>])]</span><br><span class="line">[([<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>], [<span class="string">&#x27;20:00&#x27;</span>, <span class="string">&#x27;02:00&#x27;</span>])]</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h2 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">SHORT_WEEK_DICT = &#123;</span><br><span class="line">    <span class="string">&#x27;Mon&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;Tue&#x27;</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">&#x27;Wed&#x27;</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="string">&#x27;Thur&#x27;</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="string">&#x27;Fri&#x27;</span>: <span class="number">5</span>,</span><br><span class="line">    <span class="string">&#x27;Sat&#x27;</span>: <span class="number">6</span>,</span><br><span class="line">    <span class="string">&#x27;Sun&#x27;</span>: <span class="number">7</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">parse_weeks_and_times</span>(<span class="params">opening_hours</span>):</span><br><span class="line">    <span class="comment"># 以/符號進行分割 Mon, Wed, Fri 08:00 - 12:00 / Tue, Thur 14:00 - 18:00</span></span><br><span class="line">    results = []</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> opening_hours.split(<span class="string">&#x27;/&#x27;</span>):</span><br><span class="line">        cols = item.strip().split(<span class="string">&#x27; &#x27;</span>)  <span class="comment"># [::-1]</span></span><br><span class="line"></span><br><span class="line">        open_and_close_hours = []  <span class="comment"># [open_at, close_at]</span></span><br><span class="line">        open_and_close_hours.append(cols.pop())</span><br><span class="line">        cols.pop()</span><br><span class="line">        open_and_close_hours.append(cols.pop())</span><br><span class="line">        open_and_close_hours.reverse()</span><br><span class="line">        <span class="comment"># open_and_close_time = sorted(open_and_close_hours)</span></span><br><span class="line"></span><br><span class="line">        weeks = []  <span class="comment"># [1, 2, 3, 4, 5, 6, 7]</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;-&#x27;</span> <span class="keyword">in</span> cols:  <span class="comment"># 解析區段星期， [&#x27;Mon&#x27;, &#x27;-&#x27;, &#x27;Fri&#x27;]</span></span><br><span class="line">            <span class="keyword">for</span> week_id <span class="keyword">in</span> <span class="built_in">range</span>(SHORT_WEEK_DICT[cols[<span class="number">0</span>]], <span class="number">1</span> + SHORT_WEEK_DICT[cols[-<span class="number">1</span>]]):</span><br><span class="line">                weeks.append(week_id)</span><br><span class="line">        <span class="keyword">else</span>:  <span class="comment"># 解析單一星期， [&#x27;Mon,&#x27;, &#x27;Wed,&#x27;, &#x27;Fri&#x27;]</span></span><br><span class="line">            <span class="keyword">for</span> week <span class="keyword">in</span> cols:</span><br><span class="line">                weeks.append(SHORT_WEEK_DICT[week.replace(<span class="string">&#x27;,&#x27;</span>, <span class="string">&#x27;&#x27;</span>)])</span><br><span class="line">                </span><br><span class="line">        results.append((weeks, open_and_close_hours))</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> results</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rows = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Mon, Wed, Fri 08:00 - 12:00 / Tue, Thur 14:00 - 18:00</span></span><br><span class="line"><span class="string">Mon - Fri 08:00 - 17:00</span></span><br><span class="line"><span class="string">Mon - Fri 08:00 - 17:00</span></span><br><span class="line"><span class="string">Mon - Fri 08:00 - 17:00 / Sat, Sun 08:00 - 12:00</span></span><br><span class="line"><span class="string">Mon - Fri 08:00 - 17:00</span></span><br><span class="line"><span class="string">Mon - Fri 08:00 - 17:00 / Sat, Sun 08:00 - 12:00</span></span><br><span class="line"><span class="string">Mon - Fri 08:00 - 17:00 / Sat, Sun 08:00 - 12:00</span></span><br><span class="line"><span class="string">Fri - Sun 20:00 - 02:00</span></span><br><span class="line"><span class="string">Mon, Wed, Fri 08:00 - 12:00 / Tue, Thur 14:00 - 18:00</span></span><br><span class="line"><span class="string">Mon, Wed, Fri 08:00 - 12:00 / Tue, Thur 14:00 - 18:00</span></span><br><span class="line"><span class="string">Mon - Fri 08:00 - 17:00 / Sat, Sun 08:00 - 12:00</span></span><br><span class="line"><span class="string">Mon - Wed 08:00 - 17:00 / Thur, Sat 20:00 - 02:00</span></span><br><span class="line"><span class="string">Mon - Wed 08:00 - 17:00 / Thur, Sat 20:00 - 02:00</span></span><br><span class="line"><span class="string">Mon - Wed 08:00 - 17:00 / Thur, Sat 20:00 - 02:00</span></span><br><span class="line"><span class="string">Mon, Wed, Fri 08:00 - 12:00 / Tue, Thur 14:00 - 18:00</span></span><br><span class="line"><span class="string">Mon, Wed, Fri 20:00 - 02:00</span></span><br><span class="line"><span class="string">Mon, Wed, Fri 20:00 - 02:00</span></span><br><span class="line"><span class="string">Mon - Fri 08:00 - 17:00</span></span><br><span class="line"><span class="string">Mon, Wed, Fri 20:00 - 02:00</span></span><br><span class="line"><span class="string">Fri - Sun 20:00 - 02:00</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>.strip().split(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> rows:</span><br><span class="line">    result = parse_weeks_and_times(row)</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">演算法,</span> <span class="string">Algorithm,</span> <span class="string">al-go-rithm</span></span><br><span class="line"><span class="string">解法,</span> <span class="string">Solution,</span> <span class="string">solu-tion</span></span><br><span class="line"><span class="string">營業時間,</span> <span class="string">Opening</span> <span class="string">Hours,</span> <span class="string">open-ing</span> <span class="string">hours</span></span><br></pre></td></tr></table></figure>







]]></content>
      <tags>
        <tag>Python</tag>
        <tag>演算法</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode - 陣列中的數值代表每天的股價，請找出最多能賺多少錢</title>
    <url>/2022/12/17/leetcode/find-the-best-deal/</url>
    <content><![CDATA[<h2 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h2><p>以下範例中的陣列數值代表每天的股價，在只能有交易一次的條件下，請找出最多能賺多少錢</p>
<p>範例：<br>Example 1:<br>Input: [7,1,5,3,6,4]<br>Output: 5</p>
<p>Example 2:<br>Input: [7,6,4,3,1]<br>Output: 0</p>
<p>Example 3:<br>Input: [1,2,3,2,1]<br>Output: 2</p>
<p>Example 4:<br>Input: [1,2,3,2,1,7]<br>Output: 6</p>
<span id="more"></span>

<h2 id="解法一"><a href="#解法一" class="headerlink" title="解法一"></a>解法一</h2><p><a href="https://gist.github.com/wenchan3918/a67a7d3068918d4a2c0231a7ffeb825f">Github code</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">思路：</span></span><br><span class="line"><span class="string">1.一個完整交易包含買進和賣出，輸入陣列最後一筆股價是不能用來做買入</span></span><br><span class="line"><span class="string">2.[(n+1)天股價-n天股價]比[n天股價-(n-1)天股價]大，就可以當作最佳獲利</span></span><br><span class="line"><span class="string">3.從第二點條件來看則需要兩個回圈，外圈從n天買入開始，內圈從n+1天賣出結束，最後一次買入為len(arr)-1</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">find_the_best_deal</span>(<span class="params">arr</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(arr) == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;input is empty.&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;====================================&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;input: <span class="subst">&#123;arr&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    best_profit = <span class="number">0</span>  <span class="comment"># 最佳獲利</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(arr) - <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i + <span class="number">1</span>, <span class="built_in">len</span>(arr)):</span><br><span class="line">            profit = arr[j] - arr[i]  <span class="comment"># 計算當前交易的獲利</span></span><br><span class="line">            <span class="keyword">if</span> profit &gt; best_profit:</span><br><span class="line">                best_profit = profit</span><br><span class="line"></span><br><span class="line">            buy_price = <span class="built_in">str</span>(arr[i]).rjust(<span class="number">1</span>, <span class="string">&quot; &quot;</span>)</span><br><span class="line">            sell_price = <span class="built_in">str</span>(arr[j]).rjust(<span class="number">1</span>, <span class="string">&quot; &quot;</span>)</span><br><span class="line">            profit_price = <span class="built_in">str</span>(profit).rjust(<span class="number">2</span>, <span class="string">&quot; &quot;</span>)</span><br><span class="line">            best_profit_price = <span class="built_in">str</span>(best_profit).rjust(<span class="number">2</span>, <span class="string">&quot; &quot;</span>)</span><br><span class="line">            <span class="built_in">print</span>(</span><br><span class="line">                <span class="string">f&#x27;第<span class="subst">&#123;i + <span class="number">1</span>&#125;</span>天買入股價:<span class="subst">&#123;buy_price&#125;</span>, 第<span class="subst">&#123;j + <span class="number">1</span>&#125;</span>天賣出股價:<span class="subst">&#123;sell_price&#125;</span>, 當次獲利:<span class="subst">&#123;profit_price&#125;</span>, 最佳獲利:<span class="subst">&#123;best_profit_price&#125;</span>&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;output: 最佳獲利為 <span class="subst">&#123;best_profit&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test_case1 = [<span class="number">7</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">4</span>]</span><br><span class="line">test_case2 = [<span class="number">7</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">1</span>]</span><br><span class="line">test_case3 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">test_case4 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">7</span>]</span><br><span class="line"></span><br><span class="line">find_the_best_deal(test_case1)</span><br><span class="line">find_the_best_deal(test_case2)</span><br><span class="line">find_the_best_deal(test_case3)</span><br><span class="line">find_the_best_deal(test_case4)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Result:</span></span><br><span class="line"><span class="string">====================================</span></span><br><span class="line"><span class="string">input: [7, 1, 5, 3, 6, 4]</span></span><br><span class="line"><span class="string">第1天買入股價:7, 第2天賣出股價:1, 當次獲利:-6, 最佳獲利: 0</span></span><br><span class="line"><span class="string">第1天買入股價:7, 第3天賣出股價:5, 當次獲利:-2, 最佳獲利: 0</span></span><br><span class="line"><span class="string">第1天買入股價:7, 第4天賣出股價:3, 當次獲利:-4, 最佳獲利: 0</span></span><br><span class="line"><span class="string">第1天買入股價:7, 第5天賣出股價:6, 當次獲利:-1, 最佳獲利: 0</span></span><br><span class="line"><span class="string">第1天買入股價:7, 第6天賣出股價:4, 當次獲利:-3, 最佳獲利: 0</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">第2天買入股價:1, 第3天賣出股價:5, 當次獲利: 4, 最佳獲利: 4</span></span><br><span class="line"><span class="string">第2天買入股價:1, 第4天賣出股價:3, 當次獲利: 2, 最佳獲利: 4</span></span><br><span class="line"><span class="string">第2天買入股價:1, 第5天賣出股價:6, 當次獲利: 5, 最佳獲利: 5</span></span><br><span class="line"><span class="string">第2天買入股價:1, 第6天賣出股價:4, 當次獲利: 3, 最佳獲利: 5</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">第3天買入股價:5, 第4天賣出股價:3, 當次獲利:-2, 最佳獲利: 5</span></span><br><span class="line"><span class="string">第3天買入股價:5, 第5天賣出股價:6, 當次獲利: 1, 最佳獲利: 5</span></span><br><span class="line"><span class="string">第3天買入股價:5, 第6天賣出股價:4, 當次獲利:-1, 最佳獲利: 5</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">第4天買入股價:3, 第5天賣出股價:6, 當次獲利: 3, 最佳獲利: 5</span></span><br><span class="line"><span class="string">第4天買入股價:3, 第6天賣出股價:4, 當次獲利: 1, 最佳獲利: 5</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">第5天買入股價:6, 第6天賣出股價:4, 當次獲利:-2, 最佳獲利: 5</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">output: 最佳獲利為 5</span></span><br><span class="line"><span class="string">====================================</span></span><br><span class="line"><span class="string">input: [7, 6, 4, 3, 1]</span></span><br><span class="line"><span class="string">第1天買入股價:7, 第2天賣出股價:6, 當次獲利:-1, 最佳獲利: 0</span></span><br><span class="line"><span class="string">第1天買入股價:7, 第3天賣出股價:4, 當次獲利:-3, 最佳獲利: 0</span></span><br><span class="line"><span class="string">第1天買入股價:7, 第4天賣出股價:3, 當次獲利:-4, 最佳獲利: 0</span></span><br><span class="line"><span class="string">第1天買入股價:7, 第5天賣出股價:1, 當次獲利:-6, 最佳獲利: 0</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">第2天買入股價:6, 第3天賣出股價:4, 當次獲利:-2, 最佳獲利: 0</span></span><br><span class="line"><span class="string">第2天買入股價:6, 第4天賣出股價:3, 當次獲利:-3, 最佳獲利: 0</span></span><br><span class="line"><span class="string">第2天買入股價:6, 第5天賣出股價:1, 當次獲利:-5, 最佳獲利: 0</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">第3天買入股價:4, 第4天賣出股價:3, 當次獲利:-1, 最佳獲利: 0</span></span><br><span class="line"><span class="string">第3天買入股價:4, 第5天賣出股價:1, 當次獲利:-3, 最佳獲利: 0</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">第4天買入股價:3, 第5天賣出股價:1, 當次獲利:-2, 最佳獲利: 0</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">output: 最佳獲利為 0</span></span><br><span class="line"><span class="string">====================================</span></span><br><span class="line"><span class="string">input: [1, 2, 3, 2, 1]</span></span><br><span class="line"><span class="string">第1天買入股價:1, 第2天賣出股價:2, 當次獲利: 1, 最佳獲利: 1</span></span><br><span class="line"><span class="string">第1天買入股價:1, 第3天賣出股價:3, 當次獲利: 2, 最佳獲利: 2</span></span><br><span class="line"><span class="string">第1天買入股價:1, 第4天賣出股價:2, 當次獲利: 1, 最佳獲利: 2</span></span><br><span class="line"><span class="string">第1天買入股價:1, 第5天賣出股價:1, 當次獲利: 0, 最佳獲利: 2</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">第2天買入股價:2, 第3天賣出股價:3, 當次獲利: 1, 最佳獲利: 2</span></span><br><span class="line"><span class="string">第2天買入股價:2, 第4天賣出股價:2, 當次獲利: 0, 最佳獲利: 2</span></span><br><span class="line"><span class="string">第2天買入股價:2, 第5天賣出股價:1, 當次獲利:-1, 最佳獲利: 2</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">第3天買入股價:3, 第4天賣出股價:2, 當次獲利:-1, 最佳獲利: 2</span></span><br><span class="line"><span class="string">第3天買入股價:3, 第5天賣出股價:1, 當次獲利:-2, 最佳獲利: 2</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">第4天買入股價:2, 第5天賣出股價:1, 當次獲利:-1, 最佳獲利: 2</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">output: 最佳獲利為 2</span></span><br><span class="line"><span class="string">====================================</span></span><br><span class="line"><span class="string">input: [1, 2, 3, 2, 1, 7]</span></span><br><span class="line"><span class="string">第1天買入股價:1, 第2天賣出股價:2, 當次獲利: 1, 最佳獲利: 1</span></span><br><span class="line"><span class="string">第1天買入股價:1, 第3天賣出股價:3, 當次獲利: 2, 最佳獲利: 2</span></span><br><span class="line"><span class="string">第1天買入股價:1, 第4天賣出股價:2, 當次獲利: 1, 最佳獲利: 2</span></span><br><span class="line"><span class="string">第1天買入股價:1, 第5天賣出股價:1, 當次獲利: 0, 最佳獲利: 2</span></span><br><span class="line"><span class="string">第1天買入股價:1, 第6天賣出股價:7, 當次獲利: 6, 最佳獲利: 6</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">第2天買入股價:2, 第3天賣出股價:3, 當次獲利: 1, 最佳獲利: 6</span></span><br><span class="line"><span class="string">第2天買入股價:2, 第4天賣出股價:2, 當次獲利: 0, 最佳獲利: 6</span></span><br><span class="line"><span class="string">第2天買入股價:2, 第5天賣出股價:1, 當次獲利:-1, 最佳獲利: 6</span></span><br><span class="line"><span class="string">第2天買入股價:2, 第6天賣出股價:7, 當次獲利: 5, 最佳獲利: 6</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">第3天買入股價:3, 第4天賣出股價:2, 當次獲利:-1, 最佳獲利: 6</span></span><br><span class="line"><span class="string">第3天買入股價:3, 第5天賣出股價:1, 當次獲利:-2, 最佳獲利: 6</span></span><br><span class="line"><span class="string">第3天買入股價:3, 第6天賣出股價:7, 當次獲利: 4, 最佳獲利: 6</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">第4天買入股價:2, 第5天賣出股價:1, 當次獲利:-1, 最佳獲利: 6</span></span><br><span class="line"><span class="string">第4天買入股價:2, 第6天賣出股價:7, 當次獲利: 5, 最佳獲利: 6</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">第5天買入股價:1, 第6天賣出股價:7, 當次獲利: 6, 最佳獲利: 6</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">output: 最佳獲利為 6</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">演算法,</span> <span class="string">Algorithm,</span> <span class="string">al-go-rithm</span></span><br><span class="line"><span class="string">獲利,</span> <span class="string">profit,</span> <span class="string">pro-fit</span></span><br><span class="line"><span class="string">交易,</span> <span class="string">trade,</span> <span class="string">trade</span></span><br><span class="line"><span class="string">交易,</span> <span class="string">deal,</span> <span class="string">deal</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>







]]></content>
      <tags>
        <tag>演算法</tag>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode - 計算1加到n的總和</title>
    <url>/2022/11/14/leetcode/recursion/</url>
    <content><![CDATA[<h2 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h2><p>計算1加到n的總和，例如: n為10，總和為1+2+3+4+5+6+7+8+9+10&#x3D;55。</p>
<span id="more"></span>
<h2 id="解法一"><a href="#解法一" class="headerlink" title="解法一"></a>解法一</h2><p>時間複雜度: O(n)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">透過數學累加方式進行計算總和</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">若n=10</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">計算方式:</span></span><br><span class="line"><span class="string">0 + 1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10 = 55</span></span><br><span class="line"><span class="string">步驟1 =&gt; total + 1 =&gt; 0 + 1 = 1</span></span><br><span class="line"><span class="string">步驟2 =&gt; total + 2 =&gt; 1 + 2 = 3</span></span><br><span class="line"><span class="string">步驟3 =&gt; total + 3 =&gt; 3 + 3 = 6</span></span><br><span class="line"><span class="string">步驟4 =&gt; total + 4 =&gt; 6 + 4 = 10</span></span><br><span class="line"><span class="string">步驟5 =&gt; total + 5 =&gt; 10 + 5 = 15</span></span><br><span class="line"><span class="string">步驟6 =&gt; total + 6 =&gt; 15 + 6 = 21</span></span><br><span class="line"><span class="string">步驟7 =&gt; total + 7 =&gt; 21 + 7 = 28</span></span><br><span class="line"><span class="string">步驟8 =&gt; total + 8 =&gt; 28 + 8 = 36</span></span><br><span class="line"><span class="string">步驟9 =&gt; total + 9 =&gt; 36 + 9 = 45</span></span><br><span class="line"><span class="string">步驟10 =&gt; total + 10 =&gt; 45 + 10 = 55</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sum_1_to_n</span>(<span class="params">n</span>):</span><br><span class="line">    total = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">        total = total + i</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;步驟<span class="subst">&#123;i&#125;</span> = total + <span class="subst">&#123;i&#125;</span> = <span class="subst">&#123;total&#125;</span> + <span class="subst">&#123;i&#125;</span> = <span class="subst">&#123;total + <span class="number">1</span>&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;總和: <span class="subst">&#123; sum_1_to_n(<span class="number">10</span>) &#125;</span>&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="解法二"><a href="#解法二" class="headerlink" title="解法二"></a>解法二</h2><p>時間複雜度: O(n)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">透過遞迴方式進行計算總和</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">若n=10</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">計算方式:</span></span><br><span class="line"><span class="string">1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10 = 55</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">將問題拆解成小問題，找出遞迴的關係式</span></span><br><span class="line"><span class="string">x=1時, r(1) =&gt; return 1</span></span><br><span class="line"><span class="string">x=2時, r(2) =&gt; return r(1) + 2 =&gt;  1 + 2 = 3</span></span><br><span class="line"><span class="string">x=3時, r(3) =&gt; return r(2) + 3 =&gt;  3 + 3 = 6</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="string">x=10時, r(10) =&gt; return r(9) + 10 =&gt;  45 + 10 = 55</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">遞迴展開:</span></span><br><span class="line"><span class="string">r(10)&#123;</span></span><br><span class="line"><span class="string">  return r(9)&#123;</span></span><br><span class="line"><span class="string">     return r(8)&#123;</span></span><br><span class="line"><span class="string">        return r(7)&#123;</span></span><br><span class="line"><span class="string">           return r(6)&#123;</span></span><br><span class="line"><span class="string">              return r(5)&#123;</span></span><br><span class="line"><span class="string">                 return r(4)&#123;</span></span><br><span class="line"><span class="string">                    return r(3)&#123;</span></span><br><span class="line"><span class="string">                       return r(2)&#123;</span></span><br><span class="line"><span class="string">                          return r(1)&#123;</span></span><br><span class="line"><span class="string">                             return 1</span></span><br><span class="line"><span class="string">                          &#125; + 2</span></span><br><span class="line"><span class="string">                       &#125; + 3</span></span><br><span class="line"><span class="string">                    &#125; + 4</span></span><br><span class="line"><span class="string">                 &#125; + 5</span></span><br><span class="line"><span class="string">              &#125; + 6</span></span><br><span class="line"><span class="string">           &#125; + 7</span></span><br><span class="line"><span class="string">        &#125; + 8</span></span><br><span class="line"><span class="string">     &#125; + 9</span></span><br><span class="line"><span class="string">  &#125; + 10</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">r</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r(n - <span class="number">1</span>) + n</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;總和: <span class="subst">&#123; r(<span class="number">10</span>) &#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>


<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">演算法,</span> <span class="string">Algorithm,</span> <span class="string">al-go-rithm</span></span><br><span class="line"><span class="string">遞迴,</span> <span class="string">Recursion,</span> <span class="string">re-cur-sion</span></span><br><span class="line"><span class="string">時間複雜度,</span> <span class="string">Time</span> <span class="string">complexity,</span> <span class="string">time</span> <span class="string">com-ple-xity</span></span><br></pre></td></tr></table></figure>







]]></content>
      <tags>
        <tag>演算法</tag>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>後端工程師面試-Python技巧篇</title>
    <url>/2022/12/20/leetcode/thing_interview/</url>
    <content><![CDATA[<p>針對面試中常見的Python技巧做練習並記錄相關延伸知識。</p>
<h1 id="演算法"><a href="#演算法" class="headerlink" title="演算法"></a>演算法</h1><h2 id="氣泡排序法"><a href="#氣泡排序法" class="headerlink" title="氣泡排序法"></a>氣泡排序法</h2><p>請用氣泡排序法(Bubble sort)將數列由小到大排序。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">bubble_sort</span>(<span class="params">seq</span>):</span><br><span class="line">    <span class="comment"># Time complexity: O(n^2)</span></span><br><span class="line">    <span class="comment"># Space complexity: O(1)</span></span><br><span class="line">    size = <span class="built_in">len</span>(seq)</span><br><span class="line">    <span class="keyword">if</span> size &lt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> seq</span><br><span class="line"></span><br><span class="line">    i, j = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; size:</span><br><span class="line">        j = i + <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> j &lt; size:</span><br><span class="line">            <span class="keyword">if</span> seq[i] &gt; seq[j]:</span><br><span class="line">                seq[i], seq[j] = seq[j], seq[i]  <span class="comment"># swap(n, n+1)</span></span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> seq</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> bubble_sort([]) == []</span><br><span class="line"><span class="keyword">assert</span> bubble_sort([<span class="number">1</span>]) == [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">assert</span> bubble_sort([<span class="number">2</span>, <span class="number">1</span>]) == [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">assert</span> bubble_sort([<span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>]) == [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<h2 id="快速排序法"><a href="#快速排序法" class="headerlink" title="快速排序法"></a>快速排序法</h2><p>Write your quick sort code here.<br>請用快速排序法(Quick sort)將數列由小到大排序。<br><a href="https://alrightchiu.github.io/SecondRound/comparison-sort-quick-sortkuai-su-pai-xu-fa.html">圖示演算法流程</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">quick_sort</span>(<span class="params">sequence</span>):</span><br><span class="line">    <span class="comment"># Time complexity: O(nlogn)</span></span><br><span class="line">    <span class="comment"># Space complexity: O(n)</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(sequence) &lt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> sequence</span><br><span class="line"></span><br><span class="line">    pivot = sequence[<span class="number">0</span>]</span><br><span class="line">    left = []</span><br><span class="line">    right = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> sequence[<span class="number">1</span>:]:</span><br><span class="line">        <span class="keyword">if</span> i &lt; pivot:</span><br><span class="line">            left.append(i)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            right.append(i)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> quick_sort(left) + [pivot] + quick_sort(right)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> quick_sort([]) == []</span><br><span class="line"><span class="keyword">assert</span> quick_sort([<span class="number">1</span>]) == [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">assert</span> quick_sort([<span class="number">2</span>, <span class="number">1</span>]) == [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">assert</span> quick_sort([<span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>]) == [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<h2 id="合併排序法"><a href="#合併排序法" class="headerlink" title="合併排序法"></a>合併排序法</h2><p>Write your merge sort code here.<br>請用合併排序法(Merge sort)將數列由小到大排序。<br><a href="https://alrightchiu.github.io/SecondRound/comparison-sort-merge-sorthe-bing-pai-xu-fa.html">圖示演算法流程</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">merge_sort</span>(<span class="params">sequence</span>):</span><br><span class="line">    <span class="comment"># Time complexity: O(nlogn)</span></span><br><span class="line">    <span class="comment"># Space complexity: O(n)</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(sequence) &lt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> sequence</span><br><span class="line"></span><br><span class="line">    mid = <span class="built_in">len</span>(sequence) // <span class="number">2</span></span><br><span class="line">    left = merge_sort(sequence[:mid])</span><br><span class="line">    right = merge_sort(sequence[mid:])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> merge_sort(left, right)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> merge_sort([]) == []</span><br><span class="line"><span class="keyword">assert</span> merge_sort([<span class="number">1</span>]) == [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">assert</span> merge_sort([<span class="number">2</span>, <span class="number">1</span>]) == [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">assert</span> merge_sort([<span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>]) == [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<h2 id="找出數列中第二大的數字"><a href="#找出數列中第二大的數字" class="headerlink" title="找出數列中第二大的數字"></a>找出數列中第二大的數字</h2><p>Find second largest number in a list.<br>找出數列中第二大的數字。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">find_second_largest</span>(<span class="params">sequence</span>):</span><br><span class="line">    <span class="comment"># Time complexity: O(n)</span></span><br><span class="line">    <span class="comment"># Space complexity: O(1)</span></span><br><span class="line">    first, second = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> sequence:</span><br><span class="line">        <span class="keyword">if</span> i <span class="keyword">in</span> (first, second):</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> i &gt; second:</span><br><span class="line">            second = i</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> second &gt; first:</span><br><span class="line">            first, second = second, first</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> second</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> find_second_largest([<span class="number">3</span>]) == <span class="number">0</span></span><br><span class="line"><span class="keyword">assert</span> find_second_largest([<span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]) == <span class="number">2</span></span><br><span class="line"><span class="keyword">assert</span> find_second_largest([<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>]) == <span class="number">2</span></span><br><span class="line"><span class="keyword">assert</span> find_second_largest([-<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>]) == <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="找出Target的兩個數字"><a href="#找出Target的兩個數字" class="headerlink" title="找出Target的兩個數字"></a>找出Target的兩個數字</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">two_sum</span>(<span class="params">nums, target</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    思路:</span></span><br><span class="line"><span class="string">    假設 nums = [2, 7, 11, 15], target = 13 =&gt; x+y = target</span></span><br><span class="line"><span class="string">    1. 逐一檢查 nums 中的元素 x, 並檢查 target-x 是否在 dict 中</span></span><br><span class="line"><span class="string">       loop 1: nums[i] = nums[0] = x = 2 , target-x = 13 - 2  = 11, 11 not in dict =&gt; False, dict = &#123;2: 0&#125;</span></span><br><span class="line"><span class="string">       loop 2: nums[i] = nums[1] = x = 7 , target-x = 13 - 7  = 6 , 6 not in dict  =&gt; False, dict = &#123;2: 0, 7: 1&#125;</span></span><br><span class="line"><span class="string">       loop 3: nums[i] = nums[2] = x = 11, target-x = 13 - 11 = 2 , 2 in dict      =&gt; True,</span></span><br><span class="line"><span class="string">               =&gt; return [dict[target - nums[i]], i]</span></span><br><span class="line"><span class="string">               =&gt; return [dict[target - nums[2]], 2]</span></span><br><span class="line"><span class="string">               =&gt; return [dict[13-11], 2]</span></span><br><span class="line"><span class="string">               =&gt; return [dict[2], 2]</span></span><br><span class="line"><span class="string">               =&gt; return [0, 2]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># Time complexity: O(n)</span></span><br><span class="line">    <span class="comment"># Space complexity: O(n)</span></span><br><span class="line">    dict_ = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">        <span class="keyword">if</span> target - nums[i] <span class="keyword">in</span> dict_:</span><br><span class="line">            <span class="keyword">return</span> [dict_[target - nums[i]], i]</span><br><span class="line">        <span class="keyword">elif</span> target == nums[i]:</span><br><span class="line">            <span class="keyword">return</span> [i]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            dict_[nums[i]] = i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> two_sum([<span class="number">2</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">15</span>], target=<span class="number">13</span>) == [<span class="number">0</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">assert</span> two_sum([<span class="number">2</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">15</span>], target=<span class="number">15</span>) == [<span class="number">3</span>]</span><br><span class="line"><span class="keyword">assert</span> two_sum([<span class="number">2</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">15</span>], target=<span class="number">20</span>) == []</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Python技巧"><a href="#Python技巧" class="headerlink" title="Python技巧"></a>Python技巧</h1><h2 id="技巧一"><a href="#技巧一" class="headerlink" title="技巧一"></a>技巧一</h2><p>請繼承Rectangle類別改寫成Square類別，請使用最小改動方式進行實作。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 題目</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, width, height</span>):</span><br><span class="line">        self.width = width</span><br><span class="line">        self.height = height</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">area</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.width * self.height</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">perimeter</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * self.width + <span class="number">2</span> * self.height</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 作答</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Square</span>(<span class="title class_ inherited__">Rectangle</span>):</span><br><span class="line">    <span class="comment"># Write your inheritance code here.</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, width</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(width, width)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">square = Square(<span class="number">10</span>)</span><br><span class="line"><span class="keyword">assert</span> square.area() == <span class="number">100</span></span><br><span class="line"><span class="keyword">assert</span> square.perimeter() == <span class="number">40</span></span><br></pre></td></tr></table></figure>

<h2 id="技巧二"><a href="#技巧二" class="headerlink" title="技巧二"></a>技巧二</h2><p>Write some examples with *args, **kwargs here.<br>請嘗試使用 *args, **kwargs實作一個函式。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">calculate</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">    <span class="comment"># kwargs: keyword arguments</span></span><br><span class="line">    result = <span class="number">0</span></span><br><span class="line">    exp = kwargs.get(<span class="string">&#x27;exp&#x27;</span>, <span class="string">&#x27;+&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx, val <span class="keyword">in</span> <span class="built_in">enumerate</span>(args):</span><br><span class="line">        <span class="keyword">if</span> idx == <span class="number">0</span>:</span><br><span class="line">            result = val</span><br><span class="line">        <span class="keyword">elif</span> exp == <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">            result += val</span><br><span class="line">        <span class="keyword">elif</span> exp == <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">            result -= val</span><br><span class="line">        <span class="keyword">elif</span> exp == <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">            result *= val</span><br><span class="line">        <span class="keyword">elif</span> exp == <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">            result = <span class="built_in">round</span>(result / val, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> calculate(<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, exp=<span class="string">&#x27;*&#x27;</span>) == <span class="number">24</span></span><br><span class="line"><span class="keyword">assert</span> calculate(<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, exp=<span class="string">&#x27;+&#x27;</span>) == <span class="number">10</span></span><br><span class="line"><span class="keyword">assert</span> calculate(<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>) == <span class="number">10</span></span><br><span class="line"><span class="keyword">assert</span> calculate(<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, exp=<span class="string">&#x27;-&#x27;</span>) == -<span class="number">2</span></span><br><span class="line"><span class="keyword">assert</span> calculate(<span class="number">4.0</span>, <span class="number">3.0</span>, <span class="number">2.0</span>, <span class="number">1.0</span>, exp=<span class="string">&#x27;/&#x27;</span>) == <span class="number">0.67</span></span><br><span class="line"><span class="keyword">assert</span> calculate(<span class="number">100</span>, <span class="number">10</span>, <span class="number">2</span>, <span class="number">1</span>, exp=<span class="string">&#x27;/&#x27;</span>) == <span class="number">5</span></span><br></pre></td></tr></table></figure>

<h2 id="技巧三"><a href="#技巧三" class="headerlink" title="技巧三"></a>技巧三</h2><p>Write some examples using python lambda here.<br>請嘗試使用lambda實作一個函式。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">swap = <span class="keyword">lambda</span> x, y: (y, x)</span><br><span class="line"><span class="keyword">assert</span> swap(<span class="number">1</span>, <span class="number">2</span>) == (<span class="number">2</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h2 id="技巧四"><a href="#技巧四" class="headerlink" title="技巧四"></a>技巧四</h2><p>Write some examples using python comprehension here.<br>請嘗試使用comprehension實作一個函式。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Python comprehension:</span></span><br><span class="line"><span class="comment"># List Comprehension: [i for i in range(10)]</span></span><br><span class="line"><span class="comment"># Set &amp; Dictionary Comprehension: &#123;i: i for i in range(10)&#125;</span></span><br><span class="line"><span class="comment"># Generator Comprehension: (i for i in range(10))</span></span><br><span class="line">square = <span class="keyword">lambda</span> x: x * x</span><br><span class="line"><span class="keyword">assert</span> [square(i) <span class="keyword">for</span> i <span class="keyword">in</span> (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>) <span class="keyword">if</span> <span class="keyword">not</span> i % <span class="number">2</span>] == [<span class="number">4</span>, <span class="number">16</span>, <span class="number">36</span>]</span><br></pre></td></tr></table></figure>

<h2 id="技巧五"><a href="#技巧五" class="headerlink" title="技巧五"></a>技巧五</h2><p>Write some examples using python decorator here.<br>請嘗試使用decorator實作一個函式。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">skill</span>(<span class="params">skill_name=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">decorator</span>(<span class="params">func</span>):</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">wrapper</span>():</span><br><span class="line">            skills = func()</span><br><span class="line">            skills.append(skill_name)</span><br><span class="line">            <span class="keyword">return</span> skills</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> decorator</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@skill(<span class="params"><span class="string">&#x27;swift.&#x27;</span></span>)</span></span><br><span class="line"><span class="meta">@skill(<span class="params"><span class="string">&#x27;kotlin,&#x27;</span></span>)</span></span><br><span class="line"><span class="meta">@skill(<span class="params"><span class="string">&#x27;python,&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">i_have_skills</span>():</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;My skills have:&quot;</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot; &quot;</span>.join(i_have_skills()))</span><br><span class="line"><span class="comment"># Output: My skills have: python, kotlin, swift.</span></span><br></pre></td></tr></table></figure>

<h2 id="技巧六"><a href="#技巧六" class="headerlink" title="技巧六"></a>技巧六</h2><p>Write some examples using python generator here.<br>請嘗試使用generator實作一個函式。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Explain the benefit of generators:</span></span><br><span class="line"><span class="comment"># 1. Save memory: </span></span><br><span class="line"><span class="comment">#    - Only generate the next value when needed.</span></span><br><span class="line"><span class="comment">#    - 不用一次性產生所有的數據，而是一次產生一個，這樣就不會有內存溢出的問題。</span></span><br><span class="line"><span class="comment"># 2. Lazy evaluation:</span></span><br><span class="line"><span class="comment">#    - only evaluate when needed.</span></span><br><span class="line"></span><br><span class="line">tasks = [</span><br><span class="line">    <span class="string">&#x27;task A&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;task B&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;task C&#x27;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">pop_tasks</span>():</span><br><span class="line">    <span class="keyword">for</span> task <span class="keyword">in</span> tasks:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;pop task: <span class="subst">&#123;task&#125;</span>&#x27;</span>)</span><br><span class="line">        <span class="keyword">yield</span> task</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===Example 1===&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> task <span class="keyword">in</span> pop_tasks():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;task&#125;</span> is done.&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;===Example 2===&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&gt;pop task and add new task at the same time.&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> idx, task <span class="keyword">in</span> <span class="built_in">enumerate</span>(pop_tasks()):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;idx:<span class="subst">&#123;idx&#125;</span>, <span class="subst">&#123;task&#125;</span> is done.&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> idx &lt; <span class="number">5</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;add new task <span class="subst">&#123;idx&#125;</span>&#x27;</span>)</span><br><span class="line">        tasks.append(<span class="string">f&#x27;task <span class="subst">&#123;idx&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># ===Example 1===</span></span><br><span class="line"><span class="comment"># pop task: task A</span></span><br><span class="line"><span class="comment"># task A is done.</span></span><br><span class="line"><span class="comment"># pop task: task B</span></span><br><span class="line"><span class="comment"># task B is done.</span></span><br><span class="line"><span class="comment"># pop task: task C</span></span><br><span class="line"><span class="comment"># task C is done.</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># ===Example 2===</span></span><br><span class="line"><span class="comment"># &gt;pop task and add new task at the same time.</span></span><br><span class="line"><span class="comment"># pop task: task A</span></span><br><span class="line"><span class="comment"># idx:0, task A is done.</span></span><br><span class="line"><span class="comment"># add new task 0</span></span><br><span class="line"><span class="comment"># pop task: task B</span></span><br><span class="line"><span class="comment"># idx:1, task B is done.</span></span><br><span class="line"><span class="comment"># add new task 1</span></span><br><span class="line"><span class="comment"># pop task: task C</span></span><br><span class="line"><span class="comment"># idx:2, task C is done.</span></span><br><span class="line"><span class="comment"># add new task 2</span></span><br><span class="line"><span class="comment"># pop task: task 0</span></span><br><span class="line"><span class="comment"># idx:3, task 0 is done.</span></span><br><span class="line"><span class="comment"># add new task 3</span></span><br><span class="line"><span class="comment"># pop task: task 1</span></span><br><span class="line"><span class="comment"># idx:4, task 1 is done.</span></span><br><span class="line"><span class="comment"># add new task 4</span></span><br><span class="line"><span class="comment"># pop task: task 2</span></span><br><span class="line"><span class="comment"># idx:5, task 2 is done.</span></span><br><span class="line"><span class="comment"># pop task: task 3</span></span><br><span class="line"><span class="comment"># idx:6, task 3 is done.</span></span><br><span class="line"><span class="comment"># pop task: task 4</span></span><br><span class="line"><span class="comment"># idx:7, task 4 is done.</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="技巧七"><a href="#技巧七" class="headerlink" title="技巧七"></a>技巧七</h2><p>Write some examples using python context manager here.<br>請嘗試使用context manager實作一個函式。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Explain the benefit of context manager:</span></span><br><span class="line"><span class="comment"># 常用於某種資源需開啟並關閉動作，例如open(&#x27;file.txt&#x27;)檔案，常常忘記呼叫file.close()導致文本被鎖，使用context manager可以自動關閉資源。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ContextManager</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;1-&gt;init method called&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__enter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 當進入with區塊時，會自動調用__enter__方法</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;2-&gt;enter method called&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__exit__</span>(<span class="params">self, exc_type, exc_value, exc_traceback</span>):</span><br><span class="line">        <span class="comment"># 當離開with區塊時，會自動調用__exit__方法</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;4-&gt;exit method called&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> ContextManager() <span class="keyword">as</span> manager:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;3-&gt;with statement block&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># 1-&gt;init method called</span></span><br><span class="line"><span class="comment"># 2-&gt;enter method called</span></span><br><span class="line"><span class="comment"># 3-&gt;with statement block</span></span><br><span class="line"><span class="comment"># 4-&gt;exit method called</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="技巧八"><a href="#技巧八" class="headerlink" title="技巧八"></a>技巧八</h2><p>Write some examples using python magic methods here.<br>請嘗試使用magic methods實作一個函式。<br><a href="https://python-course.eu/oop/magic-methods.php">更多Magic Methods的使用</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MagicExample</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, value</span>):</span><br><span class="line">        self.value = value</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 常用於顯示 django model object</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;__str__:<span class="subst">&#123;self.value&#125;</span>&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__add__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;__add__:<span class="subst">&#123;self.value + other&#125;</span>&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__sub__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;__sub__:<span class="subst">&#123;self.value - other&#125;</span>&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__mul__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;__mul__:<span class="subst">&#123;self.value * other&#125;</span>&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__truediv__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;__truediv__:<span class="subst">&#123;self.value / other&#125;</span>&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__floordiv__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;__floordiv__:<span class="subst">&#123;self.value // other&#125;</span>&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">magic = MagicExample(<span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(magic)</span><br><span class="line"><span class="built_in">print</span>(magic + <span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(magic - <span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(magic * <span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(magic / <span class="number">80</span>)  <span class="comment"># 取餘數保留小數點</span></span><br><span class="line"><span class="built_in">print</span>(magic // <span class="number">50</span>)  <span class="comment"># 取餘數去除小數點</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># __str__:100</span></span><br><span class="line"><span class="comment"># __add__:200</span></span><br><span class="line"><span class="comment"># __sub__:0</span></span><br><span class="line"><span class="comment"># __mul__:10000</span></span><br><span class="line"><span class="comment"># __truediv__:1.25</span></span><br><span class="line"><span class="comment"># __floordiv__:2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">演算法,</span> <span class="string">Algorithm,</span> <span class="string">al</span> <span class="bullet">-</span> <span class="string">go</span> <span class="bullet">-</span> <span class="string">rithm</span></span><br><span class="line"><span class="string">技巧,</span> <span class="string">Skill,</span> <span class="string">skill</span></span><br><span class="line"><span class="string">練習,</span> <span class="string">Practice,</span> <span class="string">pra</span> <span class="bullet">-</span> <span class="string">ct</span> <span class="bullet">-</span> <span class="string">ice</span></span><br><span class="line"><span class="string">延伸知識,</span> <span class="string">Knowledge,</span> <span class="string">knowl</span> <span class="bullet">-</span> <span class="string">edge</span></span><br></pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>







]]></content>
      <tags>
        <tag>Python</tag>
        <tag>面試</tag>
      </tags>
  </entry>
  <entry>
    <title>面試 - Phantom Mask</title>
    <url>/2022/11/19/projects/plantom-mask/</url>
    <content><![CDATA[<h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><p>Building a backend service and a database for a pharmacy platform.</p>
<h1 id="交付項目"><a href="#交付項目" class="headerlink" title="交付項目"></a>交付項目</h1><ul>
<li>後台管理: <a href="https://mask.langgo.app/admin/">https://mask.langgo.app/admin/</a></li>
<li>API測試: <a href="https://mask.langgo.app/swagger/">https://mask.langgo.app/swagger/</a> <code>(須先登入後台取得授權)</code></li>
<li>API文件: <a href="https://mask.langgo.app/doc/">https://mask.langgo.app/doc/</a></li>
<li>API效能分析: <a href="https://mask.langgo.app/silk/">https://mask.langgo.app/silk/</a> <code>(須先登入後台取得授權)</code></li>
</ul>
<span id="more"></span>

<h1 id="未實作任務"><a href="#未實作任務" class="headerlink" title="未實作任務"></a>未實作任務</h1><ul>
<li><p>Search for pharmacies or masks by name, ranked by relevance to the search term.<br>搜尋藥局名稱可用關聯性做排序。但口罩名稱搜尋有實作但無法達成以關聯性做排序。</p>
</li>
<li><p>Write appropriate tests with a proper coverage report.<br>目前沒有導入自動化測試流程，所以這部分尚未實作。</p>
</li>
</ul>
<h1 id="雲端部署"><a href="#雲端部署" class="headerlink" title="雲端部署"></a>雲端部署</h1><h2 id="服務架構"><a href="#服務架構" class="headerlink" title="服務架構"></a>服務架構</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/4k192h1.png" alt="服務架構"></p>
<h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Login to remote server with ssh on AWS EC2</span></span><br><span class="line">ssh root@phantom_mask_host</span><br><span class="line"></span><br><span class="line"><span class="comment"># Pull project from github</span></span><br><span class="line"><span class="built_in">cd</span> /data</span><br><span class="line">git <span class="built_in">clone</span> git@github.com:wenchan3918/phantom_mask.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create .env file, then edit it</span></span><br><span class="line"><span class="comment"># Refernce: 4.4 .env檔</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Build docker image and run</span></span><br><span class="line"><span class="built_in">cd</span> /data/phantom_mask</span><br><span class="line">bash run.sh dev up -d</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create django superuser</span></span><br><span class="line">docker <span class="built_in">exec</span> -it django /bin/bash</span><br><span class="line">python manage.py createsuperuser</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 一鍵部署，透過簡單腳本語言，進行代碼更新與容器重啟。</span></span><br><span class="line"><span class="comment"># cd to local project root directory</span></span><br><span class="line">./cli/publish2prod.sh</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="測試資料匯入"><a href="#測試資料匯入" class="headerlink" title="測試資料匯入"></a>測試資料匯入</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Operation on docker container</span></span><br><span class="line">docker <span class="built_in">exec</span> -it django /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import pharmacies.json and users.json</span></span><br><span class="line">python manage.py import_data</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若要重新匯入，請先刪除所有資料</span></span><br><span class="line">python manage.py clear_data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Operation on host(宿主主機)</span></span><br><span class="line"><span class="comment"># Import pharmacies.json and users.json</span></span><br><span class="line">docker <span class="built_in">exec</span> django bash -c <span class="string">&quot;python manage.py import_data&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 若要重新匯入，請先刪除所有資料</span></span><br><span class="line">docker <span class="built_in">exec</span> django bash -c <span class="string">&quot;python manage.py clear_data&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="env檔"><a href="#env檔" class="headerlink" title=".env檔"></a>.env檔</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#.env file</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Nginx setting</span></span><br><span class="line">MODE=dev</span><br><span class="line">SERVER_NAME_LIST=mask.langgo.app</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Django setting</span></span><br><span class="line">ENABLE_SILK=1</span><br><span class="line"></span><br><span class="line">ALLOWED_HOSTS=127.0.0.1,localhost,0.0.0.0,mask.langgo.app</span><br><span class="line"></span><br><span class="line"><span class="comment"># SECRET_KEY generate by https://djecrety.ir/</span></span><br><span class="line">SECRET_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line"></span><br><span class="line">DB_HOST=db</span><br><span class="line">DB_NAME=phantom_mask</span><br><span class="line">DB_USER=postgres</span><br><span class="line">DB_PASSWORD=xxxxx</span><br><span class="line">DB_PORT=5432</span><br><span class="line">POSTGRES_HOST_AUTH_METHOD=trust <span class="comment">#Must</span></span><br><span class="line"></span><br><span class="line">LOG_PATH=/log</span><br><span class="line"></span><br><span class="line">APP_ROOT_PATH=/app</span><br></pre></td></tr></table></figure>

<h2 id="容器狀態"><a href="#容器狀態" class="headerlink" title="容器狀態"></a>容器狀態</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/tdW7B5A.png" alt="當前啟動容器"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/esQPB8I.png" alt="容器使用資源"></p>
<h1 id="任務需求"><a href="#任務需求" class="headerlink" title="任務需求"></a>任務需求</h1><h2 id="任務1"><a href="#任務1" class="headerlink" title="任務1"></a>任務1</h2><p>List all pharmacies open at a specific time and on a day of the week if requested.<br>理解為: 列出藥局，可指定篩選某星期以及幾點營業的藥局。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 測試條件: 列出週三早上八點營業且晚上八點結束營業的藥局。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Resquest</span></span><br><span class="line">curl --location --request GET <span class="string">&#x27;https://mask.langgo.app/api/pharmacy/?week=3&amp;open_at=02:00&amp;close_at=20:00&amp;fields=name,opening_hours&amp;page_size=3&#x27;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># Response </span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;next&quot;</span>: <span class="string">&quot;https://mask.langgo.app/api/pharmacy/?close_at=20%3A00&amp;fields=name%2Copening_hours&amp;open_at=02%3A00&amp;page=2&amp;page_size=3&amp;week=3&quot;</span>,</span><br><span class="line">    <span class="string">&quot;previous&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;count&quot;</span>: 18,</span><br><span class="line">    <span class="string">&quot;results&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;DFW Wellness&quot;</span>,</span><br><span class="line">            <span class="string">&quot;opening_hours&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;week&quot;</span>: <span class="string">&quot;WEDNESDAY&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;open_at&quot;</span>: <span class="string">&quot;08:00&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;close_at&quot;</span>: <span class="string">&quot;12:00&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Carepoint&quot;</span>,</span><br><span class="line">            <span class="string">&quot;opening_hours&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;week&quot;</span>: <span class="string">&quot;WEDNESDAY&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;open_at&quot;</span>: <span class="string">&quot;08:00&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;close_at&quot;</span>: <span class="string">&quot;17:00&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;First Care Rx&quot;</span>,</span><br><span class="line">            <span class="string">&quot;opening_hours&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;week&quot;</span>: <span class="string">&quot;WEDNESDAY&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;open_at&quot;</span>: <span class="string">&quot;08:00&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;close_at&quot;</span>: <span class="string">&quot;17:00&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/8tmX4fE.png"></p>
<h2 id="任務2"><a href="#任務2" class="headerlink" title="任務2"></a>任務2</h2><p>List all masks sold by a given pharmacy, sorted by mask name or price.<br>理解為: 列出藥局，需附帶已販售的口罩，且可依照口罩的名稱或價格做降冪或升冪排序。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 測試條件: 列出所有藥局的販售紀錄且以販售價格做降冪排序。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Request</span></span><br><span class="line">curl --location --request GET <span class="string">&#x27;https://mask.langgo.appapi/pharmacy/?fields=name,sales_history&amp;ordering=price&amp;is_desc=true&amp;page_size=3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Response</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;next&quot;</span>: <span class="string">&quot;https://mask.langgo.app/api/pharmacy/?fields=name%2Csales_history&amp;is_desc=true&amp;ordering=price&amp;page=2&amp;page_size=3&quot;</span>,</span><br><span class="line">    <span class="string">&quot;previous&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;count&quot;</span>: 20,</span><br><span class="line">    <span class="string">&quot;results&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;DFW Wellness&quot;</span>,</span><br><span class="line">            <span class="string">&quot;sales_history&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 21,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;DFW Wellness&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 97,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;MaskT (green) (10 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 41.86</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 38.34,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-26 10:49:29&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 21,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;DFW Wellness&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 96,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;True Barrier (green) (3 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 13.7</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 14.74,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-29 04:17:31&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 21,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;DFW Wellness&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 100,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;Masquerade (green) (3 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 9.4</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 9.6,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-15 08:46:36&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 21,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;DFW Wellness&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 99,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;Second Smile (black) (3 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 5.84</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 5.28,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-02 10:58:40&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Carepoint&quot;</span>,</span><br><span class="line">            <span class="string">&quot;sales_history&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 22,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;Carepoint&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 101,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;Masquerade (blue) (6 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 7.05</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 7.6,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-24 21:48:58&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 22,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;Carepoint&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 101,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;Masquerade (blue) (6 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 7.05</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 6.68,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-30 08:25:13&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 22,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;Carepoint&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 101,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;Masquerade (blue) (6 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 7.05</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 6.67,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-28 14:03:58&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 22,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;Carepoint&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 101,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;Masquerade (blue) (6 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 7.05</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 6.44,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-07 05:07:21&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 22,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;Carepoint&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 101,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;Masquerade (blue) (6 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 7.05</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 6.39,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-17 04:24:31&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;First Care Rx&quot;</span>,</span><br><span class="line">            <span class="string">&quot;sales_history&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 23,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;First Care Rx&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 108,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;MaskT (black) (10 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 44.4</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 41.66,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-06 07:46:12&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 23,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;First Care Rx&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 109,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;MaskT (green) (10 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 37.87</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 36.64,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-17 10:46:34&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 23,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;First Care Rx&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 110,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;Second Smile (black) (3 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 14.96</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 14.24,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-03 07:30:30&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/CphCWJY.png"></p>
<h2 id="任務3"><a href="#任務3" class="headerlink" title="任務3"></a>任務3</h2><p>List all pharmacies with more or less than x mask products within a price range.<br>理解為: 列出藥局，需附帶可販賣的口罩，且可用價格範圍進行篩選。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 測試條件: 列出所有藥局並附上販售的口罩商品，口罩商品只顯示出販售價格為10~20元區間並以銷售價格做降冪排序。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Request</span></span><br><span class="line">curl --location --request GET <span class="string">&#x27;https://mask.langgo.app/api/pharmacy/?fields=name,mask_products&amp;min_price=10&amp;max_price=20&amp;is_desc=true&amp;page_size=3&#x27;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># Response</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;next&quot;</span>: <span class="string">&quot;https://mask.langgo.app/api/pharmacy/?fields=name%2Cmask_products&amp;is_desc=true&amp;max_price=20&amp;min_price=10&amp;page=2&amp;page_size=3&quot;</span>,</span><br><span class="line">    <span class="string">&quot;previous&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;count&quot;</span>: 20,</span><br><span class="line">    <span class="string">&quot;results&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;DFW Wellness&quot;</span>,</span><br><span class="line">            <span class="string">&quot;mask_products&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;product_id&quot;</span>: 96,</span><br><span class="line">                    <span class="string">&quot;product_name&quot;</span>: <span class="string">&quot;True Barrier (green) (3 per pack)&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;price&quot;</span>: 13.7</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Carepoint&quot;</span>,</span><br><span class="line">            <span class="string">&quot;mask_products&quot;</span>: []</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;First Care Rx&quot;</span>,</span><br><span class="line">            <span class="string">&quot;mask_products&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;product_id&quot;</span>: 105,</span><br><span class="line">                    <span class="string">&quot;product_name&quot;</span>: <span class="string">&quot;Masquerade (black) (10 per pack)&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;price&quot;</span>: 19.95</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;product_id&quot;</span>: 110,</span><br><span class="line">                    <span class="string">&quot;product_name&quot;</span>: <span class="string">&quot;Second Smile (black) (3 per pack)&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;price&quot;</span>: 14.96</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;product_id&quot;</span>: 107,</span><br><span class="line">                    <span class="string">&quot;product_name&quot;</span>: <span class="string">&quot;Masquerade (black) (3 per pack)&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;price&quot;</span>: 12.0</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;product_id&quot;</span>: 104,</span><br><span class="line">                    <span class="string">&quot;product_name&quot;</span>: <span class="string">&quot;Second Smile (blue) (6 per pack)&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;price&quot;</span>: 11.07</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/Y0SILcB.png"></p>
<h2 id="任務4"><a href="#任務4" class="headerlink" title="任務4"></a>任務4</h2><p>The top x users by total transaction amount of masks within a date range.<br>理解為: 列出顧客，可篩選某個日期範圍內的交易總金額，並依照交易總金額做降冪排序。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 測試條件: 列出2021-01-11~2021-01-15有進行交易的顧客且依交易總金額做降冪排序。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Request</span></span><br><span class="line">curl --location --request GET <span class="string">&#x27;https://mask.langgo.app/api/pharmacy/customer/?start_date=2021-01-11&amp;end_date=2021-01-15&amp;ordering=total_transaction_amount&amp;is_desc=true&amp;fields=name,total_transaction_amount,purchase_history&amp;page_size=3&#x27;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># Response</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;next&quot;</span>: <span class="string">&quot;https://mask.langgo.app/api/pharmacy/customer/?end_date=2021-01-15&amp;fields=name%2Ctotal_transaction_amount%2Cpurchase_history&amp;is_desc=true&amp;ordering=total_transaction_amount&amp;page=2&amp;page_size=3&amp;start_date=2021-01-11&quot;</span>,</span><br><span class="line">    <span class="string">&quot;previous&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;count&quot;</span>: 8,</span><br><span class="line">    <span class="string">&quot;results&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Timothy Schultz&quot;</span>,</span><br><span class="line">            <span class="string">&quot;total_transaction_amount&quot;</span>: 77.71,</span><br><span class="line">            <span class="string">&quot;purchase_history&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 37,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;Health Element&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 172,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;Masquerade (green) (6 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 25.44</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 27.98,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-12 10:33:56&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 33,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;Foundation Care&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 150,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;Masquerade (green) (10 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 29.66</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 31.95,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-11 17:49:49&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 32,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;PharmaMed&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 149,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;MaskT (green) (10 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 17.81</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 17.78,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-11 02:32:53&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Willie Moran&quot;</span>,</span><br><span class="line">            <span class="string">&quot;total_transaction_amount&quot;</span>: 49.19,</span><br><span class="line">            <span class="string">&quot;purchase_history&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 25,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;Prescription Hope&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 117,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;Cotton Kiss (green) (10 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 46.07</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 49.19,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-13 20:44:43&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Wilbert Love&quot;</span>,</span><br><span class="line">            <span class="string">&quot;total_transaction_amount&quot;</span>: 28.8,</span><br><span class="line">            <span class="string">&quot;purchase_history&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 28,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;First Pharmacy&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 126,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;Cotton Kiss (green) (10 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 16.02</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 17.5,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-13 01:18:23&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 34,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;Keystone Pharmacy&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 152,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;True Barrier (green) (3 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 12.06</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 11.3,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-13 00:19:32&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/IoRMCqZ.png"></p>
<h2 id="任務5"><a href="#任務5" class="headerlink" title="任務5"></a>任務5</h2><p>The total number of masks and dollar value of transactions within a date range.<br>理解為: 列出口罩，可篩選某日期範圍內的口罩交易的總金額。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 測試條件: 列出口罩，在2021-01-11~2021-01-15有販售紀錄且顯示這段時間販售的總金額。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Request</span></span><br><span class="line">curl --location --request GET <span class="string">&#x27;https://mask.langgo.app/api/pharmacy/mask/?start_date=2021-01-11&amp;end_date=2021-01-15&amp;fields=name,sale_total_amount,sale_total_transaction_amount,purchase_history&amp;page_size=3&#x27;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># Response</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;next&quot;</span>: <span class="string">&quot;https://mask.langgo.app/api/pharmacy/mask/?end_date=2021-01-15&amp;fields=name%2Csale_total_amount%2Csale_total_transaction_amount%2Cpurchase_history&amp;page=2&amp;page_size=3&amp;start_date=2021-01-11&quot;</span>,</span><br><span class="line">    <span class="string">&quot;previous&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;count&quot;</span>: 9,</span><br><span class="line">    <span class="string">&quot;results&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;True Barrier (green) (3 per pack)&quot;</span>,</span><br><span class="line">            <span class="string">&quot;sale_total_amount&quot;</span>: 2,</span><br><span class="line">            <span class="string">&quot;sale_total_transaction_amount&quot;</span>: 24.26,</span><br><span class="line">            <span class="string">&quot;purchase_history&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 34,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;Keystone Pharmacy&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 152,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;True Barrier (green) (3 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 12.06</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 12.96,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-12 09:26:36&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 34,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;Keystone Pharmacy&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 152,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;True Barrier (green) (3 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 12.06</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 11.3,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-13 00:19:32&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;MaskT (green) (10 per pack)&quot;</span>,</span><br><span class="line">            <span class="string">&quot;sale_total_amount&quot;</span>: 1,</span><br><span class="line">            <span class="string">&quot;sale_total_transaction_amount&quot;</span>: 17.78,</span><br><span class="line">            <span class="string">&quot;purchase_history&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 32,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;PharmaMed&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 149,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;MaskT (green) (10 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 17.81</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 17.78,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-11 02:32:53&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Masquerade (green) (10 per pack)&quot;</span>,</span><br><span class="line">            <span class="string">&quot;sale_total_amount&quot;</span>: 1,</span><br><span class="line">            <span class="string">&quot;sale_total_transaction_amount&quot;</span>: 31.95,</span><br><span class="line">            <span class="string">&quot;purchase_history&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;mask&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;pharmacy_id&quot;</span>: 33,</span><br><span class="line">                        <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;Foundation Care&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mask_product_id&quot;</span>: 150,</span><br><span class="line">                        <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;Masquerade (green) (10 per pack)&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;price&quot;</span>: 29.66</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">&quot;transaction_amount&quot;</span>: 31.95,</span><br><span class="line">                    <span class="string">&quot;transaction_date&quot;</span>: <span class="string">&quot;2021-01-11 17:49:49&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/ZLCBp33.png"></p>
<h2 id="任務6"><a href="#任務6" class="headerlink" title="任務6"></a>任務6</h2><p>Search for pharmacies or masks by name, ranked by relevance to the search term.<br>理解為: 列出口罩與藥局，當名稱符合關鍵字搜尋，且需要搜尋關聯性詞語做排序(<code>此部分未實作</code>)。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 測試條件: 列出藥局，搜尋含有『Health』關鍵字的藥局，且附帶販售的口罩資訊。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Request</span></span><br><span class="line">curl --location --request GET <span class="string">&#x27;http://127.0.0.1:8080/api/pharmacy/?fields=name,mask_products&amp;name=Health&amp;page_size=3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Response</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;next&quot;</span>: <span class="string">&quot;https://mask.langgo.app/api/pharmacy/?fields=name%2Cmask_products&amp;name=Health&amp;page=2&amp;page_size=3&quot;</span>,</span><br><span class="line">    <span class="string">&quot;previous&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;count&quot;</span>: 5,</span><br><span class="line">    <span class="string">&quot;results&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Health Mart&quot;</span>,</span><br><span class="line">            <span class="string">&quot;mask_products&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;product_id&quot;</span>: 119,</span><br><span class="line">                    <span class="string">&quot;product_name&quot;</span>: <span class="string">&quot;Cotton Kiss (blue) (3 per pack)&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;price&quot;</span>: 7.1</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Health Warehouse&quot;</span>,</span><br><span class="line">            <span class="string">&quot;mask_products&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;product_id&quot;</span>: 121,</span><br><span class="line">                    <span class="string">&quot;product_name&quot;</span>: <span class="string">&quot;MaskT (black) (10 per pack)&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;price&quot;</span>: 15.71</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;product_id&quot;</span>: 120,</span><br><span class="line">                    <span class="string">&quot;product_name&quot;</span>: <span class="string">&quot;Second Smile (green) (10 per pack)&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;price&quot;</span>: 43.51</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Health Element&quot;</span>,</span><br><span class="line">            <span class="string">&quot;mask_products&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;product_id&quot;</span>: 173,</span><br><span class="line">                    <span class="string">&quot;product_name&quot;</span>: <span class="string">&quot;Cotton Kiss (green) (6 per pack)&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;price&quot;</span>: 20.5</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;product_id&quot;</span>: 171,</span><br><span class="line">                    <span class="string">&quot;product_name&quot;</span>: <span class="string">&quot;MaskT (green) (10 per pack)&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;price&quot;</span>: 24.55</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;product_id&quot;</span>: 172,</span><br><span class="line">                    <span class="string">&quot;product_name&quot;</span>: <span class="string">&quot;Masquerade (green) (6 per pack)&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;price&quot;</span>: 25.44</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;product_id&quot;</span>: 174,</span><br><span class="line">                    <span class="string">&quot;product_name&quot;</span>: <span class="string">&quot;MaskT (blue) (10 per pack)&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;price&quot;</span>: 33.96</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/SR8szoO.png"></p>
<h2 id="任務7"><a href="#任務7" class="headerlink" title="任務7"></a>任務7</h2><p>Process a user purchases a mask from a pharmacy, and handle all relevant data changes in an atomic transaction.<br>理解為: 顧客可一次購買多筆口罩，購買結帳過程中如果發生客戶有餘額不足時，則取消此次交易，並回復客戶原本餘額以及藥局銷售金額。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 測試條件: 客戶『Ada Larson』購買兩筆口罩商品。</span></span><br><span class="line">- Ada Larson購買前可用餘額<span class="variable">$978</span>.49</span><br><span class="line">購買下面兩筆口罩:</span><br><span class="line">&#123;</span><br><span class="line">      <span class="string">&quot;pharmacy_id&quot;</span>: 1,</span><br><span class="line">      <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;DFW Wellness&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mask_product_id&quot;</span>: 1,</span><br><span class="line">      <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;True Barrier (green) (3 per pack)&quot;</span>,</span><br><span class="line">      <span class="string">&quot;price&quot;</span>: 13.7</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">      <span class="string">&quot;pharmacy_id&quot;</span>: 1,</span><br><span class="line">      <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;DFW Wellness&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mask_product_id&quot;</span>: 2,</span><br><span class="line">      <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;MaskT (green) (10 per pack)&quot;</span>,</span><br><span class="line">      <span class="string">&quot;price&quot;</span>: 41.86</span><br><span class="line">&#125;</span><br><span class="line">- 第一次購買後，可用餘額<span class="variable">$922</span>.93</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Request</span></span><br><span class="line">curl --location --request POST <span class="string">&#x27;https://mask.langgo.app/api/pharmacy/mask/order/&#x27;</span> \</span><br><span class="line">--header <span class="string">&#x27;Content-Type: application/json&#x27;</span> \</span><br><span class="line">--data-raw <span class="string">&#x27;&#123;</span></span><br><span class="line"><span class="string">    &quot;customer_name&quot;: &quot;Ada Larson&quot;,</span></span><br><span class="line"><span class="string">    &quot;items&quot;: [</span></span><br><span class="line"><span class="string">        &#123;</span></span><br><span class="line"><span class="string">            &quot;mask_product_id&quot;: 1,</span></span><br><span class="line"><span class="string">            &quot;num&quot;: 1</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        &#123;</span></span><br><span class="line"><span class="string">            &quot;mask_product_id&quot;: 2,</span></span><br><span class="line"><span class="string">            &quot;num&quot;: 1</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    ]</span></span><br><span class="line"><span class="string">&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Response</span></span><br><span class="line">status: 200</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/yszQ2aD.png"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/IwrIyA6.png" alt="Ada Larson購買前可用餘額$978.49"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/06m7u8I.png" alt="第一次購買後，可用餘額$922.93"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 測試條件: 客戶『Ada Larson』購買兩筆口罩商品，其中一筆產品購買數量為100。</span></span><br><span class="line">- Ada Larson購買前可用餘額<span class="variable">$922</span>.93</span><br><span class="line">購買下面兩筆口罩:</span><br><span class="line">&#123;</span><br><span class="line">      <span class="string">&quot;pharmacy_id&quot;</span>: 1,</span><br><span class="line">      <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;DFW Wellness&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mask_product_id&quot;</span>: 1,</span><br><span class="line">      <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;True Barrier (green) (3 per pack)&quot;</span>,</span><br><span class="line">      <span class="string">&quot;price&quot;</span>: 13.7</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">      <span class="string">&quot;pharmacy_id&quot;</span>: 1,</span><br><span class="line">      <span class="string">&quot;pharmacy_name&quot;</span>: <span class="string">&quot;DFW Wellness&quot;</span>,</span><br><span class="line">      <span class="string">&quot;mask_product_id&quot;</span>: 2,</span><br><span class="line">      <span class="string">&quot;mask_product_name&quot;</span>: <span class="string">&quot;MaskT (green) (10 per pack)&quot;</span>,</span><br><span class="line">      <span class="string">&quot;price&quot;</span>: 41.86</span><br><span class="line">&#125;</span><br><span class="line">- 第二次購買後，因超過可用餘額將不扣款，可用餘額維持<span class="variable">$922</span>.93</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Request</span></span><br><span class="line">curl --location --request POST <span class="string">&#x27;https://mask.langgo.app/api/pharmacy/mask/order/&#x27;</span> \</span><br><span class="line">--header <span class="string">&#x27;Content-Type: application/json&#x27;</span> \</span><br><span class="line">--data-raw <span class="string">&#x27;&#123;</span></span><br><span class="line"><span class="string">    &quot;customer_name&quot;: &quot;Ada Larson&quot;,</span></span><br><span class="line"><span class="string">    &quot;items&quot;: [</span></span><br><span class="line"><span class="string">        &#123;</span></span><br><span class="line"><span class="string">            &quot;mask_product_id&quot;: 1,</span></span><br><span class="line"><span class="string">            &quot;num&quot;: 1</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        &#123;</span></span><br><span class="line"><span class="string">            &quot;mask_product_id&quot;: 2,</span></span><br><span class="line"><span class="string">            &quot;num&quot;: 100</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    ]</span></span><br><span class="line"><span class="string">&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Response</span></span><br><span class="line">status: 400</span><br><span class="line">[</span><br><span class="line">    <span class="string">&quot;Customer cash balance is not enough. Ada Larson&#x27;s cash balance is <span class="variable">$922</span>.93.&quot;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/TAY3C74.png"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/06m7u8I.png" alt="第二次購買後，因超過可用餘額將不扣款，可用餘額維持$922.93"></p>
<h1 id="資料模型"><a href="#資料模型" class="headerlink" title="資料模型"></a>資料模型</h1><p>共有五個資料模型，分別為:</p>
<ul>
<li>Pharmacy Model: 藥局資料表。</li>
<li>Opening Hour Model: 藥局營業時間資料表。</li>
<li>Mask Model: 口罩資料表。</li>
<li>Pharmacy Mask Model: 藥局口罩資料表，用來對應藥局與口罩的關係，每筆資料代表可販售的口罩商品。</li>
<li>Customer Model: 顧客資料表。</li>
<li>Purchase History Model: 顧客購買紀錄資料表。</li>
</ul>
<blockquote>
<p>使用 <a href="https://dbeaver.io/">DBeaver</a> 工具產生ER Diagram。<br>使用 <a href="https://docs.djangoproject.com/en/4.1/topics/migrations/">Django migrations</a> 來建立資料表，可控管Schema異動版本。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/QFEYz3b.png" alt="ER Diagram"></p>
<h1 id="API"><a href="#API" class="headerlink" title="API"></a>API</h1><p>共提供四隻API，分別為:</p>
<ul>
<li>Search Pharmacy API: 搜尋藥局。</li>
<li>Search Customer API: 搜尋顧客。</li>
<li>Search Mask API: 搜尋口罩。</li>
<li>Buy Mask API: 購買口罩。</li>
</ul>
<h2 id="使用文件"><a href="#使用文件" class="headerlink" title="使用文件"></a>使用文件</h2><p>此文件主要優化閱讀性但不提供測試 <a href="https://mask.langgo.app/doc/">https://mask.langgo.app/doc/</a> 。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/Id3lREp.png" alt="Swagger API文件2"></p>
<h2 id="線上測試"><a href="#線上測試" class="headerlink" title="線上測試"></a>線上測試</h2><p>可進入 <a href="https://mask.langgo.app/swagger/">https://mask.langgo.app/swagger/</a> 直接點選<code>Try it out</code>按鈕進行測試。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/Pnt5mlG.png" alt="Swagger API文件"></p>
<h2 id="效能分析"><a href="#效能分析" class="headerlink" title="效能分析"></a>效能分析</h2><p>使用 <a href="https://github.com/jazzband/django-silk">django-silk</a> 套件，可在 <a href="https://mask.langgo.app/silk/">https://mask.langgo.app/silk/</a> 分析過去的API請求。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/sjWJ6Mv.png" alt="請求總表"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/sjWJ6Mv.png" alt="請求詳細Request"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/3YNJmfj.png" alt="請求詳細SQL"></p>
<h2 id="測試工具"><a href="#測試工具" class="headerlink" title="測試工具"></a>測試工具</h2><p>使用<a href="https://www.apifox.cn/">Apifox</a>工具進行API測試。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/Fs9t6KL.png" alt="Apifox"></p>
<h1 id="後台管理介面"><a href="#後台管理介面" class="headerlink" title="後台管理介面"></a>後台管理介面</h1><p>使用<a href="https://docs.djangoproject.com/en/4.1/ref/contrib/admin/">Django admin</a>進行後台建置，提供畫面可直接對數據進行觀看與編輯。</p>
<h2 id="管理員登入"><a href="#管理員登入" class="headerlink" title="管理員登入"></a>管理員登入</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/HkH30xI.png" alt="後台登入"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/SxhUAi7.png" alt="後台首頁"></p>
<h2 id="藥局管理"><a href="#藥局管理" class="headerlink" title="藥局管理"></a>藥局管理</h2><p>顯示各家藥局，包含營業額、銷售數量、營業時間、與販售的口罩商品。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/IGNYAmw.png" alt="Pharmacy藥局列表"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/RR5vF3z.png" alt="Pharmacy藥局詳細內容"></p>
<h2 id="口罩管理"><a href="#口罩管理" class="headerlink" title="口罩管理"></a>口罩管理</h2><p>顯示各種口罩，包含銷售數量。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/e3n8fXB.png" alt="Mask口罩列表"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/hCsO1YZ.png" alt="Mask口罩詳細內容"></p>
<h2 id="顧客管理"><a href="#顧客管理" class="headerlink" title="顧客管理"></a>顧客管理</h2><p>顯示各位顧客，包含可用餘額與購買紀錄。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/kr2UC7n.png" alt="Customer顧客列表"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.imgur.com/Wbisibr.png" alt="Customer顧客詳細內容"></p>
<h1 id="演算法"><a href="#演算法" class="headerlink" title="演算法"></a>演算法</h1><ul>
<li><a href="https://wenchan3918.github.io/2022/11/20/leetcode/multi-style-date-format/">多種營業時間格式處理</a></li>
</ul>
<h1 id="線上面試"><a href="#線上面試" class="headerlink" title="線上面試"></a>線上面試</h1><h2 id="資訊收集"><a href="#資訊收集" class="headerlink" title="資訊收集"></a>資訊收集</h2><p>了解公司與老闆背景，以及目前公司產品與服務。</p>
<ul>
<li><p><a href="https://www.kdanmobile.com/zh-tw/aboutus">官方-關於我們</a></p>
</li>
<li><p><a href="https://www.bnext.com.tw/article/60477/kdan-mobile">從純賣軟體走向訂閱制！ 凱鈿科技抓準海外企業需求，擁800萬會員發展B2B</a></p>
</li>
<li><p><a href="https://www.aamataipei.com.tw/archives/portfolio/%E8%98%87%E6%9F%8F%E5%B7%9E">AAMA台北搖籃計畫</a></p>
</li>
<li><p><a href="https://www.digitimes.com.tw/iot/article.asp?cat=158&cat1=20&id=0000579569_HHT47KZI70XPVF8A3QVXC">對話凱鈿CEO蘇柏州：雲端服務未來10年將有爆發性成長</a></p>
</li>
<li><p>公司: <a href="https://www.kdanmobile.com/zh-tw">凱鈿行動科技股份有限公司</a></p>
</li>
<li><p>主要產品:</p>
<ul>
<li>Creativity 365 讓彙整資料、編輯、創作、發布的流程變得快速、簡單。一次擁有全系列產品，<br>包含Animation Desk、Write-on Video、NoteLedge和Markup。</li>
<li>Document 365提供個人與企業用戶絕佳的PDF文件解決方案，搭載凱鈿最受歡迎的PDF Reader行動與桌機全系列軟體，滿足您在任一裝置上的各種工作情境。</li>
<li>點點簽 DottedSign將簽名流程數位化，讓您立即享有行動工作的自由。點點簽幫您將工作流程化繁為簡，讓商務推展更順暢！<ul>
<li><a href="https://www.youtube.com/watch?v=rAPKSlv-WEA">點點簽DottedSign - 電子簽名教學，3分鐘完成簽署！</a></li>
<li>[<a href="https://www.dottedsign.com/zh-tw/blog/product/introduce-of-electronic-signature">電子簽章是什麼？怎麼用？5步驟完成無紙化電子簽署！</a></li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202211270911060.png"></p>
<p><a href="https://play.google.com/store/apps/dev?id=8130748137413633357">Google Play</a><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202211270959987.png"></p>
</li>
<li><p>老闆: 蘇柏州 先生。</p>
</li>
<li><p>核心成員: 24位。</p>
</li>
<li><p>資本額: 3億，實收1.65億。</p>
</li>
</ul>
<h2 id="資訊消化"><a href="#資訊消化" class="headerlink" title="資訊消化"></a>資訊消化</h2><ul>
<li>公司主要針對企業客戶，提供合約雲端作業平台，可在線上編輯合約內容與電子簽署等服務。</li>
<li>從提供服務類型得知，市場應該是以企業客戶為主。</li>
<li>Creativity 365與Notion看似為同質性產品。</li>
<li>公司獲利來源，APP廣告與雲端服務訂閱。</li>
<li>提供的雲端數位創作，競爭應該滿大的，例如office 365、notion。</li>
</ul>
<h2 id="提問問題"><a href="#提問問題" class="headerlink" title="提問問題"></a>提問問題</h2><ul>
<li>公司未來發展方向應該以企業客戶為主要市場?希望再提供哪方面服務(還有哪些痛點)，以目前產品點點簽應該已經解決到客戶合約簽署痛點。</li>
<li>目前技術團隊組成，APP、前端、後端規模？是否有還有其他職務？，如AI、運維？</li>
<li>三位技術經理主要負責領域？<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/wenchan3918/hexo_images/master/202211291304262.png"></li>
<li>公司目前使用的技術有哪些？</li>
<li>資深後端工程師職務內容，希望協助解決哪方面問題？</li>
<li>一個專案任務，從需求到實作整個過程會是如何進行討論與分配？</li>
<li>公司是否有提供創新環境？讓員工能有時間跟環境進行idea發想與創新？</li>
<li>目前公司提供的服務，對未來遠景與競爭對手有什麼看法？</li>
<li>公司主要獲利來源？</li>
<li>針對這次筆試呈現結果，是否有哪些地方需要改進？</li>
</ul>
<h2 id="面試過程"><a href="#面試過程" class="headerlink" title="面試過程"></a>面試過程</h2><h3 id="HR電話面談"><a href="#HR電話面談" class="headerlink" title="HR電話面談:"></a>HR電話面談:</h3><p>At 2022&#x2F;11&#x2F;25<br>輕切熱忱，主要通知技術面試時間跟內容，並介紹公司文化、背景、產品以及辦公情況。</p>
<h3 id="技術視訊面試-ㄧ面"><a href="#技術視訊面試-ㄧ面" class="headerlink" title="技術視訊面試(ㄧ面):"></a>技術視訊面試(ㄧ面):</h3><p>At 2022&#x2F;11&#x2F;27 14:00<br><strong>面試內容</strong>:</p>
<ul>
<li>自我介紹，並介紹自己的經歷。</li>
<li>針對筆試內容做詢問，<ul>
<li>為何使用目前Django框架?有哪些好處？</li>
<li>silky工具很有趣，怎麼解讀上面數據?以及上面反應時間好壞如何判定？</li>
<li>API接口設計想法?</li>
<li>query custom field設計想法?</li>
<li>nginx主要用途?</li>
<li>nginx work connection數量設定想法？為何要設定為1024?</li>
<li>db connection數量設定想法？</li>
<li>部署雲端，除了SSH外，是否有其他更安全的部署方式？</li>
<li>有用過Redis?</li>
<li>有用過Ruby on Rails?</li>
<li>有用過什麼測試框架?</li>
<li>有用過什麼CI&#x2F;CD工具?</li>
<li>如果面對有百萬等級用戶，你會使用什麼服務架構?</li>
<li>有過與同事發生衝突的經驗嗎?如何排除？</li>
</ul>
</li>
<li>解說目前公司團隊規模跟文化。</li>
<li>解說公司如何發想一個產品到安排實作過程。</li>
<li>解說職務內容，需要哪些技能、會負責哪個產品。</li>
</ul>
<p><strong>學習與檢討</strong></p>
<ul>
<li>關於參數設定，應該要多了解一下，例如nginx的work connection數量設定，為何要設定為1024?，db connection數量設定想法?</li>
<li>需導入測試框架與CI&#x2F;CD，有成熟產品的公司基本上都會著重在這兩部分，值得學習。</li>
<li>大流量處理經驗，這部分比較欠缺。</li>
<li>內部對工程師要求，每次交付都需要寫測試單元，這部分對產品品質有一定保障。</li>
<li>公司會針對筆試跟面試做出完整回饋，此部分有別於其他公司，對彼此成長很有幫助。</li>
<li>這次為第二階段技術面試，如有合格會再安排第三階段面試，再與部門主管面談公司環境、薪資等等。</li>
</ul>
<h3 id="主管視訊面試-二面"><a href="#主管視訊面試-二面" class="headerlink" title="主管視訊面試(二面):"></a>主管視訊面試(二面):</h3><p>At 2022&#x2F;12&#x2F;08 14:00<br><strong>提問問題</strong>:</p>
<ul>
<li>職務<ul>
<li>協同合作方式，從想法-&gt;規劃-&gt;實作-&gt;測試-&gt;上線-&gt;維護整個過程。</li>
<li>如何管理技術團隊，有導入一些開發流程(例如Scrum)？</li>
<li>如何分配團隊成員的任務與時間?</li>
<li>選用Ruby on Rails的原因?有採用其他方案?</li>
<li>在導入k8s有遇到哪些問題？</li>
<li>測試覆蓋率想法。</li>
</ul>
</li>
<li>公司<ul>
<li>團隊組成？行銷與技術成員佔比？</li>
<li>獲利模式，內部產品與外部接案？</li>
<li>公司文化理念。</li>
<li>老闆願景。</li>
<li>矽谷資本投資過程。</li>
</ul>
</li>
<li>福利<ul>
<li>薪資。</li>
<li>獎金。</li>
<li>配備。</li>
<li>工作型態(進公司、遠端)。</li>
<li>其他。</li>
</ul>
</li>
</ul>
<p><strong>面試內容</strong>:<br>come soon~</p>
<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">交付項目,</span> <span class="string">Deliverable,</span> <span class="string">de-live-rable</span></span><br><span class="line"><span class="string">未實作任務,</span> <span class="string">Unimplemented</span> <span class="string">Task,</span> <span class="string">un-im-ple-ment-ed</span> <span class="string">task</span></span><br><span class="line"><span class="string">藥局,</span> <span class="string">Pharmacy,</span> <span class="string">phar-ma-cy</span></span><br><span class="line"><span class="string">關聯性排序,</span> <span class="string">Related</span> <span class="string">Sorting,</span> <span class="string">re-lated</span> <span class="string">sort-ing</span></span><br><span class="line"><span class="string">導入自動化測試,</span> <span class="string">Import</span> <span class="string">Automated</span> <span class="string">Testing,</span> <span class="string">im-port</span> <span class="string">auto-mat-ed</span> <span class="string">test-ing</span></span><br><span class="line"><span class="string">容器,</span> <span class="string">Container,</span> <span class="string">con-tai-ner</span></span><br><span class="line"><span class="string">理解需求,</span> <span class="string">Understand</span> <span class="string">Requirement,</span> <span class="string">un-der-stand</span> <span class="string">re-quire-ment</span></span><br><span class="line"><span class="string">餘額不足,</span> <span class="string">Insufficient</span> <span class="string">Balance,</span> <span class="string">in-suf-fi-cient</span> <span class="string">bal-ance</span></span><br><span class="line"><span class="string">面試筆試,</span> <span class="string">Interview</span> <span class="string">Written</span> <span class="string">Test,</span> <span class="string">in-ter-view</span> <span class="string">writ-ten</span> <span class="string">test</span></span><br><span class="line"><span class="string">效能分析,</span> <span class="string">Performance</span> <span class="string">Analysis,</span> <span class="string">per-form-ance</span> <span class="string">ana-ly-sis</span></span><br><span class="line"><span class="string">架構圖,</span> <span class="string">Architecture</span> <span class="string">Diagram,</span> <span class="string">arch-itec-ture</span> <span class="string">dia-gram</span></span><br><span class="line"><span class="string">亞洲美國多元技術協會(台北搖籃計畫),</span> <span class="string">Asia</span> <span class="string">America</span> <span class="string">Multi-Technology</span> <span class="string">Association</span></span><br></pre></td></tr></table></figure>



]]></content>
      <tags>
        <tag>Backend</tag>
        <tag>Python</tag>
        <tag>作品集</tag>
        <tag>面試</tag>
        <tag>Django</tag>
      </tags>
  </entry>
  <entry>
    <title>後端工程師面試-資料庫篇</title>
    <url>/2022/12/20/leetcode/uinterview/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>前陣子進行環球誠信後端工程師面試，試題為資料庫操作各種問題，過程中發現滿多沒用過的語法以及過去比較少用SQL處理複雜的事務，事後再針對考題進行複盤練習。</p>
<h1 id="原始碼"><a href="#原始碼" class="headerlink" title="原始碼"></a>原始碼</h1><p>在phantom_mask專案的Django新增一個uinterview應用，實現考題上所有需要的測試資料以及各項考題單元測試。<br><a href="https://github.com/wenchan3918/phantom_mask">Github code</a></p>
<h2 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h2><ul>
<li>匯入測試資料<code>python manage.py insert_uinterview_test_data</code></li>
<li>所有試題測試輸出<code>python manage.py test_uinterview</code></li>
<li>單一試題測試輸出<code>pymanage test_uinterview --show_sql 1 --case 1</code><ul>
<li>show_sql: 是否顯示已執行SQL，預設為0</li>
<li>case: 測試試題編號，範圍為1~17</li>
</ul>
</li>
</ul>
<h1 id="題目一"><a href="#題目一" class="headerlink" title="題目一"></a>題目一</h1><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>如果客户的deliver_date和order_date相同，則該訂單為real-time order，<br>否則都為plan order 查 詢表格中real-time order所佔的百分比，四捨五入到小數點後2位。</p>
<figure class="highlight console"><table><tr><td class="code"><pre><span class="line">==================== Delivery Table ====================</span><br><span class="line">  id    customer_id  order_date    delivery_date</span><br><span class="line">----  -------------  ------------  ---------------</span><br><span class="line"> 208              1  2019-08-01    2019-08-02</span><br><span class="line"> 209              5  2019-08-02    2019-08-02</span><br><span class="line"> 210              1  2019-08-11    2019-08-11</span><br><span class="line"> 211              3  2019-08-24    2019-08-26</span><br><span class="line"> 212              4  2019-08-21    2019-08-22</span><br><span class="line"> 213              2  2019-08-11    2019-08-13</span><br></pre></td></tr></table></figure>

<h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight console"><table><tr><td class="code"><pre><span class="line">&#123;&#x27;real_time_order_percent&#x27;: 33.33&#125;</span><br></pre></td></tr></table></figure>

<h2 id="解法一"><a href="#解法一" class="headerlink" title="解法一"></a>解法一</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Delivery test_case_1</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 1</span></span><br><span class="line"><span class="comment"># 使用ORM</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 先取得real_time_order的數量</span></span><br><span class="line"><span class="comment"># 使用F()進行其他欄位比較</span></span><br><span class="line">real_order_count = Delivery.objects \</span><br><span class="line">    .<span class="built_in">filter</span>(delivery_date=F(<span class="string">&#x27;order_date&#x27;</span>)) \</span><br><span class="line">    .count()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 透過aggregate()函數進行聚合計算總筆數</span></span><br><span class="line"><span class="comment"># 需*100.0，否則會被當成整數</span></span><br><span class="line"><span class="comment"># 使用Cast(value,type)函數將數值轉換為float</span></span><br><span class="line">queryset = Delivery.objects.aggregate( \</span><br><span class="line">    real_time_order_percent=Cast( </span><br><span class="line">        Round(real_order_count * <span class="number">100.0</span> / Count(<span class="string">&#x27;*&#x27;</span>)),</span><br><span class="line">        FloatField()</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(queryset)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment"># &#123;&#x27;real_time_order_percent&#x27;: 33.33&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="解法二"><a href="#解法二" class="headerlink" title="解法二"></a>解法二</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Delivery test_case_1_2</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 2</span></span><br><span class="line"><span class="comment"># 使用SQL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> connection.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">    cursor.execute(</span><br><span class="line">        <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        SELECT CAST(</span></span><br><span class="line"><span class="string">                    ROUND(</span></span><br><span class="line"><span class="string">                        (SELECT COUNT(*) </span></span><br><span class="line"><span class="string">                        FROM uinterview_delivery</span></span><br><span class="line"><span class="string">                        -- 需*100.0，否則會被當成int</span></span><br><span class="line"><span class="string">                        WHERE uinterview_delivery.delivery_date = uinterview_delivery.order_date) * 100.0  / COUNT(*)</span></span><br><span class="line"><span class="string">                    , 2) AS double precision) AS real_time_order_percent</span></span><br><span class="line"><span class="string">        FROM uinterview_delivery</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    utils.print_cursor(cursor)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment">#   real_time_order_percent</span></span><br><span class="line"><span class="comment"># -------------------------</span></span><br><span class="line"><span class="comment">#                     33.33</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="題目二"><a href="#題目二" class="headerlink" title="題目二"></a>題目二</h1><h2 id="Question-1"><a href="#Question-1" class="headerlink" title="Question"></a>Question</h2><p>表格中有重複email的資料，當資料中有重複的email時將is_delete標記為true，保留Id最小的資料。</p>
<figure class="highlight console"><table><tr><td class="code"><pre><span class="line">=============== Email Table ===============</span><br><span class="line">  id  email              is_delete</span><br><span class="line">----  -----------------  -----------</span><br><span class="line">  96  alan@gexample.com  False</span><br><span class="line">  95  bob@gexample.com   False</span><br><span class="line">  94  alan@gexample.com  False</span><br></pre></td></tr></table></figure>

<h2 id="Answer-1"><a href="#Answer-1" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight console"><table><tr><td class="code"><pre><span class="line">=============== Email Table ===============</span><br><span class="line">  id  email              is_delete</span><br><span class="line">----  -----------------  -----------</span><br><span class="line">  94  alan@gexample.com  False</span><br><span class="line">  95  bob@gexample.com   False</span><br><span class="line">  96  alan@gexample.com  True</span><br></pre></td></tr></table></figure>

<h2 id="解法一-1"><a href="#解法一-1" class="headerlink" title="解法一"></a>解法一</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Email test_case_1</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 3</span></span><br><span class="line"><span class="comment"># 使用ORM</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 透過distinct(&#x27;email&#x27;)找出不重覆Email的id，並以email,id進行降序排序</span></span><br><span class="line">keep_email_ids = Email.objects \</span><br><span class="line">    .values_list(<span class="string">&#x27;id&#x27;</span>, flat=<span class="literal">True</span>) \</span><br><span class="line">    .distinct(<span class="string">&#x27;email&#x27;</span>) \</span><br><span class="line">    .order_by(<span class="string">&#x27;email&#x27;</span>, <span class="string">&#x27;id&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 再透過exclude(id__in=keep_email_ids)排除不重覆的id，將is_delete標記為true</span></span><br><span class="line">Email.objects.exclude(id__in=keep_email_ids).update(is_delete=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">utils.print_queryset(Email.objects.<span class="built_in">all</span>().order_by(<span class="string">&#x27;id&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment"># =============== Email Table ===============</span></span><br><span class="line"><span class="comment">#   id  email              is_delete</span></span><br><span class="line"><span class="comment"># ----  -----------------  -----------</span></span><br><span class="line"><span class="comment">#   94  alan@gexample.com  False</span></span><br><span class="line"><span class="comment">#   95  bob@gexample.com   False</span></span><br><span class="line"><span class="comment">#   96  alan@gexample.com  True</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="解法二-1"><a href="#解法二-1" class="headerlink" title="解法二"></a>解法二</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Email test_case_1_2</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 4</span></span><br><span class="line"><span class="comment"># 使用SQL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> connection.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">    cursor.execute(</span><br><span class="line">        <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">         UPDATE uinterview_email</span></span><br><span class="line"><span class="string">         SET is_delete = true </span></span><br><span class="line"><span class="string">         WHERE NOT (id IN (</span></span><br><span class="line"><span class="string">                        SELECT DISTINCT ON (email) id </span></span><br><span class="line"><span class="string">                        FROM uinterview_email </span></span><br><span class="line"><span class="string">                        ORDER BY email ASC, id ASC)</span></span><br><span class="line"><span class="string">                  )</span></span><br><span class="line"><span class="string">         RETURNING *;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    utils.print_cursor(cursor)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment">#  id  email              is_delete</span></span><br><span class="line"><span class="comment"># ----  -----------------  -----------</span></span><br><span class="line"><span class="comment">#  96  alan@gexample.com  True</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="題目三"><a href="#題目三" class="headerlink" title="題目三"></a>題目三</h1><h2 id="Question-2"><a href="#Question-2" class="headerlink" title="Question"></a>Question</h2><p>找出表格中員工的獎金小於750元或沒有領到獎金的員工姓名和獎金。</p>
<figure class="highlight console"><table><tr><td class="code"><pre><span class="line">==================== Employee Table ====================</span><br><span class="line">  id  name    sex    sex2</span><br><span class="line">----  ------  -----  ------</span><br><span class="line"> 109  John    M</span><br><span class="line"> 110  Dan     F</span><br><span class="line"> 111  Brad    M</span><br><span class="line"> 112  Tomas   F</span><br><span class="line">=============== Employee Bonus Table ===============</span><br><span class="line">  id    employee    bonus</span><br><span class="line">----  ----------  -------</span><br><span class="line">  55         110      500</span><br><span class="line">  56         112     2000</span><br></pre></td></tr></table></figure>

<h2 id="Answer-2"><a href="#Answer-2" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight console"><table><tr><td class="code"><pre><span class="line">name: John, bonus: []</span><br><span class="line">name: Dan, bonus: [500]</span><br><span class="line">name: Brad, bonus: []</span><br></pre></td></tr></table></figure>

<h2 id="解法一-2"><a href="#解法一-2" class="headerlink" title="解法一"></a>解法一</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Employee test_case_1</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 5</span></span><br><span class="line"><span class="comment"># 使用ORM</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 先找出獎金大於750元的employee</span></span><br><span class="line">gte_750_bonus_employee_ids = EmployeeBonus.objects \ </span><br><span class="line">    .<span class="built_in">filter</span>(bonus__gte=<span class="number">750</span>) \</span><br><span class="line">    .values_list(<span class="string">&#x27;employee_id&#x27;</span>, flat=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 再透過exclude(id__in=gte_750_bonus_employee_ids)排除大於750元員工</span></span><br><span class="line"><span class="comment"># 剩下的employee就是沒有獎金或低於750元</span></span><br><span class="line">queryset = Employee.objects.exclude(id__in=gte_750_bonus_employee_ids)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> employee <span class="keyword">in</span> queryset:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;name: <span class="subst">&#123;employee.name&#125;</span>, bonus: <span class="subst">&#123;[<span class="built_in">int</span>(item.bonus) <span class="keyword">for</span> item <span class="keyword">in</span> employee.bonus.<span class="built_in">all</span>()]&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment"># name: John, bonus: []</span></span><br><span class="line"><span class="comment"># name: Dan, bonus: [500]</span></span><br><span class="line"><span class="comment"># name: Brad, bonus: []</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="解法二-2"><a href="#解法二-2" class="headerlink" title="解法二"></a>解法二</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Employee test_case_1_2</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 6</span></span><br><span class="line"><span class="comment"># 使用SQL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> connection.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">    cursor.execute(</span><br><span class="line">        <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        SELECT U0.id, </span></span><br><span class="line"><span class="string">               U0.name, </span></span><br><span class="line"><span class="string">               U0.sex, </span></span><br><span class="line"><span class="string">               COALESCE(</span></span><br><span class="line"><span class="string">                    (SELECT SUM(U2.bonus) </span></span><br><span class="line"><span class="string">                     FROM uinterview_employeebonus U2</span></span><br><span class="line"><span class="string">                     WHERE U2.employee_id = U0.id), 0) AS bonus</span></span><br><span class="line"><span class="string">        FROM uinterview_employee U0</span></span><br><span class="line"><span class="string">        WHERE NOT (U0.id IN (</span></span><br><span class="line"><span class="string">                        SELECT U1.employee_id </span></span><br><span class="line"><span class="string">                        FROM uinterview_employeebonus U1 </span></span><br><span class="line"><span class="string">                        WHERE U1.bonus &gt;= 750))</span></span><br><span class="line"><span class="string">        ORDER BY bonus, U0.name</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    utils.print_cursor(cursor)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment">#   id  name    sex      bonus</span></span><br><span class="line"><span class="comment"># ----  ------  -----  -------</span></span><br><span class="line"><span class="comment">#  111  Brad    M            0</span></span><br><span class="line"><span class="comment">#  109  John    M            0</span></span><br><span class="line"><span class="comment">#  110  Dan     F          500</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="題目四"><a href="#題目四" class="headerlink" title="題目四"></a>題目四</h1><h2 id="Question-3"><a href="#Question-3" class="headerlink" title="Question"></a>Question</h2><p>員工表格中性別輸入錯誤，請寫一條SQL更新語法，將表格中sex為’M’資料更新為’F’，sex為’F’資料更新為’M’，更新得值請寫回sex2。</p>
<figure class="highlight console"><table><tr><td class="code"><pre><span class="line">==================== Employee Table ====================</span><br><span class="line">  id  name    sex    sex2</span><br><span class="line">----  ------  -----  ------</span><br><span class="line"> 109  John    M</span><br><span class="line"> 110  Dan     F</span><br><span class="line"> 111  Brad    M</span><br><span class="line"> 112  Tomas   F</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Answer-3"><a href="#Answer-3" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight console"><table><tr><td class="code"><pre><span class="line">sex2為題目答案。</span><br><span class="line">==================== Employee Table ====================</span><br><span class="line">  id  name    sex    sex2</span><br><span class="line">----  ------  -----  ------</span><br><span class="line"> 109  John    M      F</span><br><span class="line"> 110  Dan     F      M</span><br><span class="line"> 111  Brad    M      F</span><br><span class="line"> 112  Tomas   F      M</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="解法一-3"><a href="#解法一-3" class="headerlink" title="解法一"></a>解法一</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Employee test_case_2</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 7</span></span><br><span class="line"><span class="comment"># 使用ORM</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 透過CASE WHEN THEN END更新sex2</span></span><br><span class="line">Employee.objects.<span class="built_in">all</span>().update(</span><br><span class="line">    sex2=Case(When(sex=<span class="string">&#x27;M&#x27;</span>, then=Value(<span class="string">&#x27;F&#x27;</span>)), default=Value(<span class="string">&#x27;M&#x27;</span>))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">utils.print_queryset(Employee.objects.<span class="built_in">all</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment"># ==================== Employee Table ====================</span></span><br><span class="line"><span class="comment">#   id  name    sex    sex2</span></span><br><span class="line"><span class="comment"># ----  ------  -----  ------</span></span><br><span class="line"><span class="comment">#  109  John    M      F</span></span><br><span class="line"><span class="comment">#  110  Dan     F      M</span></span><br><span class="line"><span class="comment">#  111  Brad    M      F</span></span><br><span class="line"><span class="comment">#  112  Tomas   F      M</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="解法二-3"><a href="#解法二-3" class="headerlink" title="解法二"></a>解法二</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Employee test_case_2_2</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 8</span></span><br><span class="line"><span class="comment"># 使用SQL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> connection.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">    cursor.execute(</span><br><span class="line">        <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">       UPDATE uinterview_employee </span></span><br><span class="line"><span class="string">       SET sex2 = CASE </span></span><br><span class="line"><span class="string">                    WHEN (sex = &#x27;M&#x27;) THEN &#x27;F&#x27; </span></span><br><span class="line"><span class="string">                    ELSE &#x27;M&#x27; </span></span><br><span class="line"><span class="string">                  END</span></span><br><span class="line"><span class="string">       RETURNING *;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    utils.print_cursor(cursor)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment">#  id  name    sex    sex2</span></span><br><span class="line"><span class="comment"># ----  ------  -----  ------</span></span><br><span class="line"><span class="comment"># 109  John    M      F</span></span><br><span class="line"><span class="comment"># 110  Dan     F      M</span></span><br><span class="line"><span class="comment"># 111  Brad    M      F</span></span><br><span class="line"><span class="comment"># 112  Tomas   F      M</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="題目五"><a href="#題目五" class="headerlink" title="題目五"></a>題目五</h1><h2 id="Question-4"><a href="#Question-4" class="headerlink" title="Question"></a>Question</h2><p>假設今天是2019-6-23，找出表格中找出過去一年内銷售數量少於10的產品id和名稱，並排除available_date小於一個月的產品。</p>
<figure class="highlight console"><table><tr><td class="code"><pre><span class="line">=============== Product Table ===============</span><br><span class="line">  id  name      available_date</span><br><span class="line">----  --------  -------------------</span><br><span class="line">   1  Product1  2010-01-01 00:00:00</span><br><span class="line">   2  Product2  2012-05-12 00:00:00</span><br><span class="line">   3  Product3  2019-06-10 00:00:00</span><br><span class="line">   4  Product4  2019-06-01 00:00:00</span><br><span class="line">   5  Product5  2008-09-21 00:00:00</span><br><span class="line">==================== Order Table ====================</span><br><span class="line">  id    product    qty  dispatch_date</span><br><span class="line">----  ---------  -----  -------------------</span><br><span class="line">   1          1      4  2018-07-26 00:00:00</span><br><span class="line">   2          1      2  2018-11-05 00:00:00</span><br><span class="line">   3          3      1  2019-06-11 00:00:00</span><br><span class="line">   4          4      8  2019-06-05 00:00:00</span><br><span class="line">   5          4      6  2019-06-20 00:00:00</span><br><span class="line">   6          5      5  2009-02-02 00:00:00</span><br><span class="line">   7          5      9  2010-04-13 00:00:00</span><br></pre></td></tr></table></figure>

<h2 id="Answer-4"><a href="#Answer-4" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight console"><table><tr><td class="code"><pre><span class="line">  id  name      available_date         total_of_qty</span><br><span class="line">----  --------  -------------------  --------------</span><br><span class="line">   3  Product3  2019-06-10 00:00:00               1</span><br></pre></td></tr></table></figure>

<h2 id="解法一-4"><a href="#解法一-4" class="headerlink" title="解法一"></a>解法一</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Product test_case_1</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 9</span></span><br><span class="line"><span class="comment"># 使用ORM</span></span><br><span class="line"></span><br><span class="line">now = datetime.strptime(<span class="string">&quot;2019-6-23&quot;</span>, <span class="string">&quot;%Y-%m-%d&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 先使用Subquery先統計各產品一年內的銷售總數total_of_qty</span></span><br><span class="line">order_queryset = Order.objects \</span><br><span class="line">    .<span class="built_in">filter</span>(product=OuterRef(<span class="string">&#x27;pk&#x27;</span>)) \</span><br><span class="line">    .<span class="built_in">filter</span>(dispatch_date__gte=now - timedelta(days=<span class="number">365</span>)) \</span><br><span class="line">    .annotate(total_of_qty=Coalesce(Func(<span class="string">&#x27;qty&#x27;</span>, function=<span class="string">&#x27;Sum&#x27;</span>), <span class="number">0</span>)) \</span><br><span class="line">    .values(<span class="string">&#x27;total_of_qty&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 再把total_of_qty設定給產品</span></span><br><span class="line">queryset = Product.objects \</span><br><span class="line">    .annotate(qty_total=Subquery(order_queryset)) \</span><br><span class="line">    .<span class="built_in">filter</span>(total_of_qty__lt=<span class="number">10</span>) \</span><br><span class="line">    .<span class="built_in">filter</span>(available_date__gte=now - timedelta(days=<span class="number">30</span>))</span><br><span class="line"></span><br><span class="line">utils.print_queryset(queryset, [<span class="string">&#x27;total_of_qty&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment">#   id  name      available_date         total_of_qty</span></span><br><span class="line"><span class="comment"># ----  --------  -------------------  --------------</span></span><br><span class="line"><span class="comment">#    3  Product3  2019-06-10 00:00:00               1</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="解法二-4"><a href="#解法二-4" class="headerlink" title="解法二"></a>解法二</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Product test_case_1_2_2</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 10</span></span><br><span class="line"><span class="comment"># 使用SQL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> connection.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">    cursor.execute(</span><br><span class="line">        <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        SELECT id, </span></span><br><span class="line"><span class="string">               name, </span></span><br><span class="line"><span class="string">               available_date, </span></span><br><span class="line"><span class="string">               (SELECT COALESCE(Sum(U1.qty), 0) </span></span><br><span class="line"><span class="string">                FROM uinterview_order U1 </span></span><br><span class="line"><span class="string">                WHERE (U1.product_id = U0.id </span></span><br><span class="line"><span class="string">                      AND dispatch_date &gt;= &#x27;2018-06-23T00:00:00&#x27;::timestamp)) AS total_of_qty </span></span><br><span class="line"><span class="string">        FROM uinterview_product U0</span></span><br><span class="line"><span class="string">        WHERE ((SELECT COALESCE(Sum(U2.qty), 0) </span></span><br><span class="line"><span class="string">                FROM uinterview_order U2</span></span><br><span class="line"><span class="string">                WHERE (U2.product_id = U0.id AND U2.dispatch_date &gt;= &#x27;2018-06-23T00:00:00&#x27;::timestamp)) &lt; 10 </span></span><br><span class="line"><span class="string">                </span></span><br><span class="line"><span class="string">                AND U0.available_date &gt;= &#x27;2019-05-24T00:00:00&#x27;::timestamp) </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    utils.print_cursor(cursor)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment">#   id  name      available_date         total_of_qty</span></span><br><span class="line"><span class="comment"># ----  --------  -------------------  --------------</span></span><br><span class="line"><span class="comment">#    3  Product3  2019-06-10 00:00:00               1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="題目六"><a href="#題目六" class="headerlink" title="題目六"></a>題目六</h1><h2 id="Question-5"><a href="#Question-5" class="headerlink" title="Question"></a>Question</h2><p>找出表格中所有部門的學生人數，並按學生人數由大到小、部門名稱由小到大排序。</p>
<figure class="highlight console"><table><tr><td class="code"><pre><span class="line">========== Department Table ==========</span><br><span class="line">  id  name</span><br><span class="line">----  -----------</span><br><span class="line">   1  Engineering</span><br><span class="line">   2  Science</span><br><span class="line">   3  Law</span><br><span class="line">==================== Student Table ====================</span><br><span class="line">  id    department  name    gender</span><br><span class="line">----  ------------  ------  --------</span><br><span class="line">   1             1  Jack    M</span><br><span class="line">   2             1  Jan     F</span><br><span class="line">   3             2  Mark    M</span><br></pre></td></tr></table></figure>

<h2 id="Answer-5"><a href="#Answer-5" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight console"><table><tr><td class="code"><pre><span class="line">  id  name           total_of_students</span><br><span class="line">----  -----------  -------------------</span><br><span class="line">   1  Engineering                    2</span><br><span class="line">   2  Science                        1</span><br><span class="line">   3  Law                            0</span><br></pre></td></tr></table></figure>

<h2 id="解法一-5"><a href="#解法一-5" class="headerlink" title="解法一"></a>解法一</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Department test_case_1</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 11</span></span><br><span class="line"><span class="comment"># 使用ORM</span></span><br><span class="line"></span><br><span class="line">student_queryset = Student.objects \</span><br><span class="line">    .<span class="built_in">filter</span>(department=OuterRef(<span class="string">&#x27;pk&#x27;</span>)) \</span><br><span class="line">    .annotate(total_of_students=Coalesce(Func(<span class="string">&#x27;id&#x27;</span>, function=<span class="string">&#x27;Count&#x27;</span>), <span class="number">0</span>)) \</span><br><span class="line">    .values(<span class="string">&#x27;total_of_students&#x27;</span>)</span><br><span class="line"></span><br><span class="line">department_queryset = Department.objects \</span><br><span class="line">    .annotate(total_of_students=Subquery(student_queryset)) \</span><br><span class="line">    .order_by(<span class="string">&#x27;-total_of_students&#x27;</span>, <span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"></span><br><span class="line">utils.print_queryset(department_queryset, [<span class="string">&#x27;total_of_students&#x27;</span>])</span><br><span class="line"><span class="comment"># for department in department_queryset:</span></span><br><span class="line"><span class="comment">#     department_name = str(department.name).ljust(12, &quot; &quot;)</span></span><br><span class="line"><span class="comment">#     department_total_of_students = str(department.total_of_students).rjust(2, &quot; &quot;)</span></span><br><span class="line"><span class="comment">#     print(f&#x27;人數: &#123;department_total_of_students&#125;, 部門: &#123;department_name&#125;&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment"># =============== Department Table ===============</span></span><br><span class="line"><span class="comment">#   id  name           total_of_students</span></span><br><span class="line"><span class="comment"># ----  -----------  -------------------</span></span><br><span class="line"><span class="comment">#    1  Engineering                    2</span></span><br><span class="line"><span class="comment">#    2  Science                        1</span></span><br><span class="line"><span class="comment">#    3  Law                            0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="解法二-5"><a href="#解法二-5" class="headerlink" title="解法二"></a>解法二</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Department test_case_1_2</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 12</span></span><br><span class="line"><span class="comment"># 使用SQL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> connection.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">    cursor.execute(</span><br><span class="line">        <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        SELECT id, </span></span><br><span class="line"><span class="string">               name, </span></span><br><span class="line"><span class="string">               (SELECT COALESCE(Count(*), 0)</span></span><br><span class="line"><span class="string">                FROM uinterview_student U1</span></span><br><span class="line"><span class="string">                WHERE U1.department_id = U0.id) AS total_of_students </span></span><br><span class="line"><span class="string">        FROM uinterview_department U0 </span></span><br><span class="line"><span class="string">        ORDER BY total_of_students DESC, name ASC;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    utils.print_cursor(cursor)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment">#   id  name           total_of_students</span></span><br><span class="line"><span class="comment"># ----  -----------  -------------------</span></span><br><span class="line"><span class="comment">#    1  Engineering                    2</span></span><br><span class="line"><span class="comment">#    2  Science                        1</span></span><br><span class="line"><span class="comment">#    3  Law                            0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="題目七"><a href="#題目七" class="headerlink" title="題目七"></a>題目七</h1><h2 id="Question-6"><a href="#Question-6" class="headerlink" title="Question"></a>Question</h2><p>找出表格中評論最多部電影的用戶，如果評論數相同，依用户名稱由小到大排序。</p>
<figure class="highlight console"><table><tr><td class="code"><pre><span class="line">========== Movie Table ==========</span><br><span class="line">  id  name</span><br><span class="line">----  --------</span><br><span class="line">   1  Avengers</span><br><span class="line">   2  Frozen 2</span><br><span class="line">   3  Joker</span><br><span class="line">========== User Table ==========</span><br><span class="line">  id  name</span><br><span class="line">----  ------</span><br><span class="line">   1  Daniel</span><br><span class="line">   2  Monica</span><br><span class="line">   3  Maria</span><br><span class="line">   4  James</span><br><span class="line">========================= Movie Rating Table =========================</span><br><span class="line">  id    movie    user    rating  create_date</span><br><span class="line">----  -------  ------  --------  -------------</span><br><span class="line">   1        1       1         3  2020-01-12</span><br><span class="line">   2        1       2         4  2020-02-11</span><br><span class="line">   3        1       3         2  2020-02-12</span><br><span class="line">   4        1       4         1  2020-01-01</span><br><span class="line">   5        2       1         5  2020-02-17</span><br><span class="line">   6        2       2         2  2020-02-01</span><br><span class="line">   7        2       3         2  2020-03-01</span><br><span class="line">   8        3       1         3  2020-02-22</span><br><span class="line">   9        3       2         4  2020-02-25</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Answer-6"><a href="#Answer-6" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight console"><table><tr><td class="code"><pre><span class="line">  id  name      total_of_comment  is_top</span><br><span class="line">----  ------  ------------------  --------</span><br><span class="line">   1  Daniel                   3  True</span><br><span class="line">   2  Monica                   3  True</span><br><span class="line">   3  Maria                    2</span><br><span class="line">   4  James                    1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="解法一-6"><a href="#解法一-6" class="headerlink" title="解法一"></a>解法一</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Movie test_case_1</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 13</span></span><br><span class="line"><span class="comment"># 使用ORM</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 先用Subquery統計各別用戶的發表評論數total_of_comment</span></span><br><span class="line">movie_comment_queryset = MovieRating.objects \</span><br><span class="line">    .<span class="built_in">filter</span>(user=OuterRef(<span class="string">&#x27;pk&#x27;</span>)) \</span><br><span class="line">    .annotate(total_of_comment=Func(<span class="string">&#x27;id&#x27;</span>, function=<span class="string">&#x27;Count&#x27;</span>)) \</span><br><span class="line">    .values(<span class="string">&#x27;total_of_comment&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 將total_of_comment設定給用戶</span></span><br><span class="line">user_queryset = User.objects \</span><br><span class="line">    .annotate(total_of_comment=Subquery(movie_comment_queryset)) \</span><br><span class="line">    .order_by(<span class="string">&#x27;-total_of_comment&#x27;</span>, <span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用第一紀錄比對total_of_comment，如果相同則設定is_top=True</span></span><br><span class="line">user_queryset = user_queryset \</span><br><span class="line">    .annotate(is_top= \</span><br><span class="line">         Case(When(total_of_comment=user_queryset.first().total_of_comment, then=<span class="literal">True</span>), )</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">utils.print_queryset(user_queryset, [<span class="string">&#x27;total_of_comment&#x27;</span>, <span class="string">&#x27;is_top&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment"># ==================== User Table ====================</span></span><br><span class="line"><span class="comment">#   id  name      total_of_comment  is_top</span></span><br><span class="line"><span class="comment"># ----  ------  ------------------  --------</span></span><br><span class="line"><span class="comment">#    1  Daniel                   3  True</span></span><br><span class="line"><span class="comment">#    2  Monica                   3  True</span></span><br><span class="line"><span class="comment">#    3  Maria                    2</span></span><br><span class="line"><span class="comment">#    4  James                    1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="解法二-6"><a href="#解法二-6" class="headerlink" title="解法二"></a>解法二</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Movie test_case_1_2</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 14</span></span><br><span class="line"><span class="comment"># 使用SQL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> connection.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">    cursor.execute(</span><br><span class="line">        <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">         -- 透過GROUP BY user_id後在進行COUNT(*)，可以得到每個user的評論次數</span></span><br><span class="line"><span class="string">         SELECT * </span></span><br><span class="line"><span class="string">         FROM (SELECT user_id,</span></span><br><span class="line"><span class="string">                       (SELECT name FROM uinterview_user WHERE id = user_id) AS user_name,</span></span><br><span class="line"><span class="string">                       COUNT(*) AS total_of_comment</span></span><br><span class="line"><span class="string">               FROM uinterview_movierating</span></span><br><span class="line"><span class="string">               GROUP BY user_id</span></span><br><span class="line"><span class="string">               ORDER BY total_of_comment DESC, user_name ASC) U0</span></span><br><span class="line"><span class="string">         -- 只顯示最多評論次數的用戶</span></span><br><span class="line"><span class="string">         WHERE total_of_comment = ( SELECT MAX(total_of_comment) </span></span><br><span class="line"><span class="string">                                     FROM (SELECT user_id,COUNT(*) AS total_of_comment</span></span><br><span class="line"><span class="string">                                            FROM uinterview_movierating</span></span><br><span class="line"><span class="string">                                            GROUP BY user_id) U1</span></span><br><span class="line"><span class="string">                                  )</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    utils.print_cursor(cursor)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment">#   user_id  user_name      total_of_comment</span></span><br><span class="line"><span class="comment"># ---------  -----------  ------------------</span></span><br><span class="line"><span class="comment">#         1  Daniel                        3</span></span><br><span class="line"><span class="comment">#         2  Monica                        3</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="題目八"><a href="#題目八" class="headerlink" title="題目八"></a>題目八</h1><h2 id="Question-7"><a href="#Question-7" class="headerlink" title="Question"></a>Question</h2><p>並找出2020&#x2F;2月平均評分最高的電影名稱，如果評分相同，依電影名稱由小到大排序。</p>
<figure class="highlight console"><table><tr><td class="code"><pre><span class="line">========== Movie Table ==========</span><br><span class="line">  id  name</span><br><span class="line">----  --------</span><br><span class="line">   1  Avengers</span><br><span class="line">   2  Frozen 2</span><br><span class="line">   3  Joker</span><br><span class="line">========== User Table ==========</span><br><span class="line">  id  name</span><br><span class="line">----  ------</span><br><span class="line">   1  Daniel</span><br><span class="line">   2  Monica</span><br><span class="line">   3  Maria</span><br><span class="line">   4  James</span><br><span class="line">========================= Movie Rating Table =========================</span><br><span class="line">  id    movie    user    rating  create_date</span><br><span class="line">----  -------  ------  --------  -------------</span><br><span class="line">   1        1       1         3  2020-01-12</span><br><span class="line">   2        1       2         4  2020-02-11</span><br><span class="line">   3        1       3         2  2020-02-12</span><br><span class="line">   4        1       4         1  2020-01-01</span><br><span class="line">   5        2       1         5  2020-02-17</span><br><span class="line">   6        2       2         2  2020-02-01</span><br><span class="line">   7        2       3         2  2020-03-01</span><br><span class="line">   8        3       1         3  2020-02-22</span><br><span class="line">   9        3       2         4  2020-02-25</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Answer-7"><a href="#Answer-7" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight console"><table><tr><td class="code"><pre><span class="line">  id  name        total_of_rating  is_top</span><br><span class="line">----  --------  -----------------  --------</span><br><span class="line">   2  Frozen 2                  7  True</span><br><span class="line">   3  Joker                     7  True</span><br><span class="line">   1  Avengers                  6</span><br></pre></td></tr></table></figure>

<h2 id="解法一-7"><a href="#解法一-7" class="headerlink" title="解法一"></a>解法一</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Movie test_case_1</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 15</span></span><br><span class="line"><span class="comment"># 使用ORM</span></span><br><span class="line"></span><br><span class="line">movie_rating_queryset = MovieRating.objects</span><br><span class="line">    .<span class="built_in">filter</span>(movie=OuterRef(<span class="string">&#x27;pk&#x27;</span>))</span><br><span class="line">    .<span class="built_in">filter</span>(create_date__year=<span class="number">2020</span>, create_date__month=<span class="number">2</span>)</span><br><span class="line">    .annotate(total_of_rating=Func(<span class="string">&#x27;rating&#x27;</span>, function=<span class="string">&#x27;Sum&#x27;</span>))</span><br><span class="line">    .values(<span class="string">&#x27;total_of_rating&#x27;</span>)</span><br><span class="line"></span><br><span class="line">movie_queryset = Movie.objects</span><br><span class="line">    .annotate(total_of_rating=Subquery(movie_rating_queryset))</span><br><span class="line">    .order_by(<span class="string">&#x27;-total_of_rating&#x27;</span>, <span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"></span><br><span class="line">movie_queryset = movie_queryset</span><br><span class="line">    .annotate(is_most=</span><br><span class="line">                  Case(When(total_of_rating=movie_queryset.first().total_of_rating, then=<span class="literal">True</span>), )</span><br><span class="line">              )</span><br><span class="line"></span><br><span class="line">utils.print_queryset(movie_queryset, [<span class="string">&#x27;total_of_rating&#x27;</span>, <span class="string">&#x27;is_most&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment"># ==================== Movie Table ====================</span></span><br><span class="line"><span class="comment">#   id  name        total_of_rating  is_top</span></span><br><span class="line"><span class="comment"># ----  --------  -----------------  --------</span></span><br><span class="line"><span class="comment">#    2  Frozen 2                  7  True</span></span><br><span class="line"><span class="comment">#    3  Joker                     7  True</span></span><br><span class="line"><span class="comment">#    1  Avengers                  6</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="解法二-7"><a href="#解法二-7" class="headerlink" title="解法二"></a>解法二</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Movie test_case_1_2</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 16</span></span><br><span class="line"><span class="comment"># 使用SQL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> connection.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">    cursor.execute(</span><br><span class="line">        <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">         -- 透過GROUP BY movie_id後在進行SUM(rating)，可以得到每個movie的評分總和</span></span><br><span class="line"><span class="string">         SELECT * </span></span><br><span class="line"><span class="string">         FROM (SELECT movie_id,</span></span><br><span class="line"><span class="string">                      (SELECT name </span></span><br><span class="line"><span class="string">                        FROM uinterview_movie </span></span><br><span class="line"><span class="string">                        WHERE id = movie_id) AS movie_name,</span></span><br><span class="line"><span class="string">                      SUM(rating) AS total_of_rating</span></span><br><span class="line"><span class="string">               FROM uinterview_movierating</span></span><br><span class="line"><span class="string">               WHERE create_date BETWEEN &#x27;2020-02-01&#x27; AND &#x27;2020-02-29&#x27;</span></span><br><span class="line"><span class="string">               GROUP BY movie_id</span></span><br><span class="line"><span class="string">               ORDER BY total_of_rating DESC, movie_name ASC) U0</span></span><br><span class="line"><span class="string">         -- 只顯示最高評分電影</span></span><br><span class="line"><span class="string">         WHERE total_of_rating = ( SELECT MAX(total_of_rating) </span></span><br><span class="line"><span class="string">                                   FROM (SELECT movie_id, SUM(rating) AS total_of_rating</span></span><br><span class="line"><span class="string">                                           FROM uinterview_movierating</span></span><br><span class="line"><span class="string">                                           WHERE create_date BETWEEN &#x27;2020-02-01&#x27; AND &#x27;2020-02-29&#x27;</span></span><br><span class="line"><span class="string">                                           GROUP BY movie_id) U1</span></span><br><span class="line"><span class="string">                                  )</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    utils.print_cursor(cursor)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment">#   movie_id  movie_name      total_of_rating</span></span><br><span class="line"><span class="comment"># ----------  ------------  -----------------</span></span><br><span class="line"><span class="comment">#          2  Frozen 2                      7</span></span><br><span class="line"><span class="comment">#          3  Joker                         7</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="題目九"><a href="#題目九" class="headerlink" title="題目九"></a>題目九</h1><h2 id="Question-8"><a href="#Question-8" class="headerlink" title="Question"></a>Question</h2><p>找出表格中連續4天或以上登入的用户帳號的id和名稱，並按id由小到大排序。<br>(使用OVER 與 PARTITION BY語法來完成)</p>
<figure class="highlight console"><table><tr><td class="code"><pre><span class="line">========== Account Table ==========</span><br><span class="line">  id  name</span><br><span class="line">----  --------</span><br><span class="line">   1  Wick</span><br><span class="line">   7  Jonathan</span><br><span class="line">=============== Account Login Table ===============</span><br><span class="line">  id    account  login_date</span><br><span class="line">----  ---------  ------------</span><br><span class="line">   2          7  2020-05-30</span><br><span class="line">   3          1  2020-05-30</span><br><span class="line">   4          7  2020-05-31</span><br><span class="line">   5          7  2020-06-01</span><br><span class="line">   6          7  2020-06-02</span><br><span class="line">   7          7  2020-06-02</span><br><span class="line">   8          7  2020-06-03</span><br><span class="line">   9          1  2020-06-07</span><br><span class="line">  10          7  2020-06-10</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Answer-8"><a href="#Answer-8" class="headerlink" title="Answer"></a>Answer</h2><figure class="highlight console"><table><tr><td class="code"><pre><span class="line">  account_id  name      login_days    first_login_at</span><br><span class="line">------------  --------  ------------  ----------------</span><br><span class="line">           7  Jonathan  5天           2020-05-30</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="解法一-8"><a href="#解法一-8" class="headerlink" title="解法一"></a>解法一</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Account test_case_1</span></span><br><span class="line"><span class="comment"># python manage.py test_uinterview --case 17</span></span><br><span class="line"><span class="comment"># 使用SQL</span></span><br><span class="line"></span><br><span class="line">consecutive_login_days = <span class="number">4</span></span><br><span class="line"><span class="keyword">with</span> connection.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">    cursor.execute(</span><br><span class="line">        <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">      SELECT account_id, </span></span><br><span class="line"><span class="string">          (SELECT name FROM uinterview_account WHERE id = account_id) AS name,</span></span><br><span class="line"><span class="string">          CONCAT(count(sub_date),&#x27;天&#x27;) AS login_days,</span></span><br><span class="line"><span class="string">          first_login_at </span></span><br><span class="line"><span class="string">      FROM (</span></span><br><span class="line"><span class="string">           SELECT account_id,</span></span><br><span class="line"><span class="string">                  group_seq,</span></span><br><span class="line"><span class="string">                  TO_CHAR(login_date,&#x27;YYYY-mm-dd&#x27;) AS login_date,</span></span><br><span class="line"><span class="string">                  TO_CHAR(sub_date,&#x27;YYYY-mm-dd&#x27;) AS sub_date,</span></span><br><span class="line"><span class="string">                  TO_CHAR(</span></span><br><span class="line"><span class="string">                  CASE </span></span><br><span class="line"><span class="string">                       WHEN group_seq = 1 THEN login_date</span></span><br><span class="line"><span class="string">                       WHEN sub_date = LAG(sub_date,1) OVER(PARTITION BY account_id ORDER BY login_date) </span></span><br><span class="line"><span class="string">                            THEN LAG(login_date,CAST(group_seq AS INT)-1) OVER()</span></span><br><span class="line"><span class="string">                       ELSE login_date </span></span><br><span class="line"><span class="string">                       END</span></span><br><span class="line"><span class="string">                  ,&#x27;YYYY-mm-dd&#x27;) AS first_login_at</span></span><br><span class="line"><span class="string">           FROM (</span></span><br><span class="line"><span class="string">                  -- 如有連續相同sub_date代表是連續登入日期</span></span><br><span class="line"><span class="string">                  -- 例如:</span></span><br><span class="line"><span class="string">                  --   login_date(2022-01-02) - group_seq(1) = 2022-01-01</span></span><br><span class="line"><span class="string">                  --   login_date(2022-01-03) - group_seq(2) = 2022-01-01</span></span><br><span class="line"><span class="string">                  --   login_date(2022-01-04) - group_seq(3) = 2022-01-01</span></span><br><span class="line"><span class="string">                  --   login_date(2022-01-10) - group_seq(4) = 2022-01-06</span></span><br><span class="line"><span class="string">                  SELECT *,</span></span><br><span class="line"><span class="string">                         login_date - (group_seq || &#x27;DAY&#x27;)::INTERVAL AS sub_date</span></span><br><span class="line"><span class="string">                  FROM(</span></span><br><span class="line"><span class="string">                      -- 以group_seq來分組，後續login_date - group_seq天來判斷是否為連續登入</span></span><br><span class="line"><span class="string">                      SELECT *, </span></span><br><span class="line"><span class="string">                             ROW_NUMBER() OVER(PARTITION BY account_id ORDER BY login_date) AS group_seq</span></span><br><span class="line"><span class="string">                      FROM (</span></span><br><span class="line"><span class="string">                              -- 過濾掉同一天多次登入日期，只保留一筆資料</span></span><br><span class="line"><span class="string">                              SELECT DISTINCT account_id ,login_date</span></span><br><span class="line"><span class="string">                              FROM uinterview_accountlogin</span></span><br><span class="line"><span class="string">                              ORDER BY login_date</span></span><br><span class="line"><span class="string">                      ) U0</span></span><br><span class="line"><span class="string">                  ) U1</span></span><br><span class="line"><span class="string">           ) U2</span></span><br><span class="line"><span class="string">      ) U3 </span></span><br><span class="line"><span class="string">      GROUP BY account_id,sub_date,first_login_at  </span></span><br><span class="line"><span class="string">      HAVING count(*) &gt;= <span class="subst">&#123;consecutive_login_days&#125;</span></span></span><br><span class="line"><span class="string">      ORDER BY account_id,first_login_at;</span></span><br><span class="line"><span class="string">      &quot;&quot;&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    utils.print_cursor(cursor)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print result:</span></span><br><span class="line"><span class="comment">#  account_id  name      login_days    first_login_at</span></span><br><span class="line"><span class="comment"># ------------  --------  ------------  ----------------</span></span><br><span class="line"><span class="comment">#           7  Jonathan  5天           2020-05-30</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Keyword"><a href="#Keyword" class="headerlink" title="Keyword"></a>Keyword</h1><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">演算法,</span> <span class="string">Algorithm,</span> <span class="string">al-go-rithm</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>







]]></content>
      <tags>
        <tag>SQL</tag>
        <tag>面試</tag>
        <tag>Django</tag>
        <tag>ORM</tag>
      </tags>
  </entry>
</search>
